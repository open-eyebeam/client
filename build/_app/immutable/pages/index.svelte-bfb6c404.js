import{S as ae,i as oe,s as le,e as y,k as F,c as I,a as S,m as M,d as b,_ as re,b as _,H as B,g as C,I as E,Q as Y,a1 as Vr,T as Oe,t as x,h as X,E as ce,U as ze,a2 as Ee,v as Te,l as j,L as jr,M as zr,a3 as We,w as Q,x as q,y as ee,q as T,o as R,B as te,n as $,p as K,O as z,V as Yr,W as $r,X as Kr,Y as Wr,J as pe,K as de,a4 as we,a5 as qe,a6 as et,a7 as Tr,F as Ze,G as Je,f as Sr,j as ye,N as tt,a8 as Zr,u as Jr,a9 as Qr,a0 as ot}from"../chunks/index-bcfaa5f4.js";import{w as ct}from"../chunks/index-7ade2ce0.js";import{K as qr,e as Me,g as Or,s as Qe,r as je,j as fe,k as Ae,m as Nr,n as en,o as Rr,f as se,q as Cr,v as Be,G as _e,c as He,d as Ve,w as ft,b as Se,B as rt,x as Ce,y as Pe,z as De,P as tn,h as ve,C as _t,D as mt,E as vt,l as Dr,F as rn,H as $e,t as Br,I as nn,J as an,L as Lr,S as Ue,u as Ge,M as on,N as ke,O as ln,Q as sn,R as lt,T as un,U as cn,V as fn,p as dn,W as hn,X as st,Y as gt,Z as pn,_ as Fe,$ as _n,a0 as mn,a1 as vn,a2 as gn,a3 as bn,a4 as kn,a5 as An,a6 as En}from"../chunks/movement-bba46a79.js";function ut(o){return Math.pow(o-1,3)*(1-o)+1}const Fr=ct(!1),Mr=ct(!1);let Ke={};const yn=async()=>new Promise((o,e)=>{Ke=new qr({url:"https://hello.undersco.re/auth/",realm:"undersco_re",clientId:"underscore_openeyebeam"}),Ke.init({}).then(t=>{Fr.set(t),t?(console.log("Authenticated"),Me.set("open-eyebeam-logged-in",!0),Ke.loadUserProfile().then(async r=>{console.log("p",r);const n=await wn(r);Mr.set(n)}).catch(()=>{Or("Failed to load user profile")}).finally(()=>{o()})):o()}).catch(t=>{console.log("error in auth ->",t),e(t)})}),In=async()=>{Ke.login({redirectUri:window.location.origin})},wn=o=>new Promise(async(e,t)=>{const r=new Headers;r.append("Content-Type","application/json");const n={method:"POST",headers:r,body:JSON.stringify(o),redirect:"follow"},a=await fetch("/api/update-user",n);if(!a.ok){const u=`An error has occured: ${a.status}`;throw new Error(u)}const l=await a.json();e(l)});function bt(o,e,t){const r=o.slice();return r[5]=e[t],r[7]=t,r}function kt(o){let e,t,r,n,a,l,u;function s(...f){return o[3](o[5],...f)}return{c(){e=y("div"),t=y("img"),a=F(),this.h()},l(f){e=I(f,"DIV",{class:!0,tabindex:!0});var h=S(e);t=I(h,"IMG",{src:!0,alt:!0}),a=M(h),h.forEach(b),this.h()},h(){re(t.src,r=o[5].imageUrl)||_(t,"src",r),_(t,"alt",n=o[5].alt),_(e,"class","avatar svelte-i1o3ve"),_(e,"tabindex","0"),B(e,"selected",o[1]==o[5]._id)},m(f,h){C(f,e,h),E(e,t),E(e,a),l||(u=[Y(e,"click",function(){Vr(o[2](o[5]))&&o[2](o[5]).apply(this,arguments)}),Y(e,"keydown",s)],l=!0)},p(f,h){o=f,h&1&&!re(t.src,r=o[5].imageUrl)&&_(t,"src",r),h&1&&n!==(n=o[5].alt)&&_(t,"alt",n),h&3&&B(e,"selected",o[1]==o[5]._id)},d(f){f&&b(e),l=!1,Oe(u)}}}function Tn(o){let e,t,r,n,a,l=o[0],u=[];for(let s=0;s<l.length;s+=1)u[s]=kt(bt(o,l,s));return{c(){e=y("div"),t=y("div"),r=x("Select your avatar"),n=F(),a=y("div");for(let s=0;s<u.length;s+=1)u[s].c();this.h()},l(s){e=I(s,"DIV",{class:!0});var f=S(e);t=I(f,"DIV",{});var h=S(t);r=X(h,"Select your avatar"),h.forEach(b),n=M(f),a=I(f,"DIV",{class:!0});var i=S(a);for(let c=0;c<u.length;c+=1)u[c].l(i);i.forEach(b),f.forEach(b),this.h()},h(){_(a,"class","inner svelte-i1o3ve"),_(e,"class","avatar-picker")},m(s,f){C(s,e,f),E(e,t),E(t,r),E(e,n),E(e,a);for(let h=0;h<u.length;h+=1)u[h].m(a,null)},p(s,[f]){if(f&7){l=s[0];let h;for(h=0;h<l.length;h+=1){const i=bt(s,l,h);u[h]?u[h].p(i,f):(u[h]=kt(i),u[h].c(),u[h].m(a,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=l.length}},i:ce,o:ce,d(s){s&&b(e),ze(u,s)}}}function Sn(o,e,t){const r=Ee();let{avatars:n=[]}=e,a=Qe(n)._id;Te(async()=>{r("select",{id:a})});const l=s=>{t(1,a=s._id),r("select",{id:s._id})},u=(s,f)=>f.key==="Enter"&&l(s);return o.$$set=s=>{"avatars"in s&&t(0,n=s.avatars)},[n,a,l,u]}class On extends ae{constructor(e){super(),oe(this,e,Sn,Tn,le,{avatars:0})}}function At(o,e,t){const r=o.slice();return r[18]=e[t],r[20]=t,r}function Et(o){let e,t=o[1],r=[];for(let n=0;n<t.length;n+=1)r[n]=wt(At(o,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=j()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=j()},m(n,a){for(let l=0;l<r.length;l+=1)r[l].m(n,a);C(n,e,a)},p(n,a){if(a&102){t=n[1];let l;for(l=0;l<t.length;l+=1){const u=At(n,t,l);r[l]?r[l].p(u,a):(r[l]=wt(u),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(n){ze(r,n),n&&b(e)}}}function yt(o){let e,t,r=je(fe(o[18],"content.content",[]))+"",n,a,l,u,s,f,h,i=o[20]===o[1].length-1&&o[5]&&It();return{c(){e=y("div"),t=new jr(!1),n=F(),i&&i.c(),a=F(),l=y("button"),u=x("Next"),s=F(),this.h()},l(c){e=I(c,"DIV",{class:!0,"aria-live":!0,tabindex:!0});var d=S(e);t=zr(d,!1),n=M(d),i&&i.l(d),a=M(d),l=I(d,"BUTTON",{class:!0});var p=S(l);u=X(p,"Next"),p.forEach(b),s=M(d),d.forEach(b),this.h()},h(){t.a=n,_(l,"class","btn next svelte-1r2hhvy"),_(e,"class","slide"),_(e,"aria-live","polite"),_(e,"tabindex","0")},m(c,d){C(c,e,d),t.m(r,e),E(e,n),i&&i.m(e,null),E(e,a),E(e,l),E(l,u),E(e,s),f||(h=[Y(l,"click",o[6]),Y(l,"keydown",o[8]),Y(e,"keydown",o[9])],f=!0)},p(c,d){d&2&&r!==(r=je(fe(c[18],"content.content",[]))+"")&&t.p(r),c[20]===c[1].length-1&&c[5]?i||(i=It(),i.c(),i.m(e,a)):i&&(i.d(1),i=null)},d(c){c&&b(e),i&&i.d(),f=!1,Oe(h)}}}function It(o){let e,t,r;return{c(){e=y("p"),t=y("strong"),r=x("This website is best experienced on a laptop or desktop computer. Some content may not be accessible on phones or tablets.")},l(n){e=I(n,"P",{});var a=S(e);t=I(a,"STRONG",{});var l=S(t);r=X(l,"This website is best experienced on a laptop or desktop computer. Some content may not be accessible on phones or tablets."),l.forEach(b),a.forEach(b)},m(n,a){C(n,e,a),E(e,t),E(t,r)},d(n){n&&b(e)}}}function wt(o){let e,t=o[20]===o[2]&&yt(o);return{c(){t&&t.c(),e=j()},l(r){t&&t.l(r),e=j()},m(r,n){t&&t.m(r,n),C(r,e,n)},p(r,n){r[20]===r[2]?t?t.p(r,n):(t=yt(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&b(e)}}}function Tt(o){let e,t,r,n,a,l,u,s,f,h,i;return{c(){e=y("div"),t=y("div"),r=x("What would you like to be called?"),n=F(),a=y("div"),l=y("input"),u=F(),s=y("button"),f=x("Next"),this.h()},l(c){e=I(c,"DIV",{class:!0,"aria-live":!0,tabindex:!0});var d=S(e);t=I(d,"DIV",{class:!0});var p=S(t);r=X(p,"What would you like to be called?"),p.forEach(b),n=M(d),a=I(d,"DIV",{class:!0});var g=S(a);l=I(g,"INPUT",{class:!0,type:!0,placeholder:!0,minlength:!0}),g.forEach(b),u=M(d),s=I(d,"BUTTON",{class:!0,tabindex:!0});var v=S(s);f=X(v,"Next"),v.forEach(b),d.forEach(b),this.h()},h(){_(t,"class","name svelte-1r2hhvy"),_(l,"class","name svelte-1r2hhvy"),_(l,"type","text"),_(l,"placeholder","Name"),l.autofocus=!0,_(l,"minlength","1"),_(a,"class","input-container"),_(s,"class","btn next svelte-1r2hhvy"),_(s,"tabindex","0"),_(e,"class","slide"),_(e,"aria-live","polite"),_(e,"tabindex","0")},m(c,d){C(c,e,d),E(e,t),E(t,r),E(e,n),E(e,a),E(a,l),We(l,o[3]),E(e,u),E(e,s),E(s,f),l.focus(),h||(i=[Y(l,"input",o[10]),Y(l,"keydown",o[11]),Y(s,"keydown",o[12]),Y(s,"click",o[6]),Y(e,"keydown",o[13])],h=!0)},p(c,d){d&8&&l.value!==c[3]&&We(l,c[3])},d(c){c&&b(e),h=!1,Oe(i)}}}function St(o){let e,t,r,n,a,l,u,s,f;return r=new On({props:{avatars:o[0]}}),r.$on("select",o[14]),{c(){e=y("div"),t=y("div"),Q(r.$$.fragment),n=F(),a=y("div"),l=x("Enter"),this.h()},l(h){e=I(h,"DIV",{class:!0,"aria-live":!0,tabindex:!0});var i=S(e);t=I(i,"DIV",{class:!0});var c=S(t);q(r.$$.fragment,c),c.forEach(b),n=M(i),a=I(i,"DIV",{class:!0});var d=S(a);l=X(d,"Enter"),d.forEach(b),i.forEach(b),this.h()},h(){_(t,"class","name svelte-1r2hhvy"),_(a,"class","btn next svelte-1r2hhvy"),_(e,"class","slide"),_(e,"aria-live","polite"),_(e,"tabindex","0")},m(h,i){C(h,e,i),E(e,t),ee(r,t,null),E(e,n),E(e,a),E(a,l),u=!0,s||(f=[Y(a,"click",o[7]),Y(e,"keydown",o[15])],s=!0)},p(h,i){const c={};i&1&&(c.avatars=h[0]),r.$set(c)},i(h){u||(T(r.$$.fragment,h),u=!0)},o(h){R(r.$$.fragment,h),u=!1},d(h){h&&b(e),te(r),s=!1,Oe(f)}}}function Nn(o){let e,t,r,n,a,l=o[1]&&Et(o),u=o[2]===o[1].length&&Tt(o),s=o[2]===o[1].length+1&&St(o);return{c(){e=y("div"),t=y("div"),l&&l.c(),r=F(),u&&u.c(),n=F(),s&&s.c(),this.h()},l(f){e=I(f,"DIV",{class:!0});var h=S(e);t=I(h,"DIV",{class:!0});var i=S(t);l&&l.l(i),r=M(i),u&&u.l(i),n=M(i),s&&s.l(i),i.forEach(b),h.forEach(b),this.h()},h(){_(t,"class","box svelte-1r2hhvy"),_(e,"class","onboarding-screen svelte-1r2hhvy")},m(f,h){C(f,e,h),E(e,t),l&&l.m(t,null),E(t,r),u&&u.m(t,null),E(t,n),s&&s.m(t,null),a=!0},p(f,[h]){f[1]?l?l.p(f,h):(l=Et(f),l.c(),l.m(t,r)):l&&(l.d(1),l=null),f[2]===f[1].length?u?u.p(f,h):(u=Tt(f),u.c(),u.m(t,n)):u&&(u.d(1),u=null),f[2]===f[1].length+1?s?(s.p(f,h),h&6&&T(s,1)):(s=St(f),s.c(),T(s,1),s.m(t,null)):s&&($(),R(s,1,1,()=>{s=null}),K())},i(f){a||(T(s),a=!0)},o(f){R(s),a=!1},d(f){f&&b(e),l&&l.d(),u&&u.d(),s&&s.d()}}}function Rn(o,e,t){let r;z(o,Ae,N=>t(5,r=N));const n=Ee();let{avatars:a=[]}=e;Ae.set(Nr());let l={},u=!1,s=0,f="",h="";const i=()=>t(2,s++,s),c=()=>{n("finish",{name:f,avatar:h})};Te(async()=>{l=await en(),t(1,u=l.tutorialSlides)});const d=N=>N.key==="Enter"&&i,p=N=>N.key==="Enter"&&i();function g(){f=this.value,t(3,f)}const v=N=>N.key==="Enter"&&i(),m=N=>N.key==="Enter"&&i(),k=N=>N.key==="Enter"&&i(),A=N=>{t(4,h=N.detail.id)},w=N=>N.key==="Enter"&&c();return o.$$set=N=>{"avatars"in N&&t(0,a=N.avatars)},[a,u,s,f,h,r,i,c,d,p,g,v,m,k,A,w]}class Cn extends ae{constructor(e){super(),oe(this,e,Rn,Nn,le,{avatars:0})}}function Ot(o){let e,t;return{c(){e=y("video"),this.h()},l(r){e=I(r,"VIDEO",{src:!0,class:!0}),S(e).forEach(b),this.h()},h(){re(e.src,t=o[0].bgVideoUrl)||_(e,"src",t),e.autoplay=!0,e.loop=!0,e.muted=!0,_(e,"class","svelte-f2n19i")},m(r,n){C(r,e,n)},p(r,n){n&1&&!re(e.src,t=r[0].bgVideoUrl)&&_(e,"src",t)},d(r){r&&b(e)}}}function Nt(o){let e,t;return{c(){e=y("iframe"),this.h()},l(r){e=I(r,"IFRAME",{id:!0,src:!0,class:!0}),S(e).forEach(b),this.h()},h(){_(e,"id","bg-iframe"),re(e.src,t=o[0].backgroundLink)||_(e,"src",t),_(e,"class","svelte-f2n19i")},m(r,n){C(r,e,n)},p(r,n){n&1&&!re(e.src,t=r[0].backgroundLink)&&_(e,"src",t)},d(r){r&&b(e)}}}function Dn(o){let e,t,r,n,a;const l=o[3].default,u=Yr(l,o,o[2],null);let s=o[0].bgVideoUrl&&Ot(o),f=o[0].backgroundLink&&Nt(o);return{c(){e=y("div"),u&&u.c(),t=F(),s&&s.c(),r=F(),f&&f.c(),this.h()},l(h){e=I(h,"DIV",{class:!0,id:!0,style:!0,"aria-live":!0});var i=S(e);u&&u.l(i),t=M(i),s&&s.l(i),r=M(i),f&&f.l(i),i.forEach(b),this.h()},h(){_(e,"class","room svelte-f2n19i"),_(e,"id","room"),_(e,"style",n=`${o[0].inlineStyles} ${o[1]}`),_(e,"aria-live","polite")},m(h,i){C(h,e,i),u&&u.m(e,null),E(e,t),s&&s.m(e,null),E(e,r),f&&f.m(e,null),a=!0},p(h,[i]){u&&u.p&&(!a||i&4)&&$r(u,l,h,h[2],a?Wr(l,h[2],i,null):Kr(h[2]),null),h[0].bgVideoUrl?s?s.p(h,i):(s=Ot(h),s.c(),s.m(e,r)):s&&(s.d(1),s=null),h[0].backgroundLink?f?f.p(h,i):(f=Nt(h),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!a||i&3&&n!==(n=`${h[0].inlineStyles} ${h[1]}`))&&_(e,"style",n)},i(h){a||(T(u,h),a=!0)},o(h){R(u,h),a=!1},d(h){h&&b(e),u&&u.d(h),s&&s.d(),f&&f.d()}}}function Bn(o,e,t){let r;z(o,Rr,u=>t(1,r=u));let{$$slots:n={},$$scope:a}=e,{room:l={}}=e;return o.$$set=u=>{"room"in u&&t(0,l=u.room),"$$scope"in u&&t(2,a=u.$$scope)},[l,r,a,n]}class Ln extends ae{constructor(e){super(),oe(this,e,Bn,Dn,le,{room:0})}}function Fn(o){let e,t,r,n,a,l,u,s;return{c(){e=y("div"),t=y("img"),this.h()},l(f){e=I(f,"DIV",{class:!0,id:!0,alt:!0,style:!0,role:!0});var h=S(e);t=I(h,"IMG",{src:!0,alt:!0,class:!0}),h.forEach(b),this.h()},h(){re(t.src,r=o[4]&&o[4].imageUrl?o[4].imageUrl:Qe(o[1]).imageUrl)||_(t,"src",r),_(t,"alt",n=o[4].alt),_(t,"class","svelte-1k7yzd"),_(e,"class","avatar svelte-1k7yzd"),_(e,"id",o[2]),_(e,"alt",a=o[0].name),_(e,"style",l="transform: translateY("+o[5]+"px) translateX("+o[6]+"px)"),_(e,"role","uiitem"),B(e,"shown",!o[7]||o[0].self),B(e,"self",o[0].self),B(e,"blinking",o[7]&&o[0].self)},m(f,h){C(f,e,h),E(e,t),o[9](e),s=!0},p(f,[h]){(!s||h&18&&!re(t.src,r=f[4]&&f[4].imageUrl?f[4].imageUrl:Qe(f[1]).imageUrl))&&_(t,"src",r),(!s||h&16&&n!==(n=f[4].alt))&&_(t,"alt",n),(!s||h&4)&&_(e,"id",f[2]),(!s||h&1&&a!==(a=f[0].name))&&_(e,"alt",a),(!s||h&96&&l!==(l="transform: translateY("+f[5]+"px) translateX("+f[6]+"px)"))&&_(e,"style",l),h&129&&B(e,"shown",!f[7]||f[0].self),h&1&&B(e,"self",f[0].self),h&129&&B(e,"blinking",f[7]&&f[0].self)},i(f){s||(pe(()=>{u||(u=de(e,se,{},!0)),u.run(1)}),s=!0)},o(f){u||(u=de(e,se,{},!1)),u.run(0),s=!1},d(f){f&&b(e),o[9](null),f&&u&&u.end()}}}function Mn(o,e,t){let r,n,a;z(o,Ae,A=>t(12,r=A)),z(o,Cr,A=>t(8,n=A)),z(o,Be,A=>t(7,a=A));let l={},u={};const s=A=>{l.popper&&(l.hide(),l.destroy(),clearTimeout(u)),c&&c.nodeName&&(l=tippy(c,{content:A.text,arrow:!1,offset:[0,5],sticky:!0,animation:"fade",inertia:!0,theme:"chat",popperOptions:{modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",enabled:!1}]}}),l.show(),u=setTimeout(()=>{l.hide(),setTimeout(()=>{l.destroy()},500)},4e3))};let{player:f={}}=e,{avatars:h=[]}=e,{key:i=""}=e,c={},d=h.find(A=>A._id===f.shape);d===void 0&&(d=Qe(h));let p,g;const v=()=>{if(c&&c.parentElement){let A=c.getBoundingClientRect();if(A.left<(r?40:100)||A.top<(r?120:100)||A.right>window.innerWidth-(r?40:100)||A.bottom>window.innerHeight-(r?180:100))return!0}return!1},m=()=>{Rr.set(`transform: translateX(-${g}px) translateY(-${p}px);`)};Te(async()=>{f.self||tippy(c,{content:f.name,arrow:!1,offset:[0,5],theme:"name",hideOnClick:!1,placement:"bottom",popperOptions:{modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",enabled:!1}]}}),f.self&&m()});function k(A){we[A?"unshift":"push"](()=>{c=A,t(3,c)})}return o.$$set=A=>{"player"in A&&t(0,f=A.player),"avatars"in A&&t(1,h=A.avatars),"key"in A&&t(2,i=A.key)},o.$$.update=()=>{if(o.$$.dirty&260){let A=n[n.length-1];A&&A.uuid==i&&Date.now()-A.timestamp<5e3&&s(A)}o.$$.dirty&1&&(t(5,p=f.y*_e),t(6,g=f.x*_e)),o.$$.dirty&1&&f.self&&(f.x||f.y)&&v()&&m()},[f,h,i,c,d,p,g,a,n,k]}class Pn extends ae{constructor(e){super(),oe(this,e,Mn,Fn,le,{player:0,avatars:1,key:2})}}function Rt(o,e,t){const r=o.slice();return r[3]=e[t][0],r[4]=e[t][1],r}function Ct(o){let e,t;return e=new Pn({props:{player:o[4],key:o[3],avatars:o[2]}}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n&1&&(a.player=r[4]),n&1&&(a.key=r[3]),n&4&&(a.avatars=r[2]),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function Dt(o,e){let t,r,n,a=e[4].room===e[1]&&!e[4].inTransit&&Ct(e);return{key:o,first:null,c(){t=j(),a&&a.c(),r=j(),this.h()},l(l){t=j(),a&&a.l(l),r=j(),this.h()},h(){this.first=t},m(l,u){C(l,t,u),a&&a.m(l,u),C(l,r,u),n=!0},p(l,u){e=l,e[4].room===e[1]&&!e[4].inTransit?a?(a.p(e,u),u&3&&T(a,1)):(a=Ct(e),a.c(),T(a,1),a.m(r.parentNode,r)):a&&($(),R(a,1,1,()=>{a=null}),K())},i(l){n||(T(a),n=!0)},o(l){R(a),n=!1},d(l){l&&b(t),a&&a.d(l),l&&b(r)}}}function Gn(o){let e,t=[],r=new Map,n,a=Object.entries(o[0]);const l=u=>u[3];for(let u=0;u<a.length;u+=1){let s=Rt(o,a,u),f=l(s);r.set(f,t[u]=Dt(f,s))}return{c(){e=y("div");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=I(u,"DIV",{role:!0});var s=S(e);for(let f=0;f<t.length;f+=1)t[f].l(s);s.forEach(b),this.h()},h(){_(e,"role","group")},m(u,s){C(u,e,s);for(let f=0;f<t.length;f+=1)t[f].m(e,null);n=!0},p(u,[s]){s&7&&(a=Object.entries(u[0]),$(),t=qe(t,s,l,1,u,a,r,e,et,Dt,null,Rt),K())},i(u){if(!n){for(let s=0;s<a.length;s+=1)T(t[s]);n=!0}},o(u){for(let s=0;s<t.length;s+=1)R(t[s]);n=!1},d(u){u&&b(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function Hn(o,e,t){let{players:r={}}=e,{currentRoomId:n=""}=e,{avatars:a=[]}=e;return o.$$set=l=>{"players"in l&&t(0,r=l.players),"currentRoomId"in l&&t(1,n=l.currentRoomId),"avatars"in l&&t(2,a=l.avatars)},[r,n,a]}class Un extends ae{constructor(e){super(),oe(this,e,Hn,Gn,le,{players:0,currentRoomId:1,avatars:2})}}function xn(o){let e,t,r,n;return t=new rt({props:{blocks:o[0].content.content}}),{c(){e=y("div"),Q(t.$$.fragment),this.h()},l(a){e=I(a,"DIV",{class:!0,style:!0});var l=S(e);q(t.$$.fragment,l),l.forEach(b),this.h()},h(){_(e,"class","object svelte-y80ji7"),_(e,"style",o[2]),B(e,"static",o[0].static)},m(a,l){C(a,e,l),ee(t,e,null),n=!0},p(a,l){const u={};l&1&&(u.blocks=a[0].content.content),t.$set(u),l&1&&B(e,"static",a[0].static)},i(a){n||(T(t.$$.fragment,a),pe(()=>{r||(r=de(e,se,{},!0)),r.run(1)}),n=!0)},o(a){R(t.$$.fragment,a),r||(r=de(e,se,{},!1)),r.run(0),n=!1},d(a){a&&b(e),te(t),a&&r&&r.end()}}}function Xn(o){let e,t,r,n,a,l,u,s=o[0].iconImage&&Bt(o);return{c(){e=y("div"),s&&s.c(),this.h()},l(f){e=I(f,"DIV",{class:!0,id:!0,style:!0,tabindex:!0,"aria-label":!0,role:!0});var h=S(e);s&&s.l(h),h.forEach(b),this.h()},h(){_(e,"class","object svelte-y80ji7"),_(e,"id",t=o[0]._id),_(e,"style",o[2]),_(e,"tabindex","0"),_(e,"aria-label",r=o[0].static?"A static image of a "+o[0].title:"Inspect "+o[0].title),_(e,"role","uiitem"),B(e,"static",o[0].static),B(e,"image",o[0].iconImage)},m(f,h){C(f,e,h),s&&s.m(e,null),o[6](e),a=!0,l||(u=[Y(e,"click",jn),Y(e,"keydown",o[3])],l=!0)},p(f,h){f[0].iconImage?s?s.p(f,h):(s=Bt(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null),(!a||h&1&&t!==(t=f[0]._id))&&_(e,"id",t),(!a||h&1&&r!==(r=f[0].static?"A static image of a "+f[0].title:"Inspect "+f[0].title))&&_(e,"aria-label",r),h&1&&B(e,"static",f[0].static),h&1&&B(e,"image",f[0].iconImage)},i(f){a||(pe(()=>{n||(n=de(e,se,{},!0)),n.run(1)}),a=!0)},o(f){n||(n=de(e,se,{},!1)),n.run(0),a=!1},d(f){f&&b(e),s&&s.d(),o[6](null),f&&n&&n.end(),l=!1,Oe(u)}}}function Bt(o){let e,t,r;return{c(){e=y("img"),this.h()},l(n){e=I(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){re(e.src,t=Ce(o[0].iconImage.asset._ref).url())||_(e,"src",t),_(e,"alt",r=o[0].alt),_(e,"class","svelte-y80ji7")},m(n,a){C(n,e,a)},p(n,a){a&1&&!re(e.src,t=Ce(n[0].iconImage.asset._ref).url())&&_(e,"src",t),a&1&&r!==(r=n[0].alt)&&_(e,"alt",r)},d(n){n&&b(e)}}}function Vn(o){let e,t,r,n;const a=[Xn,xn],l=[];function u(s,f){return s[0].iframeEmbed?s[0].externalLink?-1:1:0}return~(e=u(o))&&(t=l[e]=a[e](o)),{c(){t&&t.c(),r=j()},l(s){t&&t.l(s),r=j()},m(s,f){~e&&l[e].m(s,f),C(s,r,f),n=!0},p(s,[f]){let h=e;e=u(s),e===h?~e&&l[e].p(s,f):(t&&($(),R(l[h],1,1,()=>{l[h]=null}),K()),~e?(t=l[e],t?t.p(s,f):(t=l[e]=a[e](s),t.c()),T(t,1),t.m(r.parentNode,r)):t=null)},i(s){n||(T(t),n=!0)},o(s){R(t),n=!1},d(s){~e&&l[e].d(s),s&&b(r)}}}const jn=()=>{};function zn(o,e,t){let r,n;z(o,He,v=>t(7,r=v)),z(o,Ve,v=>t(5,n=v));let{object:a={}}=e,l={},u={},s=a.y*_e,f=a.x*_e,h=fe(a,"dimensions.width",1)*_e,i=fe(a,"dimensions.height",1)*_e;const c=`transform: translateY(${s}px) translateX(${f}px); width: ${h}px; height: ${i}px;`;Te(async()=>{const v=ft;v.content=a.title,v.appendTo=l.parentElement,v.theme=a.static?"static":"name",t(4,u=tippy(l,v))});const d=Ee();function p(v){v.key=="Enter"&&a.static!=!0&&a.contentType!="externalLink"&&(d("object",{objectId:a._id}),Se.set(r.objects.find(m=>m._id==a._id)),console.log("active article is: ",Se)),v.key==="Enter"&&a.contentType==="externalLink"&&window.open(a.url,"_blank").focus()}function g(v){we[v?"unshift":"push"](()=>{l=v,t(1,l)})}return o.$$set=v=>{"object"in v&&t(0,a=v.object)},o.$$.update=()=>{o.$$.dirty&48&&u.popper&&(n?u.show():u.hide()),o.$$.dirty&1},[a,l,c,p,u,n,g]}class Yn extends ae{constructor(e){super(),oe(this,e,zn,Vn,le,{object:0})}}function Lt(o,e,t){const r=o.slice();return r[2]=e[t],r}function Ft(o){let e,t,r=[],n=new Map,a,l=o[0];const u=s=>s[2]._id;for(let s=0;s<l.length;s+=1){let f=Lt(o,l,s),h=u(f);n.set(h,r[s]=Mt(h,f))}return{c(){e=y("div"),t=y("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=I(s,"DIV",{role:!0});var f=S(e);t=I(f,"DIV",{role:!0});var h=S(t);for(let i=0;i<r.length;i+=1)r[i].l(h);h.forEach(b),f.forEach(b),this.h()},h(){_(t,"role","group"),_(e,"role","objects")},m(s,f){C(s,e,f),E(e,t);for(let h=0;h<r.length;h+=1)r[h].m(t,null);a=!0},p(s,f){f&1&&(l=s[0],$(),r=qe(r,f,u,1,s,l,n,t,et,Mt,null,Lt),K())},i(s){if(!a){for(let f=0;f<l.length;f+=1)T(r[f]);a=!0}},o(s){for(let f=0;f<r.length;f+=1)R(r[f]);a=!1},d(s){s&&b(e);for(let f=0;f<r.length;f+=1)r[f].d()}}}function Mt(o,e){let t,r,n;return r=new Yn({props:{object:e[2]}}),{key:o,first:null,c(){t=j(),Q(r.$$.fragment),this.h()},l(a){t=j(),q(r.$$.fragment,a),this.h()},h(){this.first=t},m(a,l){C(a,t,l),ee(r,a,l),n=!0},p(a,l){e=a;const u={};l&1&&(u.object=e[2]),r.$set(u)},i(a){n||(T(r.$$.fragment,a),n=!0)},o(a){R(r.$$.fragment,a),n=!1},d(a){a&&b(t),te(r,a)}}}function $n(o){let e,t,r=!o[1]&&Ft(o);return{c(){r&&r.c(),e=j()},l(n){r&&r.l(n),e=j()},m(n,a){r&&r.m(n,a),C(n,e,a),t=!0},p(n,[a]){n[1]?r&&($(),R(r,1,1,()=>{r=null}),K()):r?(r.p(n,a),a&2&&T(r,1)):(r=Ft(n),r.c(),T(r,1),r.m(e.parentNode,e))},i(n){t||(T(r),t=!0)},o(n){R(r),t=!1},d(n){r&&r.d(n),n&&b(e)}}}function Kn(o,e,t){let r;z(o,Be,a=>t(1,r=a));let{objects:n={}}=e;return o.$$set=a=>{"objects"in a&&t(0,n=a.objects)},[n,r]}class Wn extends ae{constructor(e){super(),oe(this,e,Kn,$n,le,{objects:0})}}function Zn(o){let e,t;return{c(){e=y("img"),this.h()},l(r){e=I(r,"IMG",{src:!0,class:!0}),this.h()},h(){re(e.src,t=Ce(o[0].backgroundImage).quality(100).url())||_(e,"src",t),_(e,"class","svelte-8z8z6b")},m(r,n){C(r,e,n)},p(r,n){n&1&&!re(e.src,t=Ce(r[0].backgroundImage).quality(100).url())&&_(e,"src",t)},d(r){r&&b(e)}}}function Jn(o){let e,t;return{c(){e=y("video"),this.h()},l(r){e=I(r,"VIDEO",{src:!0,class:!0}),S(e).forEach(b),this.h()},h(){re(e.src,t=o[0].bgVideoUrl)||_(e,"src",t),e.autoplay=!0,e.loop=!0,e.muted=!0,_(e,"class","svelte-8z8z6b")},m(r,n){C(r,e,n)},p(r,n){n&1&&!re(e.src,t=r[0].bgVideoUrl)&&_(e,"src",t)},d(r){r&&b(e)}}}function Qn(o){let e,t,r,n,a;function l(f,h){if(f[0].bgVideoUrl)return Jn;if(f[0].backgroundImage)return Zn}let u=l(o),s=u&&u(o);return{c(){e=y("div"),s&&s.c(),this.h()},l(f){e=I(f,"DIV",{class:!0,id:!0,alt:!0,style:!0,role:!0});var h=S(e);s&&s.l(h),h.forEach(b),this.h()},h(){_(e,"class","zone svelte-8z8z6b"),_(e,"id",t=o[0]._id),_(e,"alt",r=o[0].title),_(e,"style",o[2]),_(e,"role","uiitem")},m(f,h){C(f,e,h),s&&s.m(e,null),o[5](e),a=!0},p(f,[h]){u===(u=l(f))&&s?s.p(f,h):(s&&s.d(1),s=u&&u(f),s&&(s.c(),s.m(e,null))),(!a||h&1&&t!==(t=f[0]._id))&&_(e,"id",t),(!a||h&1&&r!==(r=f[0].title))&&_(e,"alt",r)},i(f){a||(pe(()=>{n||(n=de(e,se,{},!0)),n.run(1)}),a=!0)},o(f){n||(n=de(e,se,{},!1)),n.run(0),a=!1},d(f){f&&b(e),s&&s.d(),o[5](null),f&&n&&n.end()}}}function qn(o,e,t){let r;z(o,Ve,d=>t(4,r=d));let{zone:n={}}=e,a={},l={},u=n.y*_e,s=n.x*_e,f=fe(n,"dimensions.width",1)*_e,h=fe(n,"dimensions.height",1)*_e;const i=`transform: translateY(${u}px) translateX(${s}px); width: ${f}px; height: ${h}px;};`;Te(async()=>{const d=ft;d.content=n.title,d.appendTo=a.parentElement,d.theme="name",t(3,l=tippy(a,d))});function c(d){we[d?"unshift":"push"](()=>{a=d,t(1,a)})}return o.$$set=d=>{"zone"in d&&t(0,n=d.zone)},o.$$.update=()=>{o.$$.dirty&24&&l.popper&&(r?l.show():l.hide())},[n,a,i,l,r,c]}class ei extends ae{constructor(e){super(),oe(this,e,qn,Qn,le,{zone:0})}}function Pt(o,e,t){const r=o.slice();return r[2]=e[t],r}function Gt(o){let e,t=[],r=new Map,n,a=o[0];const l=u=>u[2]._id;for(let u=0;u<a.length;u+=1){let s=Pt(o,a,u),f=l(s);r.set(f,t[u]=Ht(f,s))}return{c(){e=y("div");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=I(u,"DIV",{role:!0});var s=S(e);for(let f=0;f<t.length;f+=1)t[f].l(s);s.forEach(b),this.h()},h(){_(e,"role","group")},m(u,s){C(u,e,s);for(let f=0;f<t.length;f+=1)t[f].m(e,null);n=!0},p(u,s){s&1&&(a=u[0],$(),t=qe(t,s,l,1,u,a,r,e,et,Ht,null,Pt),K())},i(u){if(!n){for(let s=0;s<a.length;s+=1)T(t[s]);n=!0}},o(u){for(let s=0;s<t.length;s+=1)R(t[s]);n=!1},d(u){u&&b(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function Ht(o,e){let t,r,n;return r=new ei({props:{zone:e[2]}}),{key:o,first:null,c(){t=j(),Q(r.$$.fragment),this.h()},l(a){t=j(),q(r.$$.fragment,a),this.h()},h(){this.first=t},m(a,l){C(a,t,l),ee(r,a,l),n=!0},p(a,l){e=a;const u={};l&1&&(u.zone=e[2]),r.$set(u)},i(a){n||(T(r.$$.fragment,a),n=!0)},o(a){R(r.$$.fragment,a),n=!1},d(a){a&&b(t),te(r,a)}}}function ti(o){let e,t,r=!o[1]&&Gt(o);return{c(){r&&r.c(),e=j()},l(n){r&&r.l(n),e=j()},m(n,a){r&&r.m(n,a),C(n,e,a),t=!0},p(n,[a]){n[1]?r&&($(),R(r,1,1,()=>{r=null}),K()):r?(r.p(n,a),a&2&&T(r,1)):(r=Gt(n),r.c(),T(r,1),r.m(e.parentNode,e))},i(n){t||(T(r),t=!0)},o(n){R(r),t=!1},d(n){r&&r.d(n),n&&b(e)}}}function ri(o,e,t){let r;z(o,Be,a=>t(1,r=a));let{zones:n={}}=e;return o.$$set=a=>{"zones"in a&&t(0,n=a.zones)},[n,r]}class ni extends ae{constructor(e){super(),oe(this,e,ri,ti,le,{zones:0})}}var Pr={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(o){(function(){var e=function(){this.init()};e.prototype={init:function(){var i=this||t;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window!="undefined"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var c=this||t;if(i=parseFloat(i),c.ctx||h(),typeof i!="undefined"&&i>=0&&i<=1){if(c._volume=i,c._muted)return c;c.usingWebAudio&&c.masterGain.gain.setValueAtTime(i,t.ctx.currentTime);for(var d=0;d<c._howls.length;d++)if(!c._howls[d]._webAudio)for(var p=c._howls[d]._getSoundIds(),g=0;g<p.length;g++){var v=c._howls[d]._soundById(p[g]);v&&v._node&&(v._node.volume=v._volume*i)}return c}return c._volume},mute:function(i){var c=this||t;c.ctx||h(),c._muted=i,c.usingWebAudio&&c.masterGain.gain.setValueAtTime(i?0:c._volume,t.ctx.currentTime);for(var d=0;d<c._howls.length;d++)if(!c._howls[d]._webAudio)for(var p=c._howls[d]._getSoundIds(),g=0;g<p.length;g++){var v=c._howls[d]._soundById(p[g]);v&&v._node&&(v._node.muted=i?!0:v._muted)}return c},stop:function(){for(var i=this||t,c=0;c<i._howls.length;c++)i._howls[c].stop();return i},unload:function(){for(var i=this||t,c=i._howls.length-1;c>=0;c--)i._howls[c].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close!="undefined"&&(i.ctx.close(),i.ctx=null,h()),i},codecs:function(i){return(this||t)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||t;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio!="undefined")try{var c=new Audio;typeof c.oncanplaythrough=="undefined"&&(i._canPlayEvent="canplay")}catch{i.noAudio=!0}else i.noAudio=!0;try{var c=new Audio;c.muted&&(i.noAudio=!0)}catch{}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||t,c=null;try{c=typeof Audio!="undefined"?new Audio:null}catch{return i}if(!c||typeof c.canPlayType!="function")return i;var d=c.canPlayType("audio/mpeg;").replace(/^no$/,""),p=i._navigator?i._navigator.userAgent:"",g=p.match(/OPR\/([0-6].)/g),v=g&&parseInt(g[0].split("/")[1],10)<33,m=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,k=p.match(/Version\/(.*?) /),A=m&&k&&parseInt(k[1],10)<15;return i._codecs={mp3:!!(!v&&(d||c.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!d,opus:!!c.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(c.canPlayType('audio/wav; codecs="1"')||c.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!c.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!c.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/m4a;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(c.canPlayType("audio/x-m4b;")||c.canPlayType("audio/m4b;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(c.canPlayType("audio/x-mp4;")||c.canPlayType("audio/mp4;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!A&&c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!A&&c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!c.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(c.canPlayType("audio/x-flac;")||c.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||t;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var c=function(d){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,i._releaseHtml5Audio(p)}catch{i.noAudio=!0;break}for(var g=0;g<i._howls.length;g++)if(!i._howls[g]._webAudio)for(var v=i._howls[g]._getSoundIds(),m=0;m<v.length;m++){var k=i._howls[g]._soundById(v[m]);k&&k._node&&!k._node._unlocked&&(k._node._unlocked=!0,k._node.load())}i._autoResume();var A=i.ctx.createBufferSource();A.buffer=i._scratchBuffer,A.connect(i.ctx.destination),typeof A.start=="undefined"?A.noteOn(0):A.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),A.onended=function(){A.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",c,!0),document.removeEventListener("touchend",c,!0),document.removeEventListener("click",c,!0),document.removeEventListener("keydown",c,!0);for(var w=0;w<i._howls.length;w++)i._howls[w]._emit("unlock")}};return document.addEventListener("touchstart",c,!0),document.addEventListener("touchend",c,!0),document.addEventListener("click",c,!0),document.addEventListener("keydown",c,!0),i}},_obtainHtml5Audio:function(){var i=this||t;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var c=new Audio().play();return c&&typeof Promise!="undefined"&&(c instanceof Promise||typeof c.then=="function")&&c.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var c=this||t;return i._unlocked&&c._html5AudioPool.push(i),c},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend=="undefined"||!t.usingWebAudio)){for(var c=0;c<i._howls.length;c++)if(i._howls[c]._webAudio){for(var d=0;d<i._howls[c]._sounds.length;d++)if(!i._howls[c]._sounds[d]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(!!i.autoSuspend){i._suspendTimer=null,i.state="suspending";var p=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(p,p)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume=="undefined"||!t.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var c=0;c<i._howls.length;c++)i._howls[c]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var t=new e,r=function(i){var c=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}c.init(i)};r.prototype={init:function(i){var c=this;return t.ctx||h(),c._autoplay=i.autoplay||!1,c._format=typeof i.format!="string"?i.format:[i.format],c._html5=i.html5||!1,c._muted=i.mute||!1,c._loop=i.loop||!1,c._pool=i.pool||5,c._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,c._rate=i.rate||1,c._sprite=i.sprite||{},c._src=typeof i.src!="string"?i.src:[i.src],c._volume=i.volume!==void 0?i.volume:1,c._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},c._duration=0,c._state="unloaded",c._sounds=[],c._endTimers={},c._queue=[],c._playLock=!1,c._onend=i.onend?[{fn:i.onend}]:[],c._onfade=i.onfade?[{fn:i.onfade}]:[],c._onload=i.onload?[{fn:i.onload}]:[],c._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],c._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],c._onpause=i.onpause?[{fn:i.onpause}]:[],c._onplay=i.onplay?[{fn:i.onplay}]:[],c._onstop=i.onstop?[{fn:i.onstop}]:[],c._onmute=i.onmute?[{fn:i.onmute}]:[],c._onvolume=i.onvolume?[{fn:i.onvolume}]:[],c._onrate=i.onrate?[{fn:i.onrate}]:[],c._onseek=i.onseek?[{fn:i.onseek}]:[],c._onunlock=i.onunlock?[{fn:i.onunlock}]:[],c._onresume=[],c._webAudio=t.usingWebAudio&&!c._html5,typeof t.ctx!="undefined"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(c),c._autoplay&&c._queue.push({event:"play",action:function(){c.play()}}),c._preload&&c._preload!=="none"&&c.load(),c},load:function(){var i=this,c=null;if(t.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var d=0;d<i._src.length;d++){var p,g;if(i._format&&i._format[d])p=i._format[d];else{if(g=i._src[d],typeof g!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(g),p||(p=/\.([^.]+)$/.exec(g.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&t.codecs(p)){c=i._src[d];break}}if(!c){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=c,i._state="loading",window.location.protocol==="https:"&&c.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new n(i),i._webAudio&&l(i),i},play:function(i,c){var d=this,p=null;if(typeof i=="number")p=i,i=null;else{if(typeof i=="string"&&d._state==="loaded"&&!d._sprite[i])return null;if(typeof i=="undefined"&&(i="__default",!d._playLock)){for(var g=0,v=0;v<d._sounds.length;v++)d._sounds[v]._paused&&!d._sounds[v]._ended&&(g++,p=d._sounds[v]._id);g===1?i=null:p=null}}var m=p?d._soundById(p):d._inactiveSound();if(!m)return null;if(p&&!i&&(i=m._sprite||"__default"),d._state!=="loaded"){m._sprite=i,m._ended=!1;var k=m._id;return d._queue.push({event:"play",action:function(){d.play(k)}}),k}if(p&&!m._paused)return c||d._loadQueue("play"),m._id;d._webAudio&&t._autoResume();var A=Math.max(0,m._seek>0?m._seek:d._sprite[i][0]/1e3),w=Math.max(0,(d._sprite[i][0]+d._sprite[i][1])/1e3-A),N=w*1e3/Math.abs(m._rate),W=d._sprite[i][0]/1e3,V=(d._sprite[i][0]+d._sprite[i][1])/1e3;m._sprite=i,m._ended=!1;var ie=function(){m._paused=!1,m._seek=A,m._start=W,m._stop=V,m._loop=!!(m._loop||d._sprite[i][2])};if(A>=V){d._ended(m);return}var L=m._node;if(d._webAudio){var Z=function(){d._playLock=!1,ie(),d._refreshBuffer(m);var G=m._muted||d._muted?0:m._volume;L.gain.setValueAtTime(G,t.ctx.currentTime),m._playStart=t.ctx.currentTime,typeof L.bufferSource.start=="undefined"?m._loop?L.bufferSource.noteGrainOn(0,A,86400):L.bufferSource.noteGrainOn(0,A,w):m._loop?L.bufferSource.start(0,A,86400):L.bufferSource.start(0,A,w),N!==1/0&&(d._endTimers[m._id]=setTimeout(d._ended.bind(d,m),N)),c||setTimeout(function(){d._emit("play",m._id),d._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?Z():(d._playLock=!0,d.once("resume",Z),d._clearTimer(m._id))}else{var J=function(){L.currentTime=A,L.muted=m._muted||d._muted||t._muted||L.muted,L.volume=m._volume*t.volume(),L.playbackRate=m._rate;try{var G=L.play();if(G&&typeof Promise!="undefined"&&(G instanceof Promise||typeof G.then=="function")?(d._playLock=!0,ie(),G.then(function(){d._playLock=!1,L._unlocked=!0,c?d._loadQueue():d._emit("play",m._id)}).catch(function(){d._playLock=!1,d._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),m._ended=!0,m._paused=!0})):c||(d._playLock=!1,ie(),d._emit("play",m._id)),L.playbackRate=m._rate,L.paused){d._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||m._loop?d._endTimers[m._id]=setTimeout(d._ended.bind(d,m),N):(d._endTimers[m._id]=function(){d._ended(m),L.removeEventListener("ended",d._endTimers[m._id],!1)},L.addEventListener("ended",d._endTimers[m._id],!1))}catch(O){d._emit("playerror",m._id,O)}};L.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(L.src=d._src,L.load());var H=window&&window.ejecta||!L.readyState&&t._navigator.isCocoonJS;if(L.readyState>=3||H)J();else{d._playLock=!0,d._state="loading";var U=function(){d._state="loaded",J(),L.removeEventListener(t._canPlayEvent,U,!1)};L.addEventListener(t._canPlayEvent,U,!1),d._clearTimer(m._id)}}return m._id},pause:function(i){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"pause",action:function(){c.pause(i)}}),c;for(var d=c._getSoundIds(i),p=0;p<d.length;p++){c._clearTimer(d[p]);var g=c._soundById(d[p]);if(g&&!g._paused&&(g._seek=c.seek(d[p]),g._rateSeek=0,g._paused=!0,c._stopFade(d[p]),g._node))if(c._webAudio){if(!g._node.bufferSource)continue;typeof g._node.bufferSource.stop=="undefined"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),c._cleanBuffer(g._node)}else(!isNaN(g._node.duration)||g._node.duration===1/0)&&g._node.pause();arguments[1]||c._emit("pause",g?g._id:null)}return c},stop:function(i,c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(i)}}),d;for(var p=d._getSoundIds(i),g=0;g<p.length;g++){d._clearTimer(p[g]);var v=d._soundById(p[g]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,d._stopFade(p[g]),v._node&&(d._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop=="undefined"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),d._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&d._clearSound(v._node))),c||d._emit("stop",v._id))}return d},mute:function(i,c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"mute",action:function(){d.mute(i,c)}}),d;if(typeof c=="undefined")if(typeof i=="boolean")d._muted=i;else return d._muted;for(var p=d._getSoundIds(c),g=0;g<p.length;g++){var v=d._soundById(p[g]);v&&(v._muted=i,v._interval&&d._stopFade(v._id),d._webAudio&&v._node?v._node.gain.setValueAtTime(i?0:v._volume,t.ctx.currentTime):v._node&&(v._node.muted=t._muted?!0:i),d._emit("mute",v._id))}return d},volume:function(){var i=this,c=arguments,d,p;if(c.length===0)return i._volume;if(c.length===1||c.length===2&&typeof c[1]=="undefined"){var g=i._getSoundIds(),v=g.indexOf(c[0]);v>=0?p=parseInt(c[0],10):d=parseFloat(c[0])}else c.length>=2&&(d=parseFloat(c[0]),p=parseInt(c[1],10));var m;if(typeof d!="undefined"&&d>=0&&d<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,c)}}),i;typeof p=="undefined"&&(i._volume=d),p=i._getSoundIds(p);for(var k=0;k<p.length;k++)m=i._soundById(p[k]),m&&(m._volume=d,c[2]||i._stopFade(p[k]),i._webAudio&&m._node&&!m._muted?m._node.gain.setValueAtTime(d,t.ctx.currentTime):m._node&&!m._muted&&(m._node.volume=d*t.volume()),i._emit("volume",m._id))}else return m=p?i._soundById(p):i._sounds[0],m?m._volume:0;return i},fade:function(i,c,d,p){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"fade",action:function(){g.fade(i,c,d,p)}}),g;i=Math.min(Math.max(0,parseFloat(i)),1),c=Math.min(Math.max(0,parseFloat(c)),1),d=parseFloat(d),g.volume(i,p);for(var v=g._getSoundIds(p),m=0;m<v.length;m++){var k=g._soundById(v[m]);if(k){if(p||g._stopFade(v[m]),g._webAudio&&!k._muted){var A=t.ctx.currentTime,w=A+d/1e3;k._volume=i,k._node.gain.setValueAtTime(i,A),k._node.gain.linearRampToValueAtTime(c,w)}g._startFadeInterval(k,i,c,d,v[m],typeof p=="undefined")}}return g},_startFadeInterval:function(i,c,d,p,g,v){var m=this,k=c,A=d-c,w=Math.abs(A/.01),N=Math.max(4,w>0?p/w:p),W=Date.now();i._fadeTo=d,i._interval=setInterval(function(){var V=(Date.now()-W)/p;W=Date.now(),k+=A*V,k=Math.round(k*100)/100,A<0?k=Math.max(d,k):k=Math.min(d,k),m._webAudio?i._volume=k:m.volume(k,i._id,!0),v&&(m._volume=k),(d<c&&k<=d||d>c&&k>=d)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,m.volume(d,i._id),m._emit("fade",i._id))},N)},_stopFade:function(i){var c=this,d=c._soundById(i);return d&&d._interval&&(c._webAudio&&d._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(d._interval),d._interval=null,c.volume(d._fadeTo,i),d._fadeTo=null,c._emit("fade",i)),c},loop:function(){var i=this,c=arguments,d,p,g;if(c.length===0)return i._loop;if(c.length===1)if(typeof c[0]=="boolean")d=c[0],i._loop=d;else return g=i._soundById(parseInt(c[0],10)),g?g._loop:!1;else c.length===2&&(d=c[0],p=parseInt(c[1],10));for(var v=i._getSoundIds(p),m=0;m<v.length;m++)g=i._soundById(v[m]),g&&(g._loop=d,i._webAudio&&g._node&&g._node.bufferSource&&(g._node.bufferSource.loop=d,d&&(g._node.bufferSource.loopStart=g._start||0,g._node.bufferSource.loopEnd=g._stop,i.playing(v[m])&&(i.pause(v[m],!0),i.play(v[m],!0)))));return i},rate:function(){var i=this,c=arguments,d,p;if(c.length===0)p=i._sounds[0]._id;else if(c.length===1){var g=i._getSoundIds(),v=g.indexOf(c[0]);v>=0?p=parseInt(c[0],10):d=parseFloat(c[0])}else c.length===2&&(d=parseFloat(c[0]),p=parseInt(c[1],10));var m;if(typeof d=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,c)}}),i;typeof p=="undefined"&&(i._rate=d),p=i._getSoundIds(p);for(var k=0;k<p.length;k++)if(m=i._soundById(p[k]),m){i.playing(p[k])&&(m._rateSeek=i.seek(p[k]),m._playStart=i._webAudio?t.ctx.currentTime:m._playStart),m._rate=d,i._webAudio&&m._node&&m._node.bufferSource?m._node.bufferSource.playbackRate.setValueAtTime(d,t.ctx.currentTime):m._node&&(m._node.playbackRate=d);var A=i.seek(p[k]),w=(i._sprite[m._sprite][0]+i._sprite[m._sprite][1])/1e3-A,N=w*1e3/Math.abs(m._rate);(i._endTimers[p[k]]||!m._paused)&&(i._clearTimer(p[k]),i._endTimers[p[k]]=setTimeout(i._ended.bind(i,m),N)),i._emit("rate",m._id)}}else return m=i._soundById(p),m?m._rate:i._rate;return i},seek:function(){var i=this,c=arguments,d,p;if(c.length===0)i._sounds.length&&(p=i._sounds[0]._id);else if(c.length===1){var g=i._getSoundIds(),v=g.indexOf(c[0]);v>=0?p=parseInt(c[0],10):i._sounds.length&&(p=i._sounds[0]._id,d=parseFloat(c[0]))}else c.length===2&&(d=parseFloat(c[0]),p=parseInt(c[1],10));if(typeof p=="undefined")return 0;if(typeof d=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,c)}}),i;var m=i._soundById(p);if(m)if(typeof d=="number"&&d>=0){var k=i.playing(p);k&&i.pause(p,!0),m._seek=d,m._ended=!1,i._clearTimer(p),!i._webAudio&&m._node&&!isNaN(m._node.duration)&&(m._node.currentTime=d);var A=function(){k&&i.play(p,!0),i._emit("seek",p)};if(k&&!i._webAudio){var w=function(){i._playLock?setTimeout(w,0):A()};setTimeout(w,0)}else A()}else if(i._webAudio){var N=i.playing(p)?t.ctx.currentTime-m._playStart:0,W=m._rateSeek?m._rateSeek-m._seek:0;return m._seek+(W+N*Math.abs(m._rate))}else return m._node.currentTime;return i},playing:function(i){var c=this;if(typeof i=="number"){var d=c._soundById(i);return d?!d._paused:!1}for(var p=0;p<c._sounds.length;p++)if(!c._sounds[p]._paused)return!0;return!1},duration:function(i){var c=this,d=c._duration,p=c._soundById(i);return p&&(d=c._sprite[p._sprite][1]/1e3),d},state:function(){return this._state},unload:function(){for(var i=this,c=i._sounds,d=0;d<c.length;d++)c[d]._paused||i.stop(c[d]._id),i._webAudio||(i._clearSound(c[d]._node),c[d]._node.removeEventListener("error",c[d]._errorFn,!1),c[d]._node.removeEventListener(t._canPlayEvent,c[d]._loadFn,!1),c[d]._node.removeEventListener("ended",c[d]._endFn,!1),t._releaseHtml5Audio(c[d]._node)),delete c[d]._node,i._clearTimer(c[d]._id);var p=t._howls.indexOf(i);p>=0&&t._howls.splice(p,1);var g=!0;for(d=0;d<t._howls.length;d++)if(t._howls[d]._src===i._src||i._src.indexOf(t._howls[d]._src)>=0){g=!1;break}return a&&g&&delete a[i._src],t.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,c,d,p){var g=this,v=g["_on"+i];return typeof c=="function"&&v.push(p?{id:d,fn:c,once:p}:{id:d,fn:c}),g},off:function(i,c,d){var p=this,g=p["_on"+i],v=0;if(typeof c=="number"&&(d=c,c=null),c||d)for(v=0;v<g.length;v++){var m=d===g[v].id;if(c===g[v].fn&&m||!c&&m){g.splice(v,1);break}}else if(i)p["_on"+i]=[];else{var k=Object.keys(p);for(v=0;v<k.length;v++)k[v].indexOf("_on")===0&&Array.isArray(p[k[v]])&&(p[k[v]]=[])}return p},once:function(i,c,d){var p=this;return p.on(i,c,d,1),p},_emit:function(i,c,d){for(var p=this,g=p["_on"+i],v=g.length-1;v>=0;v--)(!g[v].id||g[v].id===c||i==="load")&&(setTimeout(function(m){m.call(this,c,d)}.bind(p,g[v].fn),0),g[v].once&&p.off(i,g[v].fn,g[v].id));return p._loadQueue(i),p},_loadQueue:function(i){var c=this;if(c._queue.length>0){var d=c._queue[0];d.event===i&&(c._queue.shift(),c._loadQueue()),i||d.action()}return c},_ended:function(i){var c=this,d=i._sprite;if(!c._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(c._ended.bind(c,i),100),c;var p=!!(i._loop||c._sprite[d][2]);if(c._emit("end",i._id),!c._webAudio&&p&&c.stop(i._id,!0).play(i._id),c._webAudio&&p){c._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=t.ctx.currentTime;var g=(i._stop-i._start)*1e3/Math.abs(i._rate);c._endTimers[i._id]=setTimeout(c._ended.bind(c,i),g)}return c._webAudio&&!p&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,c._clearTimer(i._id),c._cleanBuffer(i._node),t._autoSuspend()),!c._webAudio&&!p&&c.stop(i._id,!0),c},_clearTimer:function(i){var c=this;if(c._endTimers[i]){if(typeof c._endTimers[i]!="function")clearTimeout(c._endTimers[i]);else{var d=c._soundById(i);d&&d._node&&d._node.removeEventListener("ended",c._endTimers[i],!1)}delete c._endTimers[i]}return c},_soundById:function(i){for(var c=this,d=0;d<c._sounds.length;d++)if(i===c._sounds[d]._id)return c._sounds[d];return null},_inactiveSound:function(){var i=this;i._drain();for(var c=0;c<i._sounds.length;c++)if(i._sounds[c]._ended)return i._sounds[c].reset();return new n(i)},_drain:function(){var i=this,c=i._pool,d=0,p=0;if(!(i._sounds.length<c)){for(p=0;p<i._sounds.length;p++)i._sounds[p]._ended&&d++;for(p=i._sounds.length-1;p>=0;p--){if(d<=c)return;i._sounds[p]._ended&&(i._webAudio&&i._sounds[p]._node&&i._sounds[p]._node.disconnect(0),i._sounds.splice(p,1),d--)}}},_getSoundIds:function(i){var c=this;if(typeof i=="undefined"){for(var d=[],p=0;p<c._sounds.length;p++)d.push(c._sounds[p]._id);return d}else return[i]},_refreshBuffer:function(i){var c=this;return i._node.bufferSource=t.ctx.createBufferSource(),i._node.bufferSource.buffer=a[c._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,t.ctx.currentTime),c},_cleanBuffer:function(i){var c=this,d=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),d))try{i.bufferSource.buffer=t._scratchBuffer}catch{}return i.bufferSource=null,c},_clearSound:function(i){var c=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);c||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var n=function(i){this._parent=i,this.init()};n.prototype={init:function(){var i=this,c=i._parent;return i._muted=c._muted,i._loop=c._loop,i._volume=c._volume,i._rate=c._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++t._counter,c._sounds.push(i),i.create(),i},create:function(){var i=this,c=i._parent,d=t._muted||i._muted||i._parent._muted?0:i._volume;return c._webAudio?(i._node=typeof t.ctx.createGain=="undefined"?t.ctx.createGainNode():t.ctx.createGain(),i._node.gain.setValueAtTime(d,t.ctx.currentTime),i._node.paused=!0,i._node.connect(t.masterGain)):t.noAudio||(i._node=t._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(t._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=c._src,i._node.preload=c._preload===!0?"auto":c._preload,i._node.volume=d*t.volume(),i._node.load()),i},reset:function(){var i=this,c=i._parent;return i._muted=c._muted,i._loop=c._loop,i._volume=c._volume,i._rate=c._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++t._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,c=i._parent;c._duration=Math.ceil(i._node.duration*10)/10,Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue()),i._node.removeEventListener(t._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,c=i._parent;c._duration===1/0&&(c._duration=Math.ceil(i._node.duration*10)/10,c._sprite.__default[1]===1/0&&(c._sprite.__default[1]=c._duration*1e3),c._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var a={},l=function(i){var c=i._src;if(a[c]){i._duration=a[c].duration,f(i);return}if(/^data:[^;]+;base64,/.test(c)){for(var d=atob(c.split(",")[1]),p=new Uint8Array(d.length),g=0;g<d.length;++g)p[g]=d.charCodeAt(g);s(p.buffer,i)}else{var v=new XMLHttpRequest;v.open(i._xhr.method,c,!0),v.withCredentials=i._xhr.withCredentials,v.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(m){v.setRequestHeader(m,i._xhr.headers[m])}),v.onload=function(){var m=(v.status+"")[0];if(m!=="0"&&m!=="2"&&m!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}s(v.response,i)},v.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete a[c],i.load())},u(v)}},u=function(i){try{i.send()}catch{i.onerror()}},s=function(i,c){var d=function(){c._emit("loaderror",null,"Decoding audio data failed.")},p=function(g){g&&c._sounds.length>0?(a[c._src]=g,f(c,g)):d()};typeof Promise!="undefined"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(i).then(p).catch(d):t.ctx.decodeAudioData(i,p,d)},f=function(i,c){c&&!i._duration&&(i._duration=c.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},h=function(){if(!!t.usingWebAudio){try{typeof AudioContext!="undefined"?t.ctx=new AudioContext:typeof webkitAudioContext!="undefined"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),c=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=c?parseInt(c[1],10):null;if(i&&d&&d<9){var p=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!p&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain=="undefined"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};o.Howler=t,o.Howl=r,typeof Pe!="undefined"?(Pe.HowlerGlobal=e,Pe.Howler=t,Pe.Howl=r,Pe.Sound=n):typeof window!="undefined"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=r,window.Sound=n)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var n=r._howls.length-1;n>=0;n--)r._howls[n].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,n){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(r=typeof r!="number"?a._pos[1]:r,n=typeof n!="number"?a._pos[2]:n,typeof t=="number")a._pos=[t,r,n],typeof a.ctx.listener.positionX!="undefined"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(t,r,n,a,l,u){var s=this;if(!s.ctx||!s.ctx.listener)return s;var f=s._orientation;if(r=typeof r!="number"?f[1]:r,n=typeof n!="number"?f[2]:n,a=typeof a!="number"?f[3]:a,l=typeof l!="number"?f[4]:l,u=typeof u!="number"?f[5]:u,typeof t=="number")s._orientation=[t,r,n,a,l,u],typeof s.ctx.listener.forwardX!="undefined"?(s.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),s.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),s.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),s.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),s.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),s.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):s.ctx.listener.setOrientation(t,r,n,a,l,u);else return f;return s},Howl.prototype.init=function(t){return function(r){var n=this;return n._orientation=r.orientation||[1,0,0],n._stereo=r.stereo||null,n._pos=r.pos||null,n._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle!="undefined"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle!="undefined"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain!="undefined"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel!="undefined"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance!="undefined"?r.maxDistance:1e4,panningModel:typeof r.panningModel!="undefined"?r.panningModel:"HRTF",refDistance:typeof r.refDistance!="undefined"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor!="undefined"?r.rolloffFactor:1},n._onstereo=r.onstereo?[{fn:r.onstereo}]:[],n._onpos=r.onpos?[{fn:r.onpos}]:[],n._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var n=this;if(!n._webAudio)return n;if(n._state!=="loaded")return n._queue.push({event:"stereo",action:function(){n.stereo(t,r)}}),n;var a=typeof Howler.ctx.createStereoPanner=="undefined"?"spatial":"stereo";if(typeof r=="undefined")if(typeof t=="number")n._stereo=t,n._pos=[t,0,0];else return n._stereo;for(var l=n._getSoundIds(r),u=0;u<l.length;u++){var s=n._soundById(l[u]);if(s)if(typeof t=="number")s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",(!s._panner||!s._panner.pan)&&e(s,a),a==="spatial"?typeof s._panner.positionX!="undefined"?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),n._emit("stereo",s._id);else return s._stereo}return n},Howl.prototype.pos=function(t,r,n,a){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(t,r,n,a)}}),l;if(r=typeof r!="number"?0:r,n=typeof n!="number"?-.5:n,typeof a=="undefined")if(typeof t=="number")l._pos=[t,r,n];else return l._pos;for(var u=l._getSoundIds(a),s=0;s<u.length;s++){var f=l._soundById(u[s]);if(f)if(typeof t=="number")f._pos=[t,r,n],f._node&&((!f._panner||f._panner.pan)&&e(f,"spatial"),typeof f._panner.positionX!="undefined"?(f._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):f._panner.setPosition(t,r,n)),l._emit("pos",f._id);else return f._pos}return l},Howl.prototype.orientation=function(t,r,n,a){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(t,r,n,a)}}),l;if(r=typeof r!="number"?l._orientation[1]:r,n=typeof n!="number"?l._orientation[2]:n,typeof a=="undefined")if(typeof t=="number")l._orientation=[t,r,n];else return l._orientation;for(var u=l._getSoundIds(a),s=0;s<u.length;s++){var f=l._soundById(u[s]);if(f)if(typeof t=="number")f._orientation=[t,r,n],f._node&&(f._panner||(f._pos||(f._pos=l._pos||[0,0,-.5]),e(f,"spatial")),typeof f._panner.orientationX!="undefined"?(f._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):f._panner.setOrientation(t,r,n)),l._emit("orientation",f._id);else return f._orientation}return l},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,n,a,l;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")n=r[0],typeof a=="undefined"&&(n.pannerAttr||(n.pannerAttr={coneInnerAngle:n.coneInnerAngle,coneOuterAngle:n.coneOuterAngle,coneOuterGain:n.coneOuterGain,distanceModel:n.distanceModel,maxDistance:n.maxDistance,refDistance:n.refDistance,rolloffFactor:n.rolloffFactor,panningModel:n.panningModel}),t._pannerAttr={coneInnerAngle:typeof n.pannerAttr.coneInnerAngle!="undefined"?n.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof n.pannerAttr.coneOuterAngle!="undefined"?n.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof n.pannerAttr.coneOuterGain!="undefined"?n.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof n.pannerAttr.distanceModel!="undefined"?n.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof n.pannerAttr.maxDistance!="undefined"?n.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof n.pannerAttr.refDistance!="undefined"?n.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof n.pannerAttr.rolloffFactor!="undefined"?n.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof n.pannerAttr.panningModel!="undefined"?n.pannerAttr.panningModel:t._panningModel});else return l=t._soundById(parseInt(r[0],10)),l?l._pannerAttr:t._pannerAttr;else r.length===2&&(n=r[0],a=parseInt(r[1],10));for(var u=t._getSoundIds(a),s=0;s<u.length;s++)if(l=t._soundById(u[s]),l){var f=l._pannerAttr;f={coneInnerAngle:typeof n.coneInnerAngle!="undefined"?n.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof n.coneOuterAngle!="undefined"?n.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof n.coneOuterGain!="undefined"?n.coneOuterGain:f.coneOuterGain,distanceModel:typeof n.distanceModel!="undefined"?n.distanceModel:f.distanceModel,maxDistance:typeof n.maxDistance!="undefined"?n.maxDistance:f.maxDistance,refDistance:typeof n.refDistance!="undefined"?n.refDistance:f.refDistance,rolloffFactor:typeof n.rolloffFactor!="undefined"?n.rolloffFactor:f.rolloffFactor,panningModel:typeof n.panningModel!="undefined"?n.panningModel:f.panningModel};var h=l._panner;h?(h.coneInnerAngle=f.coneInnerAngle,h.coneOuterAngle=f.coneOuterAngle,h.coneOuterGain=f.coneOuterGain,h.distanceModel=f.distanceModel,h.maxDistance=f.maxDistance,h.refDistance=f.refDistance,h.rolloffFactor=f.rolloffFactor,h.panningModel=f.panningModel):(l._pos||(l._pos=t._pos||[0,0,-.5]),e(l,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var r=this,n=r._parent;r._orientation=n._orientation,r._stereo=n._stereo,r._pos=n._pos,r._pannerAttr=n._pannerAttr,t.call(this),r._stereo?n.stereo(r._stereo):r._pos&&n.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var r=this,n=r._parent;return r._orientation=n._orientation,r._stereo=n._stereo,r._pos=n._pos,r._pannerAttr=n._pannerAttr,r._stereo?n.stereo(r._stereo):r._pos?n.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,n._refreshBuffer(r)),t.call(this)}}(Sound.prototype.reset);var e=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX!="undefined"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX!="undefined"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(Pr);function ii(o,e,t){let{soundFile:r=!1}=e,n=!1,a={};const l=()=>{a&&a.playing&&(a.stop(),a.unload(),a={})};return Tr(async()=>{l()}),o.$$set=u=>{"soundFile"in u&&t(0,r=u.soundFile)},o.$$.update=()=>{o.$$.dirty&3&&r&&(t(1,n="https://cdn.sanity.io/files/58ueii0w/production/"+fe(r,"asset._ref","").replace("file-","").replace("-mp3",".mp3")),l(),a=new Pr.Howl({src:[n],loop:!0,autoplay:!0}))},[r,n]}class ai extends ae{constructor(e){super(),oe(this,e,ii,null,le,{soundFile:0})}}function Ut(o){let e,t,r,n,a,l,u,s=o[0].iconImage&&xt(o);return{c(){e=y("div"),s&&s.c(),this.h()},l(f){e=I(f,"DIV",{class:!0,id:!0,style:!0,tabindex:!0,"aria-label":!0,role:!0});var h=S(e);s&&s.l(h),h.forEach(b),this.h()},h(){_(e,"class","portal svelte-1kgpwjb"),_(e,"id",t=o[0]._id),_(e,"style",o[2]),_(e,"tabindex","0"),_(e,"aria-label",r="Go to "+o[0].title),_(e,"role","uiitem")},m(f,h){C(f,e,h),s&&s.m(e,null),o[5](e),a=!0,l||(u=Y(e,"keydown",o[6]),l=!0)},p(f,h){f[0].iconImage?s?s.p(f,h):(s=xt(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null),(!a||h&1&&t!==(t=f[0]._id))&&_(e,"id",t),(!a||h&1&&r!==(r="Go to "+f[0].title))&&_(e,"aria-label",r)},i(f){a||(pe(()=>{n||(n=de(e,se,{},!0)),n.run(1)}),a=!0)},o(f){n||(n=de(e,se,{},!1)),n.run(0),a=!1},d(f){f&&b(e),s&&s.d(),o[5](null),f&&n&&n.end(),l=!1,u()}}}function xt(o){let e,t,r;return{c(){e=y("img"),this.h()},l(n){e=I(n,"IMG",{src:!0,alt:!0}),this.h()},h(){re(e.src,t=Ce(o[0].iconImage).quality(100).height(100).url())||_(e,"src",t),_(e,"alt",r=o[0].alt)},m(n,a){C(n,e,a)},p(n,a){a&1&&!re(e.src,t=Ce(n[0].iconImage).quality(100).height(100).url())&&_(e,"src",t),a&1&&r!==(r=n[0].alt)&&_(e,"alt",r)},d(n){n&&b(e)}}}function oi(o){let e,t,r=!o[0].restricted&&Ut(o);return{c(){r&&r.c(),e=j()},l(n){r&&r.l(n),e=j()},m(n,a){r&&r.m(n,a),C(n,e,a),t=!0},p(n,[a]){n[0].restricted?r&&($(),R(r,1,1,()=>{r=null}),K()):r?(r.p(n,a),a&1&&T(r,1)):(r=Ut(n),r.c(),T(r,1),r.m(e.parentNode,e))},i(n){t||(T(r),t=!0)},o(n){R(r),t=!1},d(n){r&&r.d(n),n&&b(e)}}}function li(o,e,t){let r;z(o,He,d=>t(7,r=d));let{portal:n={}}=e,a={},l={},u=n.y*_e,s=n.x*_e;const f=`transform: translateY(${u}px) translateX(${s}px); width: ${_e}px; height: ${_e}px; background-color: ${fe(n,"backgroundColor.hex","")}; background-image: url("${fe(n,"bgImageUrl","")}");"`,h=Ee();Te(async()=>{const d=ft;d.content="door to "+fe(n,"targetArea.title",""),r.showTitles||(d.theme="name"),d.appendTo=a.parentElement,t(4,l=tippy(a,d))});function i(d){we[d?"unshift":"push"](()=>{a=d,t(1,a)})}const c=d=>{d.key==="Enter"&&h("room",{roomId:n.targetArea._id})};return o.$$set=d=>{"portal"in d&&t(0,n=d.portal)},o.$$.update=()=>{o.$$.dirty&16&&l.popper&&l.show()},[n,a,f,h,l,i,c]}class si extends ae{constructor(e){super(),oe(this,e,li,oi,le,{portal:0})}}function Xt(o,e,t){const r=o.slice();return r[4]=e[t],r}function Vt(o){let e,t,r=[],n=new Map,a,l=o[0];const u=s=>s[4]._id;for(let s=0;s<l.length;s+=1){let f=Xt(o,l,s),h=u(f);n.set(h,r[s]=jt(h,f))}return{c(){e=y("div"),t=y("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=I(s,"DIV",{role:!0});var f=S(e);t=I(f,"DIV",{role:!0});var h=S(t);for(let i=0;i<r.length;i+=1)r[i].l(h);h.forEach(b),f.forEach(b),this.h()},h(){_(t,"role","group"),_(e,"role","portals")},m(s,f){C(s,e,f),E(e,t);for(let h=0;h<r.length;h+=1)r[h].m(t,null);a=!0},p(s,f){f&5&&(l=s[0],$(),r=qe(r,f,u,1,s,l,n,t,et,jt,null,Xt),K())},i(s){if(!a){for(let f=0;f<l.length;f+=1)T(r[f]);a=!0}},o(s){for(let f=0;f<r.length;f+=1)R(r[f]);a=!1},d(s){s&&b(e);for(let f=0;f<r.length;f+=1)r[f].d()}}}function jt(o,e){let t,r,n;return r=new si({props:{portal:e[4]}}),r.$on("room",e[3]),{key:o,first:null,c(){t=j(),Q(r.$$.fragment),this.h()},l(a){t=j(),q(r.$$.fragment,a),this.h()},h(){this.first=t},m(a,l){C(a,t,l),ee(r,a,l),n=!0},p(a,l){e=a;const u={};l&1&&(u.portal=e[4]),r.$set(u)},i(a){n||(T(r.$$.fragment,a),n=!0)},o(a){R(r.$$.fragment,a),n=!1},d(a){a&&b(t),te(r,a)}}}function ui(o){let e,t,r=!o[1]&&Vt(o);return{c(){r&&r.c(),e=j()},l(n){r&&r.l(n),e=j()},m(n,a){r&&r.m(n,a),C(n,e,a),t=!0},p(n,[a]){n[1]?r&&($(),R(r,1,1,()=>{r=null}),K()):r?(r.p(n,a),a&2&&T(r,1)):(r=Vt(n),r.c(),T(r,1),r.m(e.parentNode,e))},i(n){t||(T(r),t=!0)},o(n){R(r),t=!1},d(n){r&&r.d(n),n&&b(e)}}}function ci(o,e,t){let r;z(o,Be,u=>t(1,r=u));const n=Ee();let{portals:a={}}=e;const l=u=>{u.detail.roomId&&n("room",{roomId:u.detail.roomId})};return o.$$set=u=>{"portals"in u&&t(0,a=u.portals)},[a,r,n,l]}class fi extends ae{constructor(e){super(),oe(this,e,ci,ui,le,{portals:0})}}function di(o){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(r){e=Je(r,"svg",{version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,x:!0,y:!0,viewBox:!0,style:!0,"xml:space":!0,class:!0});var n=S(e);t=Je(n,"path",{d:!0,class:!0}),S(t).forEach(b),n.forEach(b),this.h()},h(){_(t,"d","M17.7,70.4h17.4V12.5H17.7V70.4z M46.6,12.5v57.8H64V12.5H46.6z"),_(t,"class","svelte-192w1ja"),_(e,"version","1.1"),_(e,"id","Layer_1"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"x","0px"),_(e,"y","0px"),_(e,"viewBox","0 0 81.7 82.9"),Sr(e,"enable-background","new 0 0 81.7 82.9"),_(e,"xml:space","preserve"),_(e,"class","svelte-192w1ja")},m(r,n){C(r,e,n),E(e,t)},p:ce,i:ce,o:ce,d(r){r&&b(e)}}}class hi extends ae{constructor(e){super(),oe(this,e,null,di,le,{})}}function pi(o){let e,t,r,n,a,l,u=o[1]&&zt(o);return{c(){e=y("div"),t=y("iframe"),n=F(),u&&u.c(),a=j(),this.h()},l(s){e=I(s,"DIV",{class:!0});var f=S(e);t=I(f,"IFRAME",{class:!0,width:!0,height:!0,src:!0,frameborder:!0,color:!0,allow:!0,sandbox:!0}),S(t).forEach(b),f.forEach(b),n=M(s),u&&u.l(s),a=j(),this.h()},h(){_(t,"class","peertube svelte-1hn1v36"),_(t,"width","1920"),_(t,"height","1080"),re(t.src,r=o[0]+"?api=1")||_(t,"src",r),_(t,"frameborder","no"),_(t,"color","#ffffff"),_(t,"allow","autoplay; fullscreen"),_(t,"sandbox","allow-same-origin allow-scripts allow-popups"),t.allowFullscreen=!0,_(e,"class","peertube-container svelte-1hn1v36"),B(e,"hidden",o[1])},m(s,f){C(s,e,f),E(e,t),C(s,n,f),u&&u.m(s,f),C(s,a,f),l=!0},p(s,f){(!l||f&1&&!re(t.src,r=s[0]+"?api=1"))&&_(t,"src",r),f&2&&B(e,"hidden",s[1]),s[1]?u?(u.p(s,f),f&2&&T(u,1)):(u=zt(s),u.c(),T(u,1),u.m(a.parentNode,a)):u&&($(),R(u,1,1,()=>{u=null}),K())},i(s){l||(T(u),l=!0)},o(s){R(u),l=!1},d(s){s&&b(e),s&&b(n),u&&u.d(s),s&&b(a)}}}function _i(o){let e,t,r;return{c(){e=y("div"),t=y("iframe"),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=S(e);t=I(a,"IFRAME",{width:!0,height:!0,src:!0,frameborder:!0,scrolling:!0,byline:!0,color:!0,allow:!0,class:!0}),S(t).forEach(b),a.forEach(b),this.h()},h(){_(t,"width","720"),_(t,"height","480"),re(t.src,r="https://player.vimeo.com/video/"+De(o[0]).id+"?autoplay=1")||_(t,"src",r),_(t,"frameborder","no"),_(t,"scrolling","no"),_(t,"byline","false"),_(t,"color","#ffffff"),_(t,"allow","autoplay; fullscreen"),t.allowFullscreen=!0,_(t,"class","svelte-1hn1v36"),_(e,"class","vimeo-container svelte-1hn1v36")},m(n,a){C(n,e,a),E(e,t)},p(n,a){a&1&&!re(t.src,r="https://player.vimeo.com/video/"+De(n[0]).id+"?autoplay=1")&&_(t,"src",r)},i:ce,o:ce,d(n){n&&b(e)}}}function mi(o){let e,t,r;return{c(){e=y("div"),t=y("iframe"),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=S(e);t=I(a,"IFRAME",{width:!0,height:!0,src:!0,frameborder:!0,allow:!0,class:!0}),S(t).forEach(b),a.forEach(b),this.h()},h(){_(t,"width","1920"),_(t,"height","1280"),re(t.src,r="https://www.youtube.com/embed/"+De(o[0]).id+"?autoplay=1&rel=0&color=white")||_(t,"src",r),_(t,"frameborder","no"),_(t,"allow","autoplay; fullscreen"),t.allowFullscreen=!0,_(t,"class","svelte-1hn1v36"),_(e,"class","youtube-container svelte-1hn1v36")},m(n,a){C(n,e,a),E(e,t)},p(n,a){a&1&&!re(t.src,r="https://www.youtube.com/embed/"+De(n[0]).id+"?autoplay=1&rel=0&color=white")&&_(t,"src",r)},i:ce,o:ce,d(n){n&&b(e)}}}function zt(o){let e,t,r,n,a,l,u,s,f,h,i,c,d,p,g;const v=[gi,vi],m=[];function k(A,w){return A[3]?0:1}return u=k(o),s=m[u]=v[u](o),{c(){e=y("div"),t=y("div"),r=x(o[2]),n=F(),a=y("div"),l=y("div"),s.c(),f=F(),h=y("div"),i=y("div"),this.h()},l(A){e=I(A,"DIV",{class:!0});var w=S(e);t=I(w,"DIV",{class:!0});var N=S(t);r=X(N,o[2]),N.forEach(b),n=M(w),a=I(w,"DIV",{class:!0});var W=S(a);l=I(W,"DIV",{class:!0});var V=S(l);s.l(V),V.forEach(b),f=M(W),h=I(W,"DIV",{class:!0});var ie=S(h);i=I(ie,"DIV",{class:!0,style:!0}),S(i).forEach(b),ie.forEach(b),W.forEach(b),w.forEach(b),this.h()},h(){_(t,"class","title svelte-1hn1v36"),_(l,"class","control svelte-1hn1v36"),_(i,"class","progress svelte-1hn1v36"),_(i,"style",c="width: "+o[4]+"%;"),_(h,"class","playbar svelte-1hn1v36"),_(a,"class","controls svelte-1hn1v36"),_(e,"class","audio-interface svelte-1hn1v36")},m(A,w){C(A,e,w),E(e,t),E(t,r),E(e,n),E(e,a),E(a,l),m[u].m(l,null),E(a,f),E(a,h),E(h,i),d=!0,p||(g=Y(l,"click",o[5]),p=!0)},p(A,w){(!d||w&4)&&ye(r,A[2]);let N=u;u=k(A),u!==N&&($(),R(m[N],1,1,()=>{m[N]=null}),K(),s=m[u],s||(s=m[u]=v[u](A),s.c()),T(s,1),s.m(l,null)),(!d||w&16&&c!==(c="width: "+A[4]+"%;"))&&_(i,"style",c)},i(A){d||(T(s),d=!0)},o(A){R(s),d=!1},d(A){A&&b(e),m[u].d(),p=!1,g()}}}function vi(o){let e,t;return e=new tn({}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function gi(o){let e,t;return e=new hi({}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function bi(o){let e,t,r,n,a,l,u,s,f;const h=[mi,_i,pi],i=[];function c(d,p){return p&1&&(r=null),p&1&&(n=null),p&1&&(a=null),r==null&&(r=!!(d[0].includes("youtube")||d[0].includes("youtu.be"))),r?0:(n==null&&(n=!!d[0].includes("vimeo")),n?1:(a==null&&(a=!!d[0].includes("undersco.re")),a?2:-1))}return~(l=c(o,-1))&&(u=i[l]=h[l](o)),{c(){e=y("div"),t=y("div"),u&&u.c(),this.h()},l(d){e=I(d,"DIV",{class:!0});var p=S(e);t=I(p,"DIV",{class:!0});var g=S(t);u&&u.l(g),g.forEach(b),p.forEach(b),this.h()},h(){_(t,"class","embed svelte-1hn1v36"),_(e,"class","stream-container svelte-1hn1v36"),B(e,"audio",o[1])},m(d,p){C(d,e,p),E(e,t),~l&&i[l].m(t,null),f=!0},p(d,[p]){o=d;let g=l;l=c(o,p),l===g?~l&&i[l].p(o,p):(u&&($(),R(i[g],1,1,()=>{i[g]=null}),K()),~l?(u=i[l],u?u.p(o,p):(u=i[l]=h[l](o),u.c()),T(u,1),u.m(t,null)):u=null),p&2&&B(e,"audio",o[1])},i(d){f||(T(u),pe(()=>{s||(s=de(e,se,{duration:300,easing:ut},!0)),s.run(1)}),f=!0)},o(d){R(u),s||(s=de(e,se,{duration:300,easing:ut},!1)),s.run(0),f=!1},d(d){d&&b(e),~l&&i[l].d(),d&&s&&s.end()}}}function ki(o,e,t){const r=window.PeerTubePlayer;let{streamUrl:n=""}=e,{audioOnly:a=!1}=e,{title:l=""}=e,u,s=!1,f=0;const h=()=>{s?u.pause():u.play(),t(3,s=!s)};return Te(async()=>{n.includes("undersco.re")&&(u=new r(document.querySelector(".peertube")),await u.ready,u.play(),t(3,s=!0),u.setResolution(2),u.addEventListener("playbackStatusUpdate",i=>{t(4,f=(i.position/i.duration).toFixed(4)*100)}))}),o.$$set=i=>{"streamUrl"in i&&t(0,n=i.streamUrl),"audioOnly"in i&&t(1,a=i.audioOnly),"title"in i&&t(2,l=i.title)},[n,a,l,s,f,h]}class Gr extends ae{constructor(e){super(),oe(this,e,ki,bi,le,{streamUrl:0,audioOnly:1,title:2})}}function Ai(o){let e,t,r;return{c(){e=y("div"),t=y("iframe"),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=S(e);t=I(a,"IFRAME",{width:!0,height:!0,src:!0,frameborder:!0,color:!0,allow:!0,sandbox:!0,class:!0}),S(t).forEach(b),a.forEach(b),this.h()},h(){_(t,"width","720"),_(t,"height","480"),re(t.src,r=o[0])||_(t,"src",r),_(t,"frameborder","no"),_(t,"color","#ffffff"),_(t,"allow","autoplay; fullscreen"),_(t,"sandbox","allow-same-origin allow-scripts allow-popups"),t.allowFullscreen=!0,_(t,"class","svelte-rt5t1v"),_(e,"class","peertube-container svelte-rt5t1v")},m(n,a){C(n,e,a),E(e,t)},p(n,a){a&1&&!re(t.src,r=n[0])&&_(t,"src",r)},d(n){n&&b(e)}}}function Ei(o){let e,t,r;return{c(){e=y("div"),t=y("iframe"),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=S(e);t=I(a,"IFRAME",{width:!0,height:!0,src:!0,frameborder:!0,scrolling:!0,byline:!0,color:!0,allow:!0,class:!0}),S(t).forEach(b),a.forEach(b),this.h()},h(){_(t,"width","720"),_(t,"height","480"),re(t.src,r="https://player.vimeo.com/video/"+De(o[0]).id)||_(t,"src",r),_(t,"frameborder","no"),_(t,"scrolling","no"),_(t,"byline","false"),_(t,"color","#ffffff"),_(t,"allow","autoplay; fullscreen"),t.allowFullscreen=!0,_(t,"class","svelte-rt5t1v"),_(e,"class","vimeo-container svelte-rt5t1v")},m(n,a){C(n,e,a),E(e,t)},p(n,a){a&1&&!re(t.src,r="https://player.vimeo.com/video/"+De(n[0]).id)&&_(t,"src",r)},d(n){n&&b(e)}}}function yi(o){let e,t,r;return{c(){e=y("div"),t=y("iframe"),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=S(e);t=I(a,"IFRAME",{width:!0,height:!0,src:!0,frameborder:!0,allow:!0,class:!0}),S(t).forEach(b),a.forEach(b),this.h()},h(){_(t,"width","1920"),_(t,"height","1280"),re(t.src,r="https://www.youtube.com/embed/"+De(o[0]).id+"?rel=0&color=white")||_(t,"src",r),_(t,"frameborder","no"),_(t,"allow","autoplay; fullscreen"),t.allowFullscreen=!0,_(t,"class","svelte-rt5t1v"),_(e,"class","youtube-container svelte-rt5t1v")},m(n,a){C(n,e,a),E(e,t)},p(n,a){a&1&&!re(t.src,r="https://www.youtube.com/embed/"+De(n[0]).id+"?rel=0&color=white")&&_(t,"src",r)},d(n){n&&b(e)}}}function Ii(o){let e,t,r,n,a,l;function u(h,i){if(i&1&&(r=null),i&1&&(n=null),i&1&&(a=null),r==null&&(r=!!(h[0].includes("youtube")||h[0].includes("youtu.be"))),r)return yi;if(n==null&&(n=!!h[0].includes("vimeo")),n)return Ei;if(a==null&&(a=!!h[0].includes("undersco.re")),a)return Ai}let s=u(o,-1),f=s&&s(o);return{c(){e=y("div"),t=y("div"),f&&f.c(),this.h()},l(h){e=I(h,"DIV",{class:!0});var i=S(e);t=I(i,"DIV",{class:!0});var c=S(t);f&&f.l(c),c.forEach(b),i.forEach(b),this.h()},h(){_(t,"class","embed svelte-rt5t1v"),_(e,"class","stream-container svelte-rt5t1v")},m(h,i){C(h,e,i),E(e,t),f&&f.m(t,null)},p(h,[i]){o=h,s===(s=u(o,i))&&f?f.p(o,i):(f&&f.d(1),f=s&&s(o),f&&(f.c(),f.m(t,null)))},i(h){l||pe(()=>{l=tt(e,se,{duration:300,easing:ut}),l.start()})},o:ce,d(h){h&&b(e),f&&f.d()}}}function wi(o,e,t){let{streamUrl:r=""}=e;return o.$$set=n=>{"streamUrl"in n&&t(0,r=n.streamUrl)},[r]}class Ti extends ae{constructor(e){super(),oe(this,e,wi,Ii,le,{streamUrl:0})}}function Si(o,e,t){var r={},n="",a="...",l=10>e?e:10,u=["img","br"],s=[],f=0,h=n,i='([\\w|-]+\\s*(=\\s*"[^"]*")?\\s*)*',c="\\s*\\/?\\s*",d="\\s*\\/\\s*",p=new RegExp("<\\/?\\w+\\s*"+i+d+">"),g=new RegExp("<\\/?\\w+\\s*"+i+c+">"),v=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w\-]+@([\w][\w\-]+\.)+[a-zA-Z]{2,3})/g,m=new RegExp("<img\\s*"+i+c+">"),k=new RegExp("\\W+","g"),A=!0,w,N,W,V;function ie(H){var U=m.exec(H),G,O;return U?(G=U.index,O=U[0].length,H.substring(0,G)+H.substring(G+O)):H}function L(H){var U="";return H.reverse().forEach(function(G,O){u.indexOf(G)===-1&&(U+="</"+G+">")}),U}function Z(H){var U=H.indexOf(" ");if(U===-1&&(U=H.indexOf(">"),U===-1))throw new Error("HTML tag is not well-formed : "+H);return H.substring(1,U)}function J(H,U){var G=e-f,O=G,P=G<t.slop,me=P?G:t.slop-1,Le,it=P?0:G-t.slop,at=U||G+t.slop,Ne;if(!t.truncateLastWord){if(Le=H.slice(it,at),U&&Le.length<=U)O=Le.length;else for(;(Ne=k.exec(Le))!==null;)if(Ne.index<me){if(O=G-(me-Ne.index),Ne.index===0&&G<=1)break}else if(Ne.index===me){O=G;break}else{O=G+(Ne.index-me);break}H.charAt(O-1).match(/\s$/)&&O--}return O}for(t=t||r,t.ellipsis=t.ellipsis!==void 0?t.ellipsis:a,t.truncateLastWord=t.truncateLastWord!==void 0?t.truncateLastWord:!0,t.slop=t.slop!==void 0?t.slop:l;A;){if(A=g.exec(o),!A){if(f>=e)break;if(A=v.exec(o),!A||A.index>=e){h+=o.substring(0,J(o));break}for(;A;)w=A[0],N=A.index,h+=o.substring(0,N+w.length-f),o=o.substring(N+w.length),A=v.exec(o);break}if(w=A[0],N=A.index,f+N>e){h+=o.substring(0,J(o,N));break}else f+=N,h+=o.substring(0,N);w[1]==="/"?(s.pop(),V=null):(V=p.exec(w),V||(W=Z(w),s.push(W))),V?h+=V[0]:h+=w,o=o.substring(N+w.length)}return o.length>e-f&&t.ellipsis&&(h+=t.ellipsis),h+=L(s),t.keepImageTag||(h=ie(h)),h}var Oi=Si;function Yt(o){let e,t,r,n=o[1].startDate&&mt(o[1].startDate),a,l,u,s=o[1].title+"",f,h,i=ve(o[1],"content.content")&&o[1].content.content[0].style!="html",c,d=o[1].mainImage&&$t(o),p=n&&Kt(),g=o[1].startDate&&Wt(o),v=i&&Zt(o),m=o[0].importEvent&&Jt(o);return{c(){e=y("div"),d&&d.c(),t=F(),r=y("div"),p&&p.c(),a=F(),g&&g.c(),l=F(),u=y("div"),f=x(s),h=F(),v&&v.c(),c=F(),m&&m.c(),this.h()},l(k){e=I(k,"DIV",{class:!0});var A=S(e);d&&d.l(A),t=M(A),r=I(A,"DIV",{class:!0});var w=S(r);p&&p.l(w),a=M(w),g&&g.l(w),l=M(w),u=I(w,"DIV",{class:!0});var N=S(u);f=X(N,s),N.forEach(b),h=M(w),v&&v.l(w),c=M(w),m&&m.l(w),w.forEach(b),A.forEach(b),this.h()},h(){_(u,"class","title svelte-12z4nak"),_(r,"class","text-container svelte-12z4nak"),_(e,"class","event svelte-12z4nak")},m(k,A){C(k,e,A),d&&d.m(e,null),E(e,t),E(e,r),p&&p.m(r,null),E(r,a),g&&g.m(r,null),E(r,l),E(r,u),E(u,f),E(r,h),v&&v.m(r,null),E(r,c),m&&m.m(r,null)},p(k,A){k[1].mainImage?d?d.p(k,A):(d=$t(k),d.c(),d.m(e,t)):d&&(d.d(1),d=null),A&2&&(n=k[1].startDate&&mt(k[1].startDate)),n?p||(p=Kt(),p.c(),p.m(r,a)):p&&(p.d(1),p=null),k[1].startDate?g?g.p(k,A):(g=Wt(k),g.c(),g.m(r,l)):g&&(g.d(1),g=null),A&2&&s!==(s=k[1].title+"")&&ye(f,s),A&2&&(i=ve(k[1],"content.content")&&k[1].content.content[0].style!="html"),i?v?v.p(k,A):(v=Zt(k),v.c(),v.m(r,c)):v&&(v.d(1),v=null),k[0].importEvent?m?m.p(k,A):(m=Jt(k),m.c(),m.m(r,null)):m&&(m.d(1),m=null)},d(k){k&&b(e),d&&d.d(),p&&p.d(),g&&g.d(),v&&v.d(),m&&m.d()}}}function $t(o){let e,t,r,n;return{c(){e=y("div"),t=y("img"),this.h()},l(a){e=I(a,"DIV",{class:!0});var l=S(e);t=I(l,"IMG",{class:!0,alt:!0,src:!0}),l.forEach(b),this.h()},h(){_(t,"class","image svelte-12z4nak"),_(t,"alt",r=o[1].title),re(t.src,n=o[0].importEvent?_t(o[1].mainImage).quality(90).width(500).height(500).url():Ce(o[1].mainImage).quality(90).width(500).height(500).url())||_(t,"src",n),_(e,"class","image-container svelte-12z4nak")},m(a,l){C(a,e,l),E(e,t)},p(a,l){l&2&&r!==(r=a[1].title)&&_(t,"alt",r),l&3&&!re(t.src,n=a[0].importEvent?_t(a[1].mainImage).quality(90).width(500).height(500).url():Ce(a[1].mainImage).quality(90).width(500).height(500).url())&&_(t,"src",n)},d(a){a&&b(e)}}}function Kt(o){let e,t,r;return{c(){e=y("div"),t=y("div"),r=x("Upcoming"),this.h()},l(n){e=I(n,"DIV",{});var a=S(e);t=I(a,"DIV",{class:!0});var l=S(t);r=X(l,"Upcoming"),l.forEach(b),a.forEach(b),this.h()},h(){_(t,"class","upcoming svelte-12z4nak")},m(n,a){C(n,e,a),E(e,t),E(t,r)},d(n){n&&b(e)}}}function Wt(o){let e,t=vt(o[1].startDate)+"",r;return{c(){e=y("div"),r=x(t),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=S(e);r=X(a,t),a.forEach(b),this.h()},h(){_(e,"class","date svelte-12z4nak")},m(n,a){C(n,e,a),E(e,r)},p(n,a){a&2&&t!==(t=vt(n[1].startDate)+"")&&ye(r,t)},d(n){n&&b(e)}}}function Zt(o){let e;return{c(){e=y("div"),this.h()},l(t){e=I(t,"DIV",{class:!0});var r=S(e);r.forEach(b),this.h()},h(){_(e,"class","description")},m(t,r){C(t,e,r),e.innerHTML=o[2]},p(t,r){r&4&&(e.innerHTML=t[2])},d(t){t&&b(e)}}}function Jt(o){let e,t,r,n;return{c(){e=y("div"),t=y("a"),r=x("More Information Here"),this.h()},l(a){e=I(a,"DIV",{class:!0});var l=S(e);t=I(l,"A",{href:!0,target:!0});var u=S(t);r=X(u,"More Information Here"),u.forEach(b),l.forEach(b),this.h()},h(){_(t,"href",n="https://eyebeam.netlify.app/events/"+fe(o[1],"slug.current")),_(t,"target","_blank"),_(e,"class","link-to-full")},m(a,l){C(a,e,l),E(e,t),E(t,r)},p(a,l){l&2&&n!==(n="https://eyebeam.netlify.app/events/"+fe(a[1],"slug.current"))&&_(t,"href",n)},d(a){a&&b(e)}}}function Qt(o){let e,t,r,n,a,l;return a=new rt({props:{blocks:o[1].content.content}}),{c(){e=y("div"),t=y("h3"),r=x("Messages"),n=F(),Q(a.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var s=S(e);t=I(s,"H3",{class:!0});var f=S(t);r=X(f,"Messages"),f.forEach(b),n=M(s),q(a.$$.fragment,s),s.forEach(b),this.h()},h(){_(t,"class","svelte-12z4nak"),_(e,"class","html-container svelte-12z4nak")},m(u,s){C(u,e,s),E(e,t),E(t,r),E(e,n),ee(a,e,null),l=!0},p(u,s){const f={};s&2&&(f.blocks=u[1].content.content),a.$set(f)},i(u){l||(T(a.$$.fragment,u),l=!0)},o(u){R(a.$$.fragment,u),l=!1},d(u){u&&b(e),te(a)}}}function Ni(o){let e,t=ve(o[1],"content.content")&&o[1].content.content[0].style=="html",r,n,a=o[1]&&o[1].content.content[0].style!="html"&&Yt(o),l=t&&Qt(o);return{c(){a&&a.c(),e=F(),l&&l.c(),r=j()},l(u){a&&a.l(u),e=M(u),l&&l.l(u),r=j()},m(u,s){a&&a.m(u,s),C(u,e,s),l&&l.m(u,s),C(u,r,s),n=!0},p(u,[s]){u[1]&&u[1].content.content[0].style!="html"?a?a.p(u,s):(a=Yt(u),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),s&2&&(t=ve(u[1],"content.content")&&u[1].content.content[0].style=="html"),t?l?(l.p(u,s),s&2&&T(l,1)):(l=Qt(u),l.c(),T(l,1),l.m(r.parentNode,r)):l&&($(),R(l,1,1,()=>{l=null}),K())},i(u){n||(T(l),n=!0)},o(u){R(l),n=!1},d(u){a&&a.d(u),u&&b(e),l&&l.d(u),u&&b(r)}}}function Ri(o,e,t){let{event:r={}}=e,n=!1,a="";return Te(async()=>{r.importEvent?(t(1,n=await Dr("*[_id == '"+r.importedEvent+"'][0]")),t(2,a=Oi(rn(fe(n,"content.content",[])),800))):(t(1,n=r),t(2,a=je(fe(n,"content.content",[]))))}),o.$$set=l=>{"event"in l&&t(0,r=l.event)},[r,n,a]}class Ci extends ae{constructor(e){super(),oe(this,e,Ri,Ni,le,{event:0})}}function qt(o,e,t){const r=o.slice();return r[11]=e[t],r}function er(o){let e,t;return{c(){e=y("div"),t=x(o[1]),this.h()},l(r){e=I(r,"DIV",{"aria-live":!0,class:!0});var n=S(e);t=X(n,o[1]),n.forEach(b),this.h()},h(){_(e,"aria-live","polite"),_(e,"class","viewer-count svelte-1o7zo20")},m(r,n){C(r,e,n),E(e,t)},p(r,n){n&2&&ye(t,r[1])},d(r){r&&b(e)}}}function Di(o){let e,t,r,n,a,l,u,s,f,h,i,c,d=o[0].events,p=[];for(let v=0;v<d.length;v+=1)p[v]=tr(qt(o,d,v));const g=v=>R(p[v],1,1,()=>{p[v]=null});return{c(){e=y("div"),t=y("div"),r=y("h1"),n=x("Bulletin Board"),a=F(),l=y("div"),u=F(),s=y("div");for(let v=0;v<p.length;v+=1)p[v].c();this.h()},l(v){e=I(v,"DIV",{class:!0,"aria-live":!0,"aria-modal":!0,role:!0});var m=S(e);t=I(m,"DIV",{class:!0});var k=S(t);r=I(k,"H1",{class:!0});var A=S(r);n=X(A,"Bulletin Board"),A.forEach(b),a=M(k),l=I(k,"DIV",{class:!0});var w=S(l);w.forEach(b),u=M(k),s=I(k,"DIV",{class:!0});var N=S(s);for(let W=0;W<p.length;W+=1)p[W].l(N);N.forEach(b),k.forEach(b),m.forEach(b),this.h()},h(){_(r,"class","svelte-1o7zo20"),_(l,"class","bulletin-board-actions svelte-1o7zo20"),_(s,"class","bulletin-board-events"),_(t,"class","inner svelte-1o7zo20"),_(e,"class","bulletin-board svelte-1o7zo20"),_(e,"aria-live","polite"),_(e,"aria-modal","true"),_(e,"role","presentation"),B(e,"pushed",o[3])},m(v,m){C(v,e,m),E(e,t),E(t,r),E(r,n),E(t,a),E(t,l),E(t,u),E(t,s);for(let k=0;k<p.length;k+=1)p[k].m(s,null);h=!0,i||(c=Y(e,"click",o[10]),i=!0)},p(v,m){if(m&1){d=v[0].events;let k;for(k=0;k<d.length;k+=1){const A=qt(v,d,k);p[k]?(p[k].p(A,m),T(p[k],1)):(p[k]=tr(A),p[k].c(),T(p[k],1),p[k].m(s,null))}for($(),k=d.length;k<p.length;k+=1)g(k);K()}m&8&&B(e,"pushed",v[3])},i(v){if(!h){for(let m=0;m<d.length;m+=1)T(p[m]);pe(()=>{f||(f=de(e,se,{},!0)),f.run(1)}),h=!0}},o(v){p=p.filter(Boolean);for(let m=0;m<p.length;m+=1)R(p[m]);f||(f=de(e,se,{},!1)),f.run(0),h=!1},d(v){v&&b(e),ze(p,v),v&&f&&f.end(),i=!1,c()}}}function Bi(o){let e,t,r,n,a,l,u=o[2]&&o[2].title&&rr(o);return{c(){e=y("div"),t=y("div"),u&&u.c(),this.h()},l(s){e=I(s,"DIV",{class:!0,"aria-live":!0,"aria-modal":!0,role:!0});var f=S(e);t=I(f,"DIV",{class:!0});var h=S(t);u&&u.l(h),h.forEach(b),f.forEach(b),this.h()},h(){_(t,"class","inner svelte-1o7zo20"),_(e,"class","article svelte-1o7zo20"),_(e,"aria-live","assertive"),_(e,"aria-modal","true"),_(e,"role","presentation"),B(e,"pushed",o[3])},m(s,f){C(s,e,f),E(e,t),u&&u.m(t,null),n=!0,a||(l=Y(e,"click",o[9]),a=!0)},p(s,f){s[2]&&s[2].title?u?(u.p(s,f),f&4&&T(u,1)):(u=rr(s),u.c(),T(u,1),u.m(t,null)):u&&($(),R(u,1,1,()=>{u=null}),K()),f&8&&B(e,"pushed",s[3])},i(s){n||(T(u),pe(()=>{r||(r=de(e,se,{},!0)),r.run(1)}),n=!0)},o(s){R(u),r||(r=de(e,se,{},!1)),r.run(0),n=!1},d(s){s&&b(e),u&&u.d(),s&&r&&r.end(),a=!1,l()}}}function Li(o){let e=ve(o[0],"content.content"),t,r,n=e&&ir(o);return{c(){n&&n.c(),t=j()},l(a){n&&n.l(a),t=j()},m(a,l){n&&n.m(a,l),C(a,t,l),r=!0},p(a,l){l&1&&(e=ve(a[0],"content.content")),e?n?(n.p(a,l),l&1&&T(n,1)):(n=ir(a),n.c(),T(n,1),n.m(t.parentNode,t)):n&&($(),R(n,1,1,()=>{n=null}),K())},i(a){r||(T(n),r=!0)},o(a){R(n),r=!1},d(a){n&&n.d(a),a&&b(t)}}}function Fi(o){let e,t,r,n,a,l;return t=new Ti({props:{streamUrl:o[0].videoUrl}}),{c(){e=y("div"),Q(t.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0,role:!0,"aria-live":!0,"aria-modal":!0});var s=S(e);q(t.$$.fragment,s),s.forEach(b),this.h()},h(){_(e,"class","video svelte-1o7zo20"),_(e,"role","presentation"),_(e,"aria-live","assertive"),_(e,"aria-modal","true"),B(e,"pushed",o[3])},m(u,s){C(u,e,s),ee(t,e,null),n=!0,a||(l=Y(e,"click",o[7]),a=!0)},p(u,s){const f={};s&1&&(f.streamUrl=u[0].videoUrl),t.$set(f),s&8&&B(e,"pushed",u[3])},i(u){n||(T(t.$$.fragment,u),pe(()=>{r||(r=de(e,se,{},!0)),r.run(1)}),n=!0)},o(u){R(t.$$.fragment,u),r||(r=de(e,se,{},!1)),r.run(0),n=!1},d(u){u&&b(e),te(t),u&&r&&r.end(),a=!1,l()}}}function tr(o){let e,t;return e=new Ci({props:{event:o[11]}}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n&1&&(a.event=r[11]),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function rr(o){let e=o[2].title+"",t,r,n=ve(o[2],"content.content"),a,l,u=n&&nr(o);return{c(){t=x(e),r=F(),u&&u.c(),a=j()},l(s){t=X(s,e),r=M(s),u&&u.l(s),a=j()},m(s,f){C(s,t,f),C(s,r,f),u&&u.m(s,f),C(s,a,f),l=!0},p(s,f){(!l||f&4)&&e!==(e=s[2].title+"")&&ye(t,e),f&4&&(n=ve(s[2],"content.content")),n?u?(u.p(s,f),f&4&&T(u,1)):(u=nr(s),u.c(),T(u,1),u.m(a.parentNode,a)):u&&($(),R(u,1,1,()=>{u=null}),K())},i(s){l||(T(u),l=!0)},o(s){R(u),l=!1},d(s){s&&b(t),s&&b(r),u&&u.d(s),s&&b(a)}}}function nr(o){let e,t;return e=new rt({props:{blocks:o[2].content.content,mainSite:!0}}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n&4&&(a.blocks=r[2].content.content),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function ir(o){let e,t,r,n,a,l,u;return r=new rt({props:{blocks:o[0].content.content}}),{c(){e=y("div"),t=y("div"),Q(r.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0,"aria-live":!0,"aria-modal":!0,role:!0});var f=S(e);t=I(f,"DIV",{class:!0});var h=S(t);q(r.$$.fragment,h),h.forEach(b),f.forEach(b),this.h()},h(){_(t,"class","inner svelte-1o7zo20"),_(e,"class","article svelte-1o7zo20"),_(e,"aria-live","assertive"),_(e,"aria-modal","true"),_(e,"role","presentation"),B(e,"pushed",o[3])},m(s,f){C(s,e,f),E(e,t),ee(r,t,null),a=!0,l||(u=Y(e,"click",o[8]),l=!0)},p(s,f){const h={};f&1&&(h.blocks=s[0].content.content),r.$set(h),f&8&&B(e,"pushed",s[3])},i(s){a||(T(r.$$.fragment,s),pe(()=>{n||(n=de(e,se,{},!0)),n.run(1)}),a=!0)},o(s){R(r.$$.fragment,s),n||(n=de(e,se,{},!1)),n.run(0),a=!1},d(s){s&&b(e),te(r),s&&n&&n.end(),l=!1,u()}}}function ar(o){let e,t=o[0].infoText+"",r;return{c(){e=y("div"),r=x(t),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=S(e);r=X(a,t),a.forEach(b),this.h()},h(){_(e,"class","info-text svelte-1o7zo20")},m(n,a){C(n,e,a),E(e,r)},p(n,a){a&1&&t!==(t=n[0].infoText+"")&&ye(r,t)},d(n){n&&b(e)}}}function Mi(o){let e,t,r,n,a,l,u,s,f,h,i,c=o[0].contentType==="video"&&er(o);const d=[Fi,Li,Bi,Di],p=[];function g(m,k){return m[0].contentType==="video"?0:m[0].contentType==="text"?1:m[0].contentType==="importedPost"?2:m[0].isBulletinBoard?3:-1}~(l=g(o))&&(u=p[l]=d[l](o));let v=o[0].infoText&&ar(o);return{c(){c&&c.c(),e=F(),t=y("button"),r=x("Return"),n=F(),a=y("section"),u&&u.c(),s=F(),v&&v.c(),this.h()},l(m){c&&c.l(m),e=M(m),t=I(m,"BUTTON",{class:!0,"aria-label":!0});var k=S(t);r=X(k,"Return"),k.forEach(b),n=M(m),a=I(m,"SECTION",{role:!0});var A=S(a);u&&u.l(A),s=M(A),v&&v.l(A),A.forEach(b),this.h()},h(){_(t,"class","return-button svelte-1o7zo20"),_(t,"aria-label","Return"),_(a,"role","presentation")},m(m,k){c&&c.m(m,k),C(m,e,k),C(m,t,k),E(t,r),C(m,n,k),C(m,a,k),~l&&p[l].m(a,null),E(a,s),v&&v.m(a,null),f=!0,h||(i=Y(t,"click",o[6]),h=!0)},p(m,[k]){m[0].contentType==="video"?c?c.p(m,k):(c=er(m),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null);let A=l;l=g(m),l===A?~l&&p[l].p(m,k):(u&&($(),R(p[A],1,1,()=>{p[A]=null}),K()),~l?(u=p[l],u?u.p(m,k):(u=p[l]=d[l](m),u.c()),T(u,1),u.m(a,s)):u=null),m[0].infoText?v?v.p(m,k):(v=ar(m),v.c(),v.m(a,null)):v&&(v.d(1),v=null)},i(m){f||(T(u),f=!0)},o(m){R(u),f=!1},d(m){c&&c.d(m),m&&b(e),m&&b(t),m&&b(n),m&&b(a),~l&&p[l].d(),v&&v.d(),h=!1,i()}}}function Pi(o,e,t){let r,n;z(o,$e,p=>t(5,r=p)),z(o,Br,p=>t(3,n=p));let{article:a={}}=e,l=0,u="",s;Te(async()=>{nn(a),a.contentType==="importedPost"&&a.importedPost&&t(2,s=await Dr("*[_id == '"+a.importedPost+"'][0]"))}),Tr(async()=>{an()});const f=()=>{Se.set(!1),Lr()},h=p=>{p.target.classList.contains("video")&&Se.set(!1)},i=p=>{p.target.classList.contains("article")&&Se.set(!1)},c=p=>{p.target.classList.contains("article")&&Se.set(!1)},d=p=>{p.target.classList.contains("bulletin-board")&&Se.set(!1)};return o.$$set=p=>{"article"in p&&t(0,a=p.article)},o.$$.update=()=>{if(o.$$.dirty&49){t(4,l=0);for(const[p,g]of Object.entries(r))g.viewing===a._id&&t(4,l++,l)}o.$$.dirty&16&&t(1,u=l===1?"You are the only one here.":`${l} people are here.`)},[a,u,s,n,l,r,f,h,i,c,d]}class Gi extends ae{constructor(e){super(),oe(this,e,Pi,Mi,le,{article:0})}}function Hi(o){let e,t,r,n,a,l,u,s,f,h,i,c,d,p,g,v;return{c(){e=y("div"),t=y("div"),r=x(o[0]),n=F(),a=y("div"),l=y("div"),u=y("div"),s=x("\u25B8"),f=x(`
      Yes`),h=F(),i=y("div"),c=y("div"),d=x("\u25B8"),p=x(`
      No`),this.h()},l(m){e=I(m,"DIV",{class:!0,"aria-live":!0});var k=S(e);t=I(k,"DIV",{});var A=S(t);r=X(A,o[0]),A.forEach(b),n=M(k),a=I(k,"DIV",{class:!0});var w=S(a);l=I(w,"DIV",{class:!0,tabindex:!0,autofocus:!0});var N=S(l);u=I(N,"DIV",{class:!0});var W=S(u);s=X(W,"\u25B8"),W.forEach(b),f=X(N,`
      Yes`),N.forEach(b),h=M(w),i=I(w,"DIV",{class:!0,tabindex:!0});var V=S(i);c=I(V,"DIV",{class:!0});var ie=S(c);d=X(ie,"\u25B8"),ie.forEach(b),p=X(V,`
      No`),V.forEach(b),w.forEach(b),k.forEach(b),this.h()},h(){_(u,"class","marker svelte-1f100a4"),_(l,"class","choice svelte-1f100a4"),_(l,"tabindex","0"),_(l,"autofocus",""),B(l,"is-mobile",o[2]),_(c,"class","marker svelte-1f100a4"),_(i,"class","choice svelte-1f100a4"),_(i,"tabindex","0"),B(i,"is-mobile",o[2]),_(a,"class","multiple-choice"),_(e,"class","room-dialog-box svelte-1f100a4"),_(e,"aria-live","polite"),B(e,"is-mobile",o[2])},m(m,k){C(m,e,k),E(e,t),E(t,r),E(e,n),E(e,a),E(a,l),E(l,u),E(u,s),E(l,f),E(a,h),E(a,i),E(i,c),E(c,d),E(i,p),l.focus(),g||(v=[Y(l,"click",o[4]),Y(l,"keydown",o[5]),Y(i,"click",o[6]),Y(i,"keydown",o[7])],g=!0)},p(m,[k]){k&1&&ye(r,m[0]),k&4&&B(l,"is-mobile",m[2]),k&4&&B(i,"is-mobile",m[2]),k&4&&B(e,"is-mobile",m[2])},i:ce,o:ce,d(m){m&&b(e),g=!1,Oe(v)}}}function Ui(o,e,t){let r;z(o,Ae,i=>t(2,r=i));const n=Ee();let{text:a=""}=e,{roomId:l=""}=e;const u=i=>{n("room",{roomId:l})},s=i=>{i.code==="Enter"&&n("room",{roomId:l})},f=i=>{n("room",{roomId:!1})},h=i=>{i.code==="Enter"&&n("room",{roomId:!1})};return o.$$set=i=>{"text"in i&&t(0,a=i.text),"roomId"in i&&t(1,l=i.roomId)},[a,l,r,n,u,s,f,h]}class xi extends ae{constructor(e){super(),oe(this,e,Ui,Hi,le,{text:0,roomId:1})}}function Xi(o){let e,t,r,n;return t=new xi({props:{text:`Go to ${o[1]}?`,roomId:o[0]}}),t.$on("room",o[4]),{c(){e=y("div"),Q(t.$$.fragment),this.h()},l(a){e=I(a,"DIV",{class:!0,"aria-live":!0});var l=S(e);q(t.$$.fragment,l),l.forEach(b),this.h()},h(){_(e,"class","caption-container svelte-2b336u"),_(e,"aria-live","polite"),B(e,"is-mobile",o[2])},m(a,l){C(a,e,l),ee(t,e,null),n=!0},p(a,[l]){const u={};l&2&&(u.text=`Go to ${a[1]}?`),l&1&&(u.roomId=a[0]),t.$set(u),l&4&&B(e,"is-mobile",a[2])},i(a){n||(T(t.$$.fragment,a),r||pe(()=>{r=tt(e,se,{}),r.start()}),n=!0)},o(a){R(t.$$.fragment,a),n=!1},d(a){a&&b(e),te(t)}}}function Vi(o,e,t){let r;z(o,Ae,s=>t(2,r=s));const n=Ee();let{roomIntent:a=""}=e,{roomTitle:l=""}=e;const u=s=>{n("room",{roomId:s.detail.roomId})};return o.$$set=s=>{"roomIntent"in s&&t(0,a=s.roomIntent),"roomTitle"in s&&t(1,l=s.roomTitle)},[a,l,r,n,u]}class ji extends ae{constructor(e){super(),oe(this,e,Vi,Xi,le,{roomIntent:0,roomTitle:1})}}function zi(o){let e,t,r,n,a,l,u,s,f,h,i,c,d,p,g,v;return{c(){e=y("div"),t=y("div"),r=x(o[0]),n=F(),a=y("div"),l=y("div"),u=y("div"),s=x("\u25B8"),f=x(`
      Yes`),h=F(),i=y("div"),c=y("div"),d=x("\u25B8"),p=x(`
      No`),this.h()},l(m){e=I(m,"DIV",{class:!0,"aria-live":!0});var k=S(e);t=I(k,"DIV",{});var A=S(t);r=X(A,o[0]),A.forEach(b),n=M(k),a=I(k,"DIV",{class:!0});var w=S(a);l=I(w,"DIV",{class:!0,tabindex:!0,autofocus:!0});var N=S(l);u=I(N,"DIV",{class:!0});var W=S(u);s=X(W,"\u25B8"),W.forEach(b),f=X(N,`
      Yes`),N.forEach(b),h=M(w),i=I(w,"DIV",{class:!0,tabindex:!0});var V=S(i);c=I(V,"DIV",{class:!0});var ie=S(c);d=X(ie,"\u25B8"),ie.forEach(b),p=X(V,`
      No`),V.forEach(b),w.forEach(b),k.forEach(b),this.h()},h(){_(u,"class","marker svelte-xh56cg"),_(l,"class","choice svelte-xh56cg"),_(l,"tabindex","0"),_(l,"autofocus",""),B(l,"is-mobile",o[2]),_(c,"class","marker svelte-xh56cg"),_(i,"class","choice svelte-xh56cg"),_(i,"tabindex","0"),B(i,"is-mobile",o[2]),_(a,"class","multiple-choice"),_(e,"class","object-dialog-box svelte-xh56cg"),_(e,"aria-live","polite"),B(e,"is-mobile",o[2])},m(m,k){C(m,e,k),E(e,t),E(t,r),E(e,n),E(e,a),E(a,l),E(l,u),E(u,s),E(l,f),E(a,h),E(a,i),E(i,c),E(c,d),E(i,p),l.focus(),g||(v=[Y(l,"click",o[4]),Y(l,"keydown",o[5]),Y(i,"click",o[6]),Y(i,"keydown",o[7])],g=!0)},p(m,[k]){k&1&&ye(r,m[0]),k&4&&B(l,"is-mobile",m[2]),k&4&&B(i,"is-mobile",m[2]),k&4&&B(e,"is-mobile",m[2])},i:ce,o:ce,d(m){m&&b(e),g=!1,Oe(v)}}}function Yi(o,e,t){let r;z(o,Ae,i=>t(2,r=i));const n=Ee();let{text:a=""}=e,{objectId:l=""}=e;const u=i=>{n("object",{objectId:l})},s=i=>{i.code==="Enter"&&n("object",{objectId:l})},f=i=>{n("object",{objectId:!1})},h=i=>{i.code==="Enter"&&n("object",{objectId:!1})};return o.$$set=i=>{"text"in i&&t(0,a=i.text),"objectId"in i&&t(1,l=i.objectId)},[a,l,r,n,u,s,f,h]}class $i extends ae{constructor(e){super(),oe(this,e,Yi,zi,le,{text:0,objectId:1})}}function Ki(o){let e,t,r,n,a,l;return n=new $i({props:{text:`Look at ${o[1]}?`,objectId:o[0]}}),n.$on("object",o[3]),{c(){e=y("div"),t=x(o[1]),r=F(),Q(n.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0,"aria-live":!0});var s=S(e);t=X(s,o[1]),r=M(s),q(n.$$.fragment,s),s.forEach(b),this.h()},h(){_(e,"class","caption-container svelte-1n310o3"),_(e,"aria-live","polite")},m(u,s){C(u,e,s),E(e,t),E(e,r),ee(n,e,null),l=!0},p(u,[s]){(!l||s&2)&&ye(t,u[1]);const f={};s&2&&(f.text=`Look at ${u[1]}?`),s&1&&(f.objectId=u[0]),n.$set(f)},i(u){l||(T(n.$$.fragment,u),a||pe(()=>{a=tt(e,se,{}),a.start()}),l=!0)},o(u){R(n.$$.fragment,u),l=!1},d(u){u&&b(e),te(n)}}}function Wi(o,e,t){const r=Ee();let{objectIntent:n=""}=e,{objectTitle:a=""}=e;const l=u=>{r("object",{objectId:u.detail.objectId})};return o.$$set=u=>{"objectIntent"in u&&t(0,n=u.objectIntent),"objectTitle"in u&&t(1,a=u.objectTitle)},[n,a,r,l]}class Zi extends ae{constructor(e){super(),oe(this,e,Wi,Ki,le,{objectIntent:0,objectTitle:1})}}function Ji(o){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(r){e=Je(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var n=S(e);t=Je(n,"path",{d:!0,class:!0}),S(t).forEach(b),n.forEach(b),this.h()},h(){_(t,"d","M4.8474 7.78418L0.703963 0.607532L8.99084 0.607531L4.8474 7.78418Z"),_(t,"class","svelte-fiesz8"),_(e,"width","9"),_(e,"height","8"),_(e,"viewBox","0 0 9 8"),_(e,"fill","none"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"class","svelte-fiesz8")},m(r,n){C(r,e,n),E(e,t)},p:ce,i:ce,o:ce,d(r){r&&b(e)}}}class Qi extends ae{constructor(e){super(),oe(this,e,null,Ji,le,{})}}function or(o){let e,t,r,n,a;return t=new Qi({}),{c(){e=y("div"),Q(t.$$.fragment),this.h()},l(l){e=I(l,"DIV",{class:!0});var u=S(e);q(t.$$.fragment,u),u.forEach(b),this.h()},h(){_(e,"class","next-caption svelte-1w479lr")},m(l,u){C(l,e,u),ee(t,e,null),r=!0,n||(a=Y(e,"click",o[7]),n=!0)},p:ce,i(l){r||(T(t.$$.fragment,l),r=!0)},o(l){R(t.$$.fragment,l),r=!1},d(l){l&&b(e),te(t),n=!1,a()}}}function qi(o){let e,t,r=je(o[2].text.content)+"",n,a,l,u,s,f,h=o[1]<o[0].length-1&&or(o);return{c(){e=y("div"),t=y("div"),l=F(),h&&h.c(),this.h()},l(i){e=I(i,"DIV",{class:!0});var c=S(e);t=I(c,"DIV",{class:!0,"aria-live":!0});var d=S(t);d.forEach(b),l=M(c),h&&h.l(c),c.forEach(b),this.h()},h(){_(t,"class","caption-box svelte-1w479lr"),_(t,"aria-live","polite"),_(e,"class","caption-container svelte-1w479lr"),B(e,"is-mobile",o[3])},m(i,c){C(i,e,c),E(e,t),t.innerHTML=r,E(e,l),h&&h.m(e,null),u=!0,s||(f=Y(t,"click",o[6]),s=!0)},p(i,[c]){o=i,(!u||c&4)&&r!==(r=je(o[2].text.content)+"")&&(t.innerHTML=r),o[1]<o[0].length-1?h?(h.p(o,c),c&3&&T(h,1)):(h=or(o),h.c(),T(h,1),h.m(e,null)):h&&($(),R(h,1,1,()=>{h=null}),K()),c&8&&B(e,"is-mobile",o[3])},i(i){u||(pe(()=>{a&&a.end(1),n=tt(t,se,o[5]),n.start()}),T(h),u=!0)},o(i){n&&n.invalidate(),a=Zr(t,se,{duration:100}),R(h),u=!1},d(i){i&&b(e),i&&a&&a.end(),h&&h.d(),s=!1,f()}}}function ea(o,e,t){let r;z(o,Ae,i=>t(3,r=i));const n=Ee(),a={duration:500};let{text:l=[]}=e,u=0,s=!1;const f=i=>{u<l.length-1?(t(1,u++,u),t(2,s=l[u])):n("close")},h=i=>{t(1,u++,u),t(2,s=l[u])};return o.$$set=i=>{"text"in i&&t(0,l=i.text)},o.$$.update=()=>{o.$$.dirty&3&&l.length>0&&t(2,s=l[u])},[l,u,s,r,n,a,f,h]}class ta extends ae{constructor(e){super(),oe(this,e,ea,qi,le,{text:0})}}const ra=["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"];var na={words:ra},ia={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1},aa=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"],oa=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi,la={object:ia,array:aa,regex:oa};const sa=na.words,ua=la.array;class ca{constructor(e={}){Object.assign(this,{list:e.emptyList&&[]||Array.prototype.concat.apply(sa,[ua,e.list||[]]),exclude:e.exclude||[],splitRegex:e.splitRegex||/\b/,placeHolder:e.placeHolder||"*",regex:e.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:e.replaceRegex||/\w/g})}isProfane(e){return this.list.filter(t=>{const r=new RegExp(`\\b${t.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(t.toLowerCase())&&r.test(e)}).length>0||!1}replaceWord(e){return e.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(e){return e.split(this.splitRegex).map(t=>this.isProfane(t)?this.replaceWord(t):t).join(this.splitRegex.exec(e)[0])}addWords(){let e=Array.from(arguments);this.list.push(...e),e.map(t=>t.toLowerCase()).forEach(t=>{this.exclude.includes(t)&&this.exclude.splice(this.exclude.indexOf(t),1)})}removeWords(){this.exclude.push(...Array.from(arguments).map(e=>e.toLowerCase()))}}var fa=ca,Hr={},nt={},dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.TLDs="(AAA|AARP|ABARTH|ABB|ABBOTT|ABBVIE|ABC|ABLE|ABOGADO|ABUDHABI|AC|ACADEMY|ACCENTURE|ACCOUNTANT|ACCOUNTANTS|ACO|ACTOR|AD|ADAC|ADS|ADULT|AE|AEG|AERO|AETNA|AF|AFAMILYCOMPANY|AFL|AFRICA|AG|AGAKHAN|AGENCY|AI|AIG|AIGO|AIRBUS|AIRFORCE|AIRTEL|AKDN|AL|ALFAROMEO|ALIBABA|ALIPAY|ALLFINANZ|ALLSTATE|ALLY|ALSACE|ALSTOM|AM|AMERICANEXPRESS|AMERICANFAMILY|AMEX|AMFAM|AMICA|AMSTERDAM|ANALYTICS|ANDROID|ANQUAN|ANZ|AO|AOL|APARTMENTS|APP|APPLE|AQ|AQUARELLE|AR|ARAB|ARAMCO|ARCHI|ARMY|ARPA|ART|ARTE|AS|ASDA|ASIA|ASSOCIATES|AT|ATHLETA|ATTORNEY|AU|AUCTION|AUDI|AUDIBLE|AUDIO|AUSPOST|AUTHOR|AUTO|AUTOS|AVIANCA|AW|AWS|AX|AXA|AZ|AZURE|BA|BABY|BAIDU|BANAMEX|BANANAREPUBLIC|BAND|BANK|BAR|BARCELONA|BARCLAYCARD|BARCLAYS|BAREFOOT|BARGAINS|BASEBALL|BASKETBALL|BAUHAUS|BAYERN|BB|BBC|BBT|BBVA|BCG|BCN|BD|BE|BEATS|BEAUTY|BEER|BENTLEY|BERLIN|BEST|BESTBUY|BET|BF|BG|BH|BHARTI|BI|BIBLE|BID|BIKE|BING|BINGO|BIO|BIZ|BJ|BLACK|BLACKFRIDAY|BLOCKBUSTER|BLOG|BLOOMBERG|BLUE|BM|BMS|BMW|BN|BNPPARIBAS|BO|BOATS|BOEHRINGER|BOFA|BOM|BOND|BOO|BOOK|BOOKING|BOSCH|BOSTIK|BOSTON|BOT|BOUTIQUE|BOX|BR|BRADESCO|BRIDGESTONE|BROADWAY|BROKER|BROTHER|BRUSSELS|BS|BT|BUDAPEST|BUGATTI|BUILD|BUILDERS|BUSINESS|BUY|BUZZ|BV|BW|BY|BZ|BZH|CA|CAB|CAFE|CAL|CALL|CALVINKLEIN|CAM|CAMERA|CAMP|CANCERRESEARCH|CANON|CAPETOWN|CAPITAL|CAPITALONE|CAR|CARAVAN|CARDS|CARE|CAREER|CAREERS|CARS|CASA|CASE|CASEIH|CASH|CASINO|CAT|CATERING|CATHOLIC|CBA|CBN|CBRE|CBS|CC|CD|CEB|CENTER|CEO|CERN|CF|CFA|CFD|CG|CH|CHANEL|CHANNEL|CHARITY|CHASE|CHAT|CHEAP|CHINTAI|CHRISTMAS|CHROME|CHURCH|CI|CIPRIANI|CIRCLE|CISCO|CITADEL|CITI|CITIC|CITY|CITYEATS|CK|CL|CLAIMS|CLEANING|CLICK|CLINIC|CLINIQUE|CLOTHING|CLOUD|CLUB|CLUBMED|CM|CN|CO|COACH|CODES|COFFEE|COLLEGE|COLOGNE|COM|COMCAST|COMMBANK|COMMUNITY|COMPANY|COMPARE|COMPUTER|COMSEC|CONDOS|CONSTRUCTION|CONSULTING|CONTACT|CONTRACTORS|COOKING|COOKINGCHANNEL|COOL|COOP|CORSICA|COUNTRY|COUPON|COUPONS|COURSES|CPA|CR|CREDIT|CREDITCARD|CREDITUNION|CRICKET|CROWN|CRS|CRUISE|CRUISES|CSC|CU|CUISINELLA|CV|CW|CX|CY|CYMRU|CYOU|CZ|DABUR|DAD|DANCE|DATA|DATE|DATING|DATSUN|DAY|DCLK|DDS|DE|DEAL|DEALER|DEALS|DEGREE|DELIVERY|DELL|DELOITTE|DELTA|DEMOCRAT|DENTAL|DENTIST|DESI|DESIGN|DEV|DHL|DIAMONDS|DIET|DIGITAL|DIRECT|DIRECTORY|DISCOUNT|DISCOVER|DISH|DIY|DJ|DK|DM|DNP|DO|DOCS|DOCTOR|DOG|DOMAINS|DOT|DOWNLOAD|DRIVE|DTV|DUBAI|DUCK|DUNLOP|DUPONT|DURBAN|DVAG|DVR|DZ|EARTH|EAT|EC|ECO|EDEKA|EDU|EDUCATION|EE|EG|EMAIL|EMERCK|ENERGY|ENGINEER|ENGINEERING|ENTERPRISES|EPSON|EQUIPMENT|ER|ERICSSON|ERNI|ES|ESQ|ESTATE|ESURANCE|ET|ETISALAT|EU|EUROVISION|EUS|EVENTS|EXCHANGE|EXPERT|EXPOSED|EXPRESS|EXTRASPACE|FAGE|FAIL|FAIRWINDS|FAITH|FAMILY|FAN|FANS|FARM|FARMERS|FASHION|FAST|FEDEX|FEEDBACK|FERRARI|FERRERO|FI|FIAT|FIDELITY|FIDO|FILM|FINAL|FINANCE|FINANCIAL|FIRE|FIRESTONE|FIRMDALE|FISH|FISHING|FIT|FITNESS|FJ|FK|FLICKR|FLIGHTS|FLIR|FLORIST|FLOWERS|FLY|FM|FO|FOO|FOOD|FOODNETWORK|FOOTBALL|FORD|FOREX|FORSALE|FORUM|FOUNDATION|FOX|FR|FREE|FRESENIUS|FRL|FROGANS|FRONTDOOR|FRONTIER|FTR|FUJITSU|FUJIXEROX|FUN|FUND|FURNITURE|FUTBOL|FYI|GA|GAL|GALLERY|GALLO|GALLUP|GAME|GAMES|GAP|GARDEN|GAY|GB|GBIZ|GD|GDN|GE|GEA|GENT|GENTING|GEORGE|GF|GG|GGEE|GH|GI|GIFT|GIFTS|GIVES|GIVING|GL|GLADE|GLASS|GLE|GLOBAL|GLOBO|GM|GMAIL|GMBH|GMO|GMX|GN|GODADDY|GOLD|GOLDPOINT|GOLF|GOO|GOODYEAR|GOOG|GOOGLE|GOP|GOT|GOV|GP|GQ|GR|GRAINGER|GRAPHICS|GRATIS|GREEN|GRIPE|GROCERY|GROUP|GS|GT|GU|GUARDIAN|GUCCI|GUGE|GUIDE|GUITARS|GURU|GW|GY|HAIR|HAMBURG|HANGOUT|HAUS|HBO|HDFC|HDFCBANK|HEALTH|HEALTHCARE|HELP|HELSINKI|HERE|HERMES|HGTV|HIPHOP|HISAMITSU|HITACHI|HIV|HK|HKT|HM|HN|HOCKEY|HOLDINGS|HOLIDAY|HOMEDEPOT|HOMEGOODS|HOMES|HOMESENSE|HONDA|HORSE|HOSPITAL|HOST|HOSTING|HOT|HOTELES|HOTELS|HOTMAIL|HOUSE|HOW|HR|HSBC|HT|HU|HUGHES|HYATT|HYUNDAI|IBM|ICBC|ICE|ICU|ID|IE|IEEE|IFM|IKANO|IL|IM|IMAMAT|IMDB|IMMO|IMMOBILIEN|IN|INC|INDUSTRIES|INFINITI|INFO|ING|INK|INSTITUTE|INSURANCE|INSURE|INT|INTEL|INTERNATIONAL|INTUIT|INVESTMENTS|IO|IPIRANGA|IQ|IR|IRISH|IS|ISMAILI|IST|ISTANBUL|IT|ITAU|ITV|IVECO|JAGUAR|JAVA|JCB|JCP|JE|JEEP|JETZT|JEWELRY|JIO|JLL|JM|JMP|JNJ|JO|JOBS|JOBURG|JOT|JOY|JP|JPMORGAN|JPRS|JUEGOS|JUNIPER|KAUFEN|KDDI|KE|KERRYHOTELS|KERRYLOGISTICS|KERRYPROPERTIES|KFH|KG|KH|KI|KIA|KIM|KINDER|KINDLE|KITCHEN|KIWI|KM|KN|KOELN|KOMATSU|KOSHER|KP|KPMG|KPN|KR|KRD|KRED|KUOKGROUP|KW|KY|KYOTO|KZ|LA|LACAIXA|LAMBORGHINI|LAMER|LANCASTER|LANCIA|LAND|LANDROVER|LANXESS|LASALLE|LAT|LATINO|LATROBE|LAW|LAWYER|LB|LC|LDS|LEASE|LECLERC|LEFRAK|LEGAL|LEGO|LEXUS|LGBT|LI|LIDL|LIFE|LIFEINSURANCE|LIFESTYLE|LIGHTING|LIKE|LILLY|LIMITED|LIMO|LINCOLN|LINDE|LINK|LIPSY|LIVE|LIVING|LIXIL|LK|LLC|LLP|LOAN|LOANS|LOCKER|LOCUS|LOFT|LOL|LONDON|LOTTE|LOTTO|LOVE|LPL|LPLFINANCIAL|LR|LS|LT|LTD|LTDA|LU|LUNDBECK|LUPIN|LUXE|LUXURY|LV|LY|MA|MACYS|MADRID|MAIF|MAISON|MAKEUP|MAN|MANAGEMENT|MANGO|MAP|MARKET|MARKETING|MARKETS|MARRIOTT|MARSHALLS|MASERATI|MATTEL|MBA|MC|MCKINSEY|MD|ME|MED|MEDIA|MEET|MELBOURNE|MEME|MEMORIAL|MEN|MENU|MERCKMSD|METLIFE|MG|MH|MIAMI|MICROSOFT|MIL|MINI|MINT|MIT|MITSUBISHI|MK|ML|MLB|MLS|MM|MMA|MN|MO|MOBI|MOBILE|MODA|MOE|MOI|MOM|MONASH|MONEY|MONSTER|MORMON|MORTGAGE|MOSCOW|MOTO|MOTORCYCLES|MOV|MOVIE|MP|MQ|MR|MS|MSD|MT|MTN|MTR|MU|MUSEUM|MUTUAL|MV|MW|MX|MY|MZ|NA|NAB|NAGOYA|NAME|NATIONWIDE|NATURA|NAVY|NBA|NC|NE|NEC|NET|NETBANK|NETFLIX|NETWORK|NEUSTAR|NEW|NEWHOLLAND|NEWS|NEXT|NEXTDIRECT|NEXUS|NF|NFL|NG|NGO|NHK|NI|NICO|NIKE|NIKON|NINJA|NISSAN|NISSAY|NL|NO|NOKIA|NORTHWESTERNMUTUAL|NORTON|NOW|NOWRUZ|NOWTV|NP|NR|NRA|NRW|NTT|NU|NYC|NZ|OBI|OBSERVER|OFF|OFFICE|OKINAWA|OLAYAN|OLAYANGROUP|OLDNAVY|OLLO|OM|OMEGA|ONE|ONG|ONL|ONLINE|ONYOURSIDE|OOO|OPEN|ORACLE|ORANGE|ORG|ORGANIC|ORIGINS|OSAKA|OTSUKA|OTT|OVH|PA|PAGE|PANASONIC|PARIS|PARS|PARTNERS|PARTS|PARTY|PASSAGENS|PAY|PCCW|PE|PET|PF|PFIZER|PG|PH|PHARMACY|PHD|PHILIPS|PHONE|PHOTO|PHOTOGRAPHY|PHOTOS|PHYSIO|PICS|PICTET|PICTURES|PID|PIN|PING|PINK|PIONEER|PIZZA|PK|PL|PLACE|PLAY|PLAYSTATION|PLUMBING|PLUS|PM|PN|PNC|POHL|POKER|POLITIE|PORN|POST|PR|PRAMERICA|PRAXI|PRESS|PRIME|PRO|PROD|PRODUCTIONS|PROF|PROGRESSIVE|PROMO|PROPERTIES|PROPERTY|PROTECTION|PRU|PRUDENTIAL|PS|PT|PUB|PW|PWC|PY|QA|QPON|QUEBEC|QUEST|QVC|RACING|RADIO|RAID|RE|READ|REALESTATE|REALTOR|REALTY|RECIPES|RED|REDSTONE|REDUMBRELLA|REHAB|REISE|REISEN|REIT|RELIANCE|REN|RENT|RENTALS|REPAIR|REPORT|REPUBLICAN|REST|RESTAURANT|REVIEW|REVIEWS|REXROTH|RICH|RICHARDLI|RICOH|RIGHTATHOME|RIL|RIO|RIP|RMIT|RO|ROCHER|ROCKS|RODEO|ROGERS|ROOM|RS|RSVP|RU|RUGBY|RUHR|RUN|RW|RWE|RYUKYU|SA|SAARLAND|SAFE|SAFETY|SAKURA|SALE|SALON|SAMSCLUB|SAMSUNG|SANDVIK|SANDVIKCOROMANT|SANOFI|SAP|SARL|SAS|SAVE|SAXO|SB|SBI|SBS|SC|SCA|SCB|SCHAEFFLER|SCHMIDT|SCHOLARSHIPS|SCHOOL|SCHULE|SCHWARZ|SCIENCE|SCJOHNSON|SCOR|SCOT|SD|SE|SEARCH|SEAT|SECURE|SECURITY|SEEK|SELECT|SENER|SERVICES|SES|SEVEN|SEW|SEX|SEXY|SFR|SG|SH|SHANGRILA|SHARP|SHAW|SHELL|SHIA|SHIKSHA|SHOES|SHOP|SHOPPING|SHOUJI|SHOW|SHOWTIME|SHRIRAM|SI|SILK|SINA|SINGLES|SITE|SJ|SK|SKI|SKIN|SKY|SKYPE|SL|SLING|SM|SMART|SMILE|SN|SNCF|SO|SOCCER|SOCIAL|SOFTBANK|SOFTWARE|SOHU|SOLAR|SOLUTIONS|SONG|SONY|SOY|SPACE|SPORT|SPOT|SPREADBETTING|SR|SRL|SS|ST|STADA|STAPLES|STAR|STATEBANK|STATEFARM|STC|STCGROUP|STOCKHOLM|STORAGE|STORE|STREAM|STUDIO|STUDY|STYLE|SU|SUCKS|SUPPLIES|SUPPLY|SUPPORT|SURF|SURGERY|SUZUKI|SV|SWATCH|SWIFTCOVER|SWISS|SX|SY|SYDNEY|SYMANTEC|SYSTEMS|SZ|TAB|TAIPEI|TALK|TAOBAO|TARGET|TATAMOTORS|TATAR|TATTOO|TAX|TAXI|TC|TCI|TD|TDK|TEAM|TECH|TECHNOLOGY|TEL|TEMASEK|TENNIS|TEVA|TF|TG|TH|THD|THEATER|THEATRE|TIAA|TICKETS|TIENDA|TIFFANY|TIPS|TIRES|TIROL|TJ|TJMAXX|TJX|TK|TKMAXX|TL|TM|TMALL|TN|TO|TODAY|TOKYO|TOOLS|TOP|TORAY|TOSHIBA|TOTAL|TOURS|TOWN|TOYOTA|TOYS|TR|TRADE|TRADING|TRAINING|TRAVEL|TRAVELCHANNEL|TRAVELERS|TRAVELERSINSURANCE|TRUST|TRV|TT|TUBE|TUI|TUNES|TUSHU|TV|TVS|TW|TZ|UA|UBANK|UBS|UG|UK|UNICOM|UNIVERSITY|UNO|UOL|UPS|US|UY|UZ|VA|VACATIONS|VANA|VANGUARD|VC|VE|VEGAS|VENTURES|VERISIGN|VERSICHERUNG|VET|VG|VI|VIAJES|VIDEO|VIG|VIKING|VILLAS|VIN|VIP|VIRGIN|VISA|VISION|VIVA|VIVO|VLAANDEREN|VN|VODKA|VOLKSWAGEN|VOLVO|VOTE|VOTING|VOTO|VOYAGE|VU|VUELOS|WALES|WALMART|WALTER|WANG|WANGGOU|WATCH|WATCHES|WEATHER|WEATHERCHANNEL|WEBCAM|WEBER|WEBSITE|WED|WEDDING|WEIBO|WEIR|WF|WHOSWHO|WIEN|WIKI|WILLIAMHILL|WIN|WINDOWS|WINE|WINNERS|WME|WOLTERSKLUWER|WOODSIDE|WORK|WORKS|WORLD|WOW|WS|WTC|WTF|XBOX|XEROX|XFINITY|XIHUAN|XIN|XN--11B4C3D|XN--1CK2E1B|XN--1QQW23A|XN--2SCRJ9C|XN--30RR7Y|XN--3BST00M|XN--3DS443G|XN--3E0B707E|XN--3HCRJ9C|XN--3OQ18VL8PN36A|XN--3PXU8K|XN--42C2D9A|XN--45BR5CYL|XN--45BRJ9C|XN--45Q11C|XN--4GBRIM|XN--54B7FTA0CC|XN--55QW42G|XN--55QX5D|XN--5SU34J936BGSG|XN--5TZM5G|XN--6FRZ82G|XN--6QQ986B3XL|XN--80ADXHKS|XN--80AO21A|XN--80AQECDR1A|XN--80ASEHDB|XN--80ASWG|XN--8Y0A063A|XN--90A3AC|XN--90AE|XN--90AIS|XN--9DBQ2A|XN--9ET52U|XN--9KRT00A|XN--B4W605FERD|XN--BCK1B9A5DRE4C|XN--C1AVG|XN--C2BR7G|XN--CCK2B3B|XN--CG4BKI|XN--CLCHC0EA0B2G2A9GCD|XN--CZR694B|XN--CZRS0T|XN--CZRU2D|XN--D1ACJ3B|XN--D1ALF|XN--E1A4C|XN--ECKVDTC9D|XN--EFVY88H|XN--FCT429K|XN--FHBEI|XN--FIQ228C5HS|XN--FIQ64B|XN--FIQS8S|XN--FIQZ9S|XN--FJQ720A|XN--FLW351E|XN--FPCRJ9C3D|XN--FZC2C9E2C|XN--FZYS8D69UVGM|XN--G2XX48C|XN--GCKR3F0F|XN--GECRJ9C|XN--GK3AT1E|XN--H2BREG3EVE|XN--H2BRJ9C|XN--H2BRJ9C8C|XN--HXT814E|XN--I1B6B1A6A2E|XN--IMR513N|XN--IO0A7I|XN--J1AEF|XN--J1AMH|XN--J6W193G|XN--JLQ61U9W7B|XN--JVR189M|XN--KCRX77D1X4A|XN--KPRW13D|XN--KPRY57D|XN--KPU716F|XN--KPUT3I|XN--L1ACC|XN--LGBBAT1AD8J|XN--MGB9AWBF|XN--MGBA3A3EJT|XN--MGBA3A4F16A|XN--MGBA7C0BBN0A|XN--MGBAAKC7DVF|XN--MGBAAM7A8H|XN--MGBAB2BD|XN--MGBAH1A3HJKRD|XN--MGBAI9AZGQP6J|XN--MGBAYH7GPA|XN--MGBBH1A|XN--MGBBH1A71E|XN--MGBC0A9AZCG|XN--MGBCA7DZDO|XN--MGBCPQ6GPA1A|XN--MGBERP4A5D4AR|XN--MGBGU82A|XN--MGBI4ECEXP|XN--MGBPL2FH|XN--MGBT3DHD|XN--MGBTX2B|XN--MGBX4CD0AB|XN--MIX891F|XN--MK1BU44C|XN--MXTQ1M|XN--NGBC5AZD|XN--NGBE9E0A|XN--NGBRX|XN--NODE|XN--NQV7F|XN--NQV7FS00EMA|XN--NYQY26A|XN--O3CW4H|XN--OGBPF8FL|XN--OTU796D|XN--P1ACF|XN--P1AI|XN--PBT977C|XN--PGBS0DH|XN--PSSY2U|XN--Q7CE6A|XN--Q9JYB4C|XN--QCKA1PMC|XN--QXA6A|XN--QXAM|XN--RHQV96G|XN--ROVU88B|XN--RVC1E0AM3E|XN--S9BRJ9C|XN--SES554G|XN--T60B56A|XN--TCKWE|XN--TIQ49XQYJ|XN--UNUP4Y|XN--VERMGENSBERATER-CTB|XN--VERMGENSBERATUNG-PWB|XN--VHQUV|XN--VUQ861B|XN--W4R85EL8FHU5DNRA|XN--W4RS40L|XN--WGBH1C|XN--WGBL6A|XN--XHQ521B|XN--XKC2AL3HYE2A|XN--XKC2DL3A5EE0H|XN--Y9A3AQ|XN--YFRO4I67O|XN--YGBI2AMMX|XN--ZFR164B|XXX|XYZ|YACHTS|YAHOO|YAMAXUN|YANDEX|YE|YODOBASHI|YOGA|YOKOHAMA|YOU|YOUTUBE|YT|YUN|ZA|ZAPPOS|ZARA|ZERO|ZIP|ZM|ZONE|ZUERICH|ZW|TEST)";(function(o){Object.defineProperty(o,"__esModule",{value:!0});var e=dt;o.openingParenthesis=`(["'{`,o.closingParenthesis=`)]"'}`,o.parenthesis=o.openingParenthesis.split("").map(function(t,r){return""+t+o.closingParenthesis.charAt(r)}),o.htmlAttributes=["src","data","href","cite","formaction","icon","manifest","poster","codebase","background","profile","usemap","itemtype","action","longdesc","classid","archive"],o.nonLatinAlphabetRanges="\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC",o.TLDs=e.TLDs})(nt);var ht={};Object.defineProperty(ht,"__esModule",{value:!0});function Xe(o,e,t){return typeof t=="function"?t(o,e):t}function da(o,e){var t="",r=1/0,n={},a=!1;if(e&&e.specialTransform)for(var l=0;l<e.specialTransform.length;l++){var u=e.specialTransform[l];if(u.test.test(o.string))return u.transform(o.string,o)}return e&&e.exclude&&Xe(o.string,o,e.exclude)?o.string:(e&&e.protocol&&(t=Xe(o.string,o,e.protocol)),o.protocol?t="":t||(t=o.isEmail?"mailto:":o.isFile?"file:///":"http://"),e&&e.truncate&&(r=Xe(o.string,o,e.truncate)),e&&e.middleTruncation&&(a=Xe(o.string,o,e.middleTruncation)),e&&e.attributes&&(n=Xe(o.string,o,e.attributes)),"<a "+Object.keys(n).map(function(s){return n[s]===!0?s:s+'="'+n[s]+'" '}).join(" ")+'href="'+t+o.string+'">'+(o.string.length>r?a?o.string.substring(0,Math.floor(r/2))+"\u2026"+o.string.substring(o.string.length-Math.ceil(r/2),o.string.length):o.string.substring(0,r)+"\u2026":o.string)+"</a>")}ht.transform=da;var Ur={};(function(o){Object.defineProperty(o,"__esModule",{value:!0});var e=nt,t="([a-z0-9!#$%&'*+=?^_`{|}~-]+(\\.[a-z0-9!#$%&'*+=?^_`{|}~-]+)*)",r="([a-z0-9]+(-+[a-z0-9]+)*\\.)+("+e.TLDs+")",n="([a-z0-9]+(-+[a-z0-9]+)*\\.)+([a-z0-9][a-z0-9-]{0,"+(Math.max.apply(Pe,e.TLDs.split("|").map(function(A){return A.length}))-2)+"}[a-z0-9])",a=`a-zA-Z\\d\\-._~\\!$&*+,;=:@%'"\\[\\]()`,l="(((\\/((["+a+"]+(\\/["+a+"]*)*))?)?)((\\?(["+a+"\\/?]*))?)((\\#(["+a+"\\/?]*))?))?",u="((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",s="\\[(([a-f0-9:]+:+)+[a-f0-9]+)\\]",f="(:(\\d{1,5}))?",h="(https?:|ftps?:)\\/\\/",i="("+h+")\\S+",c="(([\\/]?))+",d="((("+h+")?("+r+"|"+u+"|("+h+")("+s+"|"+n+"))(?!@\\w)"+f+")|("+i+"))",p=d+"((((\\/((["+a+"]+(\\/["+a+e.nonLatinAlphabetRanges+"]*)*))?)?)((\\?(["+a+"\\/?]*))?)((\\#(["+a+"\\/?]*))?))?\\b(((["+a+"\\/"+e.nonLatinAlphabetRanges+"][a-zA-Z\\d\\-_~+=\\/"+e.nonLatinAlphabetRanges+"]+)?))+)";o.email="\\b(mailto:)?"+t+"@("+r+"|"+u+")\\b",o.url="("+p+")|(\\b"+d+l+"\\b"+c+")",o.file="(file:\\/\\/\\/)([a-z]+:(\\/|\\\\)+)?([\\w.]+([\\/\\\\]?)+)+",o.final="("+o.url+")|("+o.email+")|("+o.file+")",o.finalRegex=new RegExp(o.final,"gi"),o.ipRegex=new RegExp("^("+u+"|"+s+")$","i"),o.emailRegex=new RegExp("^("+o.email+")$","i"),o.fileRegex=new RegExp("^("+o.file+")$","i"),o.urlRegex=new RegExp("^("+o.url+")$","i");var g={isURL:0,isEmail:0,isFile:0,file:{fileName:0,protocol:0},email:{protocol:0,local:0,host:0},url:{ipv4:0,ipv6:0,ipv4Confirmation:0,byProtocol:0,port:0,protocol1:0,protocol2:0,protocol3:0,protocolWithDomain:0,path:0,secondPartOfPath:0,query:0,fragment:0}};o.iidxes=g;for(var v=["file:///some/file/path/filename.pdf","mailto:e+_mail.me@sub.domain.com","http://sub.domain.co.uk:3000/p/a/t/h_(asd)/h?q=abc123#dfdf","http://www.\u0639\u0631\u0628\u064A.com","http://127.0.0.1:3000/p/a/t_(asd)/h?q=abc123#dfdf","http://[2a00:1450:4025:401::67]/k/something","a.org/abc/\u10D8_\u10D2\u10D2"].join(" "),m=null,k=0;(m=o.finalRegex.exec(v))!==null;)k===0&&(g.isFile=m.lastIndexOf(m[0]),g.file.fileName=m.indexOf("filename.pdf"),g.file.protocol=m.indexOf("file:///")),k===1&&(g.isEmail=m.lastIndexOf(m[0]),g.email.protocol=m.indexOf("mailto:"),g.email.local=m.indexOf("e+_mail.me"),g.email.host=m.indexOf("sub.domain.com")),k===2&&(g.isURL=m.lastIndexOf(m[0]),g.url.protocol1=m.indexOf("http://"),g.url.protocolWithDomain=m.indexOf("http://sub.domain.co.uk:3000"),g.url.port=m.indexOf("3000"),g.url.path=m.indexOf("/p/a/t/h_(asd)/h"),g.url.query=m.indexOf("q=abc123"),g.url.fragment=m.indexOf("dfdf")),k===3&&(g.url.byProtocol=m.lastIndexOf("http://www.\u0639\u0631\u0628\u064A.com"),g.url.protocol2=m.lastIndexOf("http://")),k===4&&(g.url.ipv4=m.indexOf("127.0.0.1"),g.url.ipv4Confirmation=m.indexOf("0.")),k===5&&(g.url.ipv6=m.indexOf("2a00:1450:4025:401::67"),g.url.protocol3=m.lastIndexOf("http://")),k===6&&(g.url.secondPartOfPath=m.indexOf("\u10D2\u10D2")),k++})(Ur);var xe={};Object.defineProperty(xe,"__esModule",{value:!0});var ha=nt;function pa(o,e,t,r){if(r!==e)return!1;if(t.split(o).length-t.split(e).length===1||o===e&&t.split(o).length%2===0)return!0}xe.checkParenthesis=pa;xe.maximumAttrLength=ha.htmlAttributes.sort(function(o,e){return e.length-o.length})[0].length;function _a(o){return/\s[a-z0-9-]+=('|")$/i.test(o)||/: ?url\(('|")?$/i.test(o)}xe.isInsideAttribute=_a;function ma(o,e,t){for(var r=o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),n=new RegExp("(?=(<a))(?!([\\s\\S]*)(<\\/a>)("+r+"))[\\s\\S]*?("+r+`)(?!"|')`,"gi"),a=null;(a=n.exec(e))!==null;){var l=a.index+a[0].length;if(l===t)return!0}return!1}xe.isInsideAnchorTag=ma;Object.defineProperty(Hr,"__esModule",{value:!0});var lr=nt,va=ht,ne=Ur,Ye=xe,xr=function(o){for(var e=[],t=null,r=function(){var n=t.index,a=n+t[0].length,l=t[0];if(o.charAt(a)==="/"&&(l=l+o.charAt(a),a++),lr.closingParenthesis.indexOf(o.charAt(a))>-1&&lr.parenthesis.forEach(function(h){var i=h.charAt(0),c=h.charAt(1);Ye.checkParenthesis(i,c,l,o.charAt(a))&&(l=l+o.charAt(a),a++)}),['""',"''","()"].indexOf(o.charAt(n-1)+o.charAt(a))!==-1&&Ye.isInsideAttribute(o.substring(n-Ye.maximumAttrLength-15,n))||o.substring(a,o.length).indexOf("</a>")>-1&&o.substring(0,n).indexOf("<a")>-1&&Ye.isInsideAnchorTag(l,o,a))return"continue";if(t[ne.iidxes.isURL]){var u=(t[ne.iidxes.url.path]||"")+(t[ne.iidxes.url.secondPartOfPath]||"")||void 0,s=t[ne.iidxes.url.protocol1]||t[ne.iidxes.url.protocol2]||t[ne.iidxes.url.protocol3];e.push({start:n,end:a,string:l,isURL:!0,protocol:s,port:t[ne.iidxes.url.port],ipv4:t[ne.iidxes.url.ipv4Confirmation]?t[ne.iidxes.url.ipv4]:void 0,ipv6:t[ne.iidxes.url.ipv6],host:t[ne.iidxes.url.byProtocol]?void 0:(t[ne.iidxes.url.protocolWithDomain]||"").substr((s||"").length),confirmedByProtocol:!!t[ne.iidxes.url.byProtocol],path:t[ne.iidxes.url.byProtocol]?void 0:u,query:t[ne.iidxes.url.query]||void 0,fragment:t[ne.iidxes.url.fragment]||void 0})}else if(t[ne.iidxes.isFile]){var f=l.substr(8);e.push({start:n,end:a,string:l,isFile:!0,protocol:t[ne.iidxes.file.protocol],filename:t[ne.iidxes.file.fileName],filePath:f,fileDirectory:f.substr(0,f.length-t[ne.iidxes.file.fileName].length)})}else t[ne.iidxes.isEmail]?e.push({start:n,end:a,string:l,isEmail:!0,local:t[ne.iidxes.email.local],protocol:t[ne.iidxes.email.protocol],host:t[ne.iidxes.email.host]}):e.push({start:n,end:a,string:l})};(t=ne.finalRegex.exec(o))!==null;)r();return e},pt=function(o){var e=typeof o=="string"?{input:o,options:void 0,extensions:void 0}:o,t=e.input,r=e.options,n=e.extensions;if(n)for(var a=0;a<n.length;a++){var l=n[a];t=t.replace(l.test,l.transform)}for(var u=xr(t),s="",a=0;a<u.length;a++)s=(s||(a===0?t.substring(0,u[a].start):""))+va.transform(u[a],r)+(u[a+1]?t.substring(u[a].end,u[a+1].start):t.substring(u[a].end));return s||t};pt.list=function(o){return xr(o)};pt.validate={ip:function(o){return ne.ipRegex.test(o)},email:function(o){return ne.emailRegex.test(o)},file:function(o){return ne.fileRegex.test(o)},url:function(o){return ne.urlRegex.test(o)||ne.ipRegex.test(o)}};var sr=Hr.default=pt;function ga(o){let e,t,r=o[0].name+"",n,a,l,u=sr({input:o[0].text,options:{attributes:{target:"_blank",class:"inline-link"}}})+"",s,f;return{c(){e=y("div"),t=y("span"),n=x(r),a=x(": "),l=y("span"),this.h()},l(h){e=I(h,"DIV",{class:!0,"aria-live":!0});var i=S(e);t=I(i,"SPAN",{class:!0});var c=S(t);n=X(c,r),a=X(c,": "),c.forEach(b),l=I(i,"SPAN",{class:!0});var d=S(l);d.forEach(b),i.forEach(b),this.h()},h(){_(t,"class","username svelte-rzyxal"),_(l,"class","message-text svelte-rzyxal"),_(e,"class","chat-message svelte-rzyxal"),_(e,"aria-live","polite")},m(h,i){C(h,e,i),E(e,t),E(t,n),E(t,a),E(e,l),l.innerHTML=u,f=!0},p(h,[i]){(!f||i&1)&&r!==(r=h[0].name+"")&&ye(n,r),(!f||i&1)&&u!==(u=sr({input:h[0].text,options:{attributes:{target:"_blank",class:"inline-link"}}})+"")&&(l.innerHTML=u)},i(h){f||(h&&pe(()=>{s||(s=de(e,se,{},!0)),s.run(1)}),f=!0)},o(h){h&&(s||(s=de(e,se,{},!1)),s.run(0)),f=!1},d(h){h&&b(e),h&&s&&s.end()}}}function ba(o,e,t){let{message:r={}}=e;return o.$$set=n=>{"message"in n&&t(0,r=n.message)},[r]}class ka extends ae{constructor(e){super(),oe(this,e,ba,ga,le,{message:0})}}function ur(o,e,t){const r=o.slice();return r[8]=e[t],r}function cr(o){let e,t;return{c(){e=y("div"),t=x("The chat is empty, for now."),this.h()},l(r){e=I(r,"DIV",{class:!0});var n=S(e);t=X(n,"The chat is empty, for now."),n.forEach(b),this.h()},h(){_(e,"class","chat-message svelte-wc3pj0")},m(r,n){C(r,e,n),E(e,t)},d(r){r&&b(e)}}}function fr(o){let e,t;return e=new ka({props:{message:o[8]}}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n&1&&(a.message=r[8]),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function Aa(o){let e,t,r,n,a,l,u,s,f,h,i,c,d,p=o[0].length<=0&&cr(),g=o[0],v=[];for(let k=0;k<g.length;k+=1)v[k]=fr(ur(o,g,k));const m=k=>R(v[k],1,1,()=>{v[k]=null});return{c(){e=y("div"),t=y("div"),r=y("span"),n=x("For a less ephemeral conversation, "),a=y("a"),l=x("join our Discord"),u=x(". Send us feedback "),s=y("a"),f=x("here"),h=x("."),i=F(),p&&p.c(),c=F();for(let k=0;k<v.length;k+=1)v[k].c();this.h()},l(k){e=I(k,"DIV",{class:!0});var A=S(e);t=I(A,"DIV",{class:!0});var w=S(t);r=I(w,"SPAN",{class:!0});var N=S(r);n=X(N,"For a less ephemeral conversation, "),a=I(N,"A",{target:!0,href:!0,class:!0});var W=S(a);l=X(W,"join our Discord"),W.forEach(b),u=X(N,". Send us feedback "),s=I(N,"A",{target:!0,href:!0,class:!0});var V=S(s);f=X(V,"here"),V.forEach(b),h=X(N,"."),N.forEach(b),w.forEach(b),i=M(A),p&&p.l(A),c=M(A);for(let ie=0;ie<v.length;ie+=1)v[ie].l(A);A.forEach(b),this.h()},h(){_(a,"target","_blank"),_(a,"href","https://discord.gg/NK6EQwrsmz"),_(a,"class","svelte-wc3pj0"),_(s,"target","_blank"),_(s,"href","https://desk.undersco.re/apps/forms/s/5BqyWk8EsSe4YtCfJEqyni9K"),_(s,"class","svelte-wc3pj0"),_(r,"class","message-text svelte-wc3pj0"),_(t,"class","chat-message chat-pinned svelte-wc3pj0"),_(e,"class","chat-log svelte-wc3pj0"),B(e,"is-mobile",o[2])},m(k,A){C(k,e,A),E(e,t),E(t,r),E(r,n),E(r,a),E(a,l),E(r,u),E(r,s),E(s,f),E(r,h),E(e,i),p&&p.m(e,null),E(e,c);for(let w=0;w<v.length;w+=1)v[w].m(e,null);o[4](e),d=!0},p(k,[A]){if(k[0].length<=0?p||(p=cr(),p.c(),p.m(e,c)):p&&(p.d(1),p=null),A&1){g=k[0];let w;for(w=0;w<g.length;w+=1){const N=ur(k,g,w);v[w]?(v[w].p(N,A),T(v[w],1)):(v[w]=fr(N),v[w].c(),T(v[w],1),v[w].m(e,null))}for($(),w=g.length;w<v.length;w+=1)m(w);K()}A&4&&B(e,"is-mobile",k[2])},i(k){if(!d){for(let A=0;A<g.length;A+=1)T(v[A]);d=!0}},o(k){v=v.filter(Boolean);for(let A=0;A<v.length;A+=1)R(v[A]);d=!1},d(k){k&&b(e),p&&p.d(),ze(v,k),o[4](null)}}}function Ea(o,e,t){let r;z(o,Ae,f=>t(2,r=f));let{messages:n=[]}=e,{room:a={}}=e,l=null;const u=()=>{t(1,l.scrollTop=l.scrollHeight,l)};Jr(()=>{u()});function s(f){we[f?"unshift":"push"](()=>{l=f,t(1,l)})}return o.$$set=f=>{"messages"in f&&t(0,n=f.messages),"room"in f&&t(3,a=f.room)},[n,l,r,a,s]}class ya extends ae{constructor(e){super(),oe(this,e,Ea,Aa,le,{messages:0,room:3})}}function dr(o){let e,t,r=o[4]?"X":"Chat",n,a,l,u,s,f,h;const i=[wa,Ia],c=[];function d(p,g){return p[1].useDiscord!=!0||p[1].discordChannelId==null?0:1}return l=d(o),u=c[l]=i[l](o),{c(){e=y("div"),t=y("button"),n=x(r),a=F(),u.c(),this.h()},l(p){e=I(p,"DIV",{class:!0});var g=S(e);t=I(g,"BUTTON",{class:!0});var v=S(t);n=X(v,r),v.forEach(b),a=M(g),u.l(g),g.forEach(b),this.h()},h(){_(t,"class","mobile-button svelte-wkmpvb"),B(t,"minimize",o[4]),_(e,"class","chat-container svelte-wkmpvb"),B(e,"is-mobile",o[6]),B(e,"minimize",o[6]?!o[4]:!1)},m(p,g){C(p,e,g),E(e,t),E(t,n),E(e,a),c[l].m(e,null),s=!0,f||(h=Y(t,"click",o[9]),f=!0)},p(p,g){(!s||g&16)&&r!==(r=p[4]?"X":"Chat")&&ye(n,r),g&16&&B(t,"minimize",p[4]);let v=l;l=d(p),l===v?c[l].p(p,g):($(),R(c[v],1,1,()=>{c[v]=null}),K(),u=c[l],u?u.p(p,g):(u=c[l]=i[l](p),u.c()),T(u,1),u.m(e,null)),g&64&&B(e,"is-mobile",p[6]),g&80&&B(e,"minimize",p[6]?!p[4]:!1)},i(p){s||(T(u),s=!0)},o(p){R(u),s=!1},d(p){p&&b(e),c[l].d(),f=!1,h()}}}function Ia(o){let e,t;return{c(){e=y("iframe"),this.h()},l(r){e=I(r,"IFRAME",{class:!0,src:!0,style:!0}),S(e).forEach(b),this.h()},h(){_(e,"class","discord-widget svelte-wkmpvb"),re(e.src,t=o[5])||_(e,"src",t),Sr(e,"sidebar","display:none"),B(e,"hidden-mobile",!o[4])},m(r,n){C(r,e,n)},p(r,n){n&32&&!re(e.src,t=r[5])&&_(e,"src",t),n&16&&B(e,"hidden-mobile",!r[4])},i:ce,o:ce,d(r){r&&b(e)}}}function wa(o){let e,t,r,n,a,l,u,s,f,h,i;return t=new ya({props:{messages:o[0],room:o[2]}}),{c(){e=y("div"),Q(t.$$.fragment),r=F(),n=y("div"),a=y("input"),l=F(),u=y("button"),s=x("Send"),this.h()},l(c){e=I(c,"DIV",{class:!0});var d=S(e);q(t.$$.fragment,d),r=M(d),n=I(d,"DIV",{class:!0});var p=S(n);a=I(p,"INPUT",{placeholder:!0,type:!0,maxlength:!0,class:!0}),l=M(p),u=I(p,"BUTTON",{class:!0});var g=S(u);s=X(g,"Send"),g.forEach(b),p.forEach(b),d.forEach(b),this.h()},h(){_(a,"placeholder","Write a message..."),_(a,"type","[text]"),_(a,"maxlength","600"),_(a,"class","svelte-wkmpvb"),_(u,"class","svelte-wkmpvb"),_(n,"class","chat-input svelte-wkmpvb"),_(e,"class","chat-content svelte-wkmpvb"),B(e,"hidden-mobile",!o[4])},m(c,d){C(c,e,d),ee(t,e,null),E(e,r),E(e,n),E(n,a),We(a,o[3]),E(n,l),E(n,u),E(u,s),f=!0,h||(i=[Y(a,"input",o[10]),Y(a,"keydown",o[11]),Y(u,"click",o[8])],h=!0)},p(c,d){const p={};d&1&&(p.messages=c[0]),d&4&&(p.room=c[2]),t.$set(p),d&8&&We(a,c[3]),d&16&&B(e,"hidden-mobile",!c[4])},i(c){f||(T(t.$$.fragment,c),f=!0)},o(c){R(t.$$.fragment,c),f=!1},d(c){c&&b(e),te(t),h=!1,Oe(i)}}}function Ta(o){let e,t,r=o[1]!=null&&o[1].disableChat!=!0&&o[7]!=Ue.ERROR&&dr(o);return{c(){r&&r.c(),e=j()},l(n){r&&r.l(n),e=j()},m(n,a){r&&r.m(n,a),C(n,e,a),t=!0},p(n,[a]){n[1]!=null&&n[1].disableChat!=!0&&n[7]!=Ue.ERROR?r?(r.p(n,a),a&130&&T(r,1)):(r=dr(n),r.c(),T(r,1),r.m(e.parentNode,e)):r&&($(),R(r,1,1,()=>{r=null}),K())},i(n){t||(T(r),t=!0)},o(n){R(r),t=!1},d(n){r&&r.d(n),n&&b(e)}}}function Sa(o,e,t){let r,n,a,l,u;z(o,He,k=>t(2,a=k)),z(o,Ae,k=>t(6,l=k)),z(o,Ge,k=>t(7,u=k));const s=Ee(),f=new fa;let h="",{chatMessages:i=[]}=e,c=l?!1:null;const d=()=>{s("submit",{text:f.clean(h)}),t(3,h="")},p=`*[_type == 'room' && _id == "${a._id}"]`;on.listen(p).subscribe(k=>{t(1,r=k.result.chatSettings)});const g=()=>{t(4,c=!c)};function v(){h=this.value,t(3,h)}const m=k=>{k.keyCode==13&&d()};return o.$$set=k=>{"chatMessages"in k&&t(0,i=k.chatMessages)},o.$$.update=()=>{o.$$.dirty&4&&t(1,r=a.chatSettings!=null?a.chatSettings:{useDiscord:!1,discordChannelId:void 0}),o.$$.dirty&2&&t(5,n=`https://e.widgetbot.io/channels/806275264807698482/${r.discordChannelId}`)},[i,r,a,h,c,n,l,u,d,g,v,m]}class Oa extends ae{constructor(e){super(),oe(this,e,Sa,Ta,le,{chatMessages:0})}}function Na(o){let e,t,r,n,a,l,u,s,f,h,i,c,d,p,g,v,m,k,A;return{c(){e=y("div"),t=y("div"),r=y("span"),n=x("\u2190"),a=F(),l=y("div"),u=y("div"),s=y("span"),f=x("\u2191"),h=F(),i=y("div"),c=y("span"),d=x("\u2193"),p=F(),g=y("div"),v=y("span"),m=x("\u2192"),this.h()},l(w){e=I(w,"DIV",{class:!0});var N=S(e);t=I(N,"DIV",{class:!0});var W=S(t);r=I(W,"SPAN",{});var V=S(r);n=X(V,"\u2190"),V.forEach(b),W.forEach(b),a=M(N),l=I(N,"DIV",{class:!0});var ie=S(l);u=I(ie,"DIV",{class:!0});var L=S(u);s=I(L,"SPAN",{class:!0});var Z=S(s);f=X(Z,"\u2191"),Z.forEach(b),L.forEach(b),h=M(ie),i=I(ie,"DIV",{class:!0});var J=S(i);c=I(J,"SPAN",{class:!0});var H=S(c);d=X(H,"\u2193"),H.forEach(b),J.forEach(b),ie.forEach(b),p=M(N),g=I(N,"DIV",{class:!0});var U=S(g);v=I(U,"SPAN",{});var G=S(v);m=X(G,"\u2192"),G.forEach(b),U.forEach(b),N.forEach(b),this.h()},h(){_(t,"class","key left svelte-1gdx3ae"),B(t,"active",o[4]==o[2]),_(s,"class","svelte-1gdx3ae"),_(u,"class","key up svelte-1gdx3ae"),B(u,"active",o[4]==o[0]),_(c,"class","svelte-1gdx3ae"),_(i,"class","key down svelte-1gdx3ae"),B(i,"active",o[4]==o[1]),_(l,"class","vert svelte-1gdx3ae"),_(g,"class","key right svelte-1gdx3ae"),B(g,"active",o[4]==o[3]),_(e,"class","phone-navigation svelte-1gdx3ae")},m(w,N){C(w,e,N),E(e,t),E(t,r),E(r,n),o[8](t),E(e,a),E(e,l),E(l,u),E(u,s),E(s,f),o[10](u),E(l,h),E(l,i),E(i,c),E(c,d),o[12](i),E(e,p),E(e,g),E(g,v),E(v,m),o[14](g),k||(A=[Y(t,"touchstart",o[7],{passive:!0}),Y(u,"touchstart",o[9],{passive:!0}),Y(i,"touchstart",o[11],{passive:!0}),Y(g,"touchstart",o[13],{passive:!0})],k=!0)},p(w,[N]){N&20&&B(t,"active",w[4]==w[2]),N&17&&B(u,"active",w[4]==w[0]),N&18&&B(i,"active",w[4]==w[1]),N&24&&B(g,"active",w[4]==w[3])},i:ce,o:ce,d(w){w&&b(e),o[8](null),o[10](null),o[12](null),o[14](null),k=!1,Oe(A)}}}function Ra(o,e,t){const r={UP:38,DOWN:40,LEFT:37,RIGHT:39};let n,a,l,u,s;function f(k,A){document.dispatchEvent(new KeyboardEvent("keydown",{keyCode:A}));const w=setInterval(()=>document.dispatchEvent(new KeyboardEvent("keydown",{keyCode:A})),150);t(4,s=k);function N(){clearInterval(w),t(4,s=""),k.removeEventListener("touchend",N,!1)}k.addEventListener("touchend",N,!1)}const h=()=>{f(l,r.LEFT)};function i(k){we[k?"unshift":"push"](()=>{l=k,t(2,l)})}const c=()=>{f(n,r.UP)};function d(k){we[k?"unshift":"push"](()=>{n=k,t(0,n)})}const p=()=>{f(a,r.DOWN)};function g(k){we[k?"unshift":"push"](()=>{a=k,t(1,a)})}const v=()=>{f(u,r.RIGHT)};function m(k){we[k?"unshift":"push"](()=>{u=k,t(3,u)})}return[n,a,l,u,s,r,f,h,i,c,d,p,g,v,m]}class Ca extends ae{constructor(e){super(),oe(this,e,Ra,Na,le,{})}}function hr(o,e,t){const r=o.slice();return r[34]=e[t],r}function pr(o){let e,t;return e=new Cn({props:{avatars:o[5]}}),e.$on("finish",o[22]),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n[0]&32&&(a.avatars=r[5]),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function _r(o){let e,t,r,n;return t=new Ln({props:{room:o[8],$$slots:{default:[Da]},$$scope:{ctx:o}}}),{c(){e=y("div"),Q(t.$$.fragment),this.h()},l(a){e=I(a,"DIV",{class:!0,"aria-hidden":!0,role:!0});var l=S(e);q(t.$$.fragment,l),l.forEach(b),this.h()},h(){_(e,"class","viewport svelte-bjp79"),_(e,"aria-hidden",r=o[11]?"true":"false"),_(e,"role","ui"),B(e,"pushed",o[10])},m(a,l){C(a,e,l),ee(t,e,null),o[24](e),n=!0},p(a,l){const u={};l[0]&256&&(u.room=a[8]),l[0]&296|l[1]&64&&(u.$$scope={dirty:l,ctx:a}),t.$set(u),(!n||l[0]&2048&&r!==(r=a[11]?"true":"false"))&&_(e,"aria-hidden",r),l[0]&1024&&B(e,"pushed",a[10])},i(a){n||(T(t.$$.fragment,a),n=!0)},o(a){R(t.$$.fragment,a),n=!1},d(a){a&&b(e),te(t),o[24](null)}}}function Da(o){let e,t,r,n,a,l,u,s;return e=new Un({props:{players:o[3],currentRoomId:o[8]._id,avatars:o[5]}}),r=new Wn({props:{objects:fe(o[8],"objects",[])}}),a=new ni({props:{zones:fe(o[8],"zones",[])}}),u=new fi({props:{portals:fe(o[8],"portals",[])}}),u.$on("room",o[23]),{c(){Q(e.$$.fragment),t=F(),Q(r.$$.fragment),n=F(),Q(a.$$.fragment),l=F(),Q(u.$$.fragment)},l(f){q(e.$$.fragment,f),t=M(f),q(r.$$.fragment,f),n=M(f),q(a.$$.fragment,f),l=M(f),q(u.$$.fragment,f)},m(f,h){ee(e,f,h),C(f,t,h),ee(r,f,h),C(f,n,h),ee(a,f,h),C(f,l,h),ee(u,f,h),s=!0},p(f,h){const i={};h[0]&8&&(i.players=f[3]),h[0]&256&&(i.currentRoomId=f[8]._id),h[0]&32&&(i.avatars=f[5]),e.$set(i);const c={};h[0]&256&&(c.objects=fe(f[8],"objects",[])),r.$set(c);const d={};h[0]&256&&(d.zones=fe(f[8],"zones",[])),a.$set(d);const p={};h[0]&256&&(p.portals=fe(f[8],"portals",[])),u.$set(p)},i(f){s||(T(e.$$.fragment,f),T(r.$$.fragment,f),T(a.$$.fragment,f),T(u.$$.fragment,f),s=!0)},o(f){R(e.$$.fragment,f),R(r.$$.fragment,f),R(a.$$.fragment,f),R(u.$$.fragment,f),s=!1},d(f){te(e,f),f&&b(t),te(r,f),f&&b(n),te(a,f),f&&b(l),te(u,f)}}}function mr(o){let e,t;return e=new ai({props:{soundFile:o[8].backgroundSound}}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n[0]&256&&(a.soundFile=r[8].backgroundSound),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function Ba(o){let e,t,r=o[2],n=[];for(let l=0;l<r.length;l+=1)n[l]=gr(hr(o,r,l));const a=l=>R(n[l],1,1,()=>{n[l]=null});return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=j()},l(l){for(let u=0;u<n.length;u+=1)n[u].l(l);e=j()},m(l,u){for(let s=0;s<n.length;s+=1)n[s].m(l,u);C(l,e,u),t=!0},p(l,u){if(u[0]&24836){r=l[2];let s;for(s=0;s<r.length;s+=1){const f=hr(l,r,s);n[s]?(n[s].p(f,u),T(n[s],1)):(n[s]=gr(f),n[s].c(),T(n[s],1),n[s].m(e.parentNode,e))}for($(),s=r.length;s<n.length;s+=1)a(s);K()}},i(l){if(!t){for(let u=0;u<r.length;u+=1)T(n[u]);t=!0}},o(l){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)R(n[u]);t=!1},d(l){ze(n,l),l&&b(e)}}}function La(o){let e,t;return e=new Gr({props:{streamUrl:o[1].videoUrl,audioOnly:o[1].audioOnly,title:o[1].title}}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n[0]&2&&(a.streamUrl=r[1].videoUrl),n[0]&2&&(a.audioOnly=r[1].audioOnly),n[0]&2&&(a.title=r[1].title),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function vr(o){let e,t;return e=new Gr({props:{streamUrl:o[34].videoUrl,audioOnly:o[34].audioOnly,title:o[34].title}}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n[0]&4&&(a.streamUrl=r[34].videoUrl),n[0]&4&&(a.audioOnly=r[34].audioOnly),n[0]&4&&(a.title=r[34].title),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function gr(o){let e,t,r=!o[13]&&(o[8]._id==o[34].parentArea._ref||o[14]._id==o[34].parentArea._ref)&&vr(o);return{c(){r&&r.c(),e=j()},l(n){r&&r.l(n),e=j()},m(n,a){r&&r.m(n,a),C(n,e,a),t=!0},p(n,a){!n[13]&&(n[8]._id==n[34].parentArea._ref||n[14]._id==n[34].parentArea._ref)?r?(r.p(n,a),a[0]&24836&&T(r,1)):(r=vr(n),r.c(),T(r,1),r.m(e.parentNode,e)):r&&($(),R(r,1,1,()=>{r=null}),K())},i(n){t||(T(r),t=!0)},o(n){R(r),t=!1},d(n){r&&r.d(n),n&&b(e)}}}function br(o){let e,t;return e=new ji({props:{roomIntent:o[15],roomTitle:o[7][o[15]].title}}),e.$on("room",o[25]),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n[0]&32768&&(a.roomIntent=r[15]),n[0]&32896&&(a.roomTitle=r[7][r[15]].title),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function kr(o){let e,t;return e=new Zi({props:{objectIntent:o[16],objectTitle:o[8].objects.find(o[26]).title}}),e.$on("object",o[27]),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n[0]&65536&&(a.objectIntent=r[16]),n[0]&65792&&(a.objectTitle=r[8].objects.find(r[26]).title),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function Ar(o){let e,t,r=o[6]&&Er(o);return{c(){r&&r.c(),e=j()},l(n){r&&r.l(n),e=j()},m(n,a){r&&r.m(n,a),C(n,e,a),t=!0},p(n,a){n[6]?r?(r.p(n,a),a[0]&64&&T(r,1)):(r=Er(n),r.c(),T(r,1),r.m(e.parentNode,e)):r&&($(),R(r,1,1,()=>{r=null}),K())},i(n){t||(T(r),t=!0)},o(n){R(r),t=!1},d(n){r&&r.d(n),n&&b(e)}}}function Er(o){let e,t;return e=new ta({props:{text:o[6]}}),e.$on("close",o[28]),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n[0]&64&&(a.text=r[6]),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function yr(o){let e,t;return e=new Gi({props:{article:o[11]}}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n[0]&2048&&(a.article=r[11]),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function Ir(o){let e,t;return e=new Oa({props:{chatMessages:o[17].filter(o[29])}}),e.$on("submit",o[30]),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},p(r,n){const a={};n[0]&131328&&(a.chatMessages=r[17].filter(r[29])),e.$set(a)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function wr(o){let e,t;return e=new Ca({}),{c(){Q(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,n){ee(e,r,n),t=!0},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function Fa(o){let e,t,r,n,a,l,u=ve(o[8],"backgroundSound.asset")&&o[12],s,f,h,i,c,d,p,g,v,m,k,A=o[9]==Ue.ONBOARDING&&pr(o),w=o[8]&&_r(o),N=u&&mr(o);const W=[La,Ba],V=[];function ie(O,P){return!O[13]&&O[1]!=null?0:1}f=ie(o),h=V[f]=W[f](o);let L=o[15]&&br(o),Z=o[16]&&kr(o),J=!o[13]&&!o[10]&&!o[11]&&!o[15]&&!o[16]&&Ar(o),H=o[11]&&yr(o),U=!o[13]&&!o[10]&&!o[11]&&Ir(o),G=o[18]&&!o[11]&&wr();return{c(){e=y("div"),t=y("p"),r=x(`If you're using a screenreader, you can navigate through the page with the tab key. You can interact with objects by switching to focus mode and hitting the "Enter" key. If you run into any accessiblity issues, please let us know at tech@eyebeam.org. Enjoy!`),n=F(),A&&A.c(),a=F(),w&&w.c(),l=F(),N&&N.c(),s=F(),h.c(),i=F(),L&&L.c(),c=F(),Z&&Z.c(),d=F(),J&&J.c(),p=F(),H&&H.c(),g=F(),U&&U.c(),v=F(),G&&G.c(),m=j(),this.h()},l(O){e=I(O,"DIV",{role:!0,class:!0});var P=S(e);t=I(P,"P",{});var me=S(t);r=X(me,`If you're using a screenreader, you can navigate through the page with the tab key. You can interact with objects by switching to focus mode and hitting the "Enter" key. If you run into any accessiblity issues, please let us know at tech@eyebeam.org. Enjoy!`),me.forEach(b),P.forEach(b),n=M(O),A&&A.l(O),a=M(O),w&&w.l(O),l=M(O),N&&N.l(O),s=M(O),h.l(O),i=M(O),L&&L.l(O),c=M(O),Z&&Z.l(O),d=M(O),J&&J.l(O),p=M(O),H&&H.l(O),g=M(O),U&&U.l(O),v=M(O),G&&G.l(O),m=j(),this.h()},h(){_(e,"role","instructions"),_(e,"class","screenreader-only svelte-bjp79")},m(O,P){C(O,e,P),E(e,t),E(t,r),C(O,n,P),A&&A.m(O,P),C(O,a,P),w&&w.m(O,P),C(O,l,P),N&&N.m(O,P),C(O,s,P),V[f].m(O,P),C(O,i,P),L&&L.m(O,P),C(O,c,P),Z&&Z.m(O,P),C(O,d,P),J&&J.m(O,P),C(O,p,P),H&&H.m(O,P),C(O,g,P),U&&U.m(O,P),C(O,v,P),G&&G.m(O,P),C(O,m,P),k=!0},p(O,P){O[9]==Ue.ONBOARDING?A?(A.p(O,P),P[0]&512&&T(A,1)):(A=pr(O),A.c(),T(A,1),A.m(a.parentNode,a)):A&&($(),R(A,1,1,()=>{A=null}),K()),O[8]?w?(w.p(O,P),P[0]&256&&T(w,1)):(w=_r(O),w.c(),T(w,1),w.m(l.parentNode,l)):w&&($(),R(w,1,1,()=>{w=null}),K()),P[0]&4352&&(u=ve(O[8],"backgroundSound.asset")&&O[12]),u?N?(N.p(O,P),P[0]&4352&&T(N,1)):(N=mr(O),N.c(),T(N,1),N.m(s.parentNode,s)):N&&($(),R(N,1,1,()=>{N=null}),K());let me=f;f=ie(O),f===me?V[f].p(O,P):($(),R(V[me],1,1,()=>{V[me]=null}),K(),h=V[f],h?h.p(O,P):(h=V[f]=W[f](O),h.c()),T(h,1),h.m(i.parentNode,i)),O[15]?L?(L.p(O,P),P[0]&32768&&T(L,1)):(L=br(O),L.c(),T(L,1),L.m(c.parentNode,c)):L&&($(),R(L,1,1,()=>{L=null}),K()),O[16]?Z?(Z.p(O,P),P[0]&65536&&T(Z,1)):(Z=kr(O),Z.c(),T(Z,1),Z.m(d.parentNode,d)):Z&&($(),R(Z,1,1,()=>{Z=null}),K()),!O[13]&&!O[10]&&!O[11]&&!O[15]&&!O[16]?J?(J.p(O,P),P[0]&109568&&T(J,1)):(J=Ar(O),J.c(),T(J,1),J.m(p.parentNode,p)):J&&($(),R(J,1,1,()=>{J=null}),K()),O[11]?H?(H.p(O,P),P[0]&2048&&T(H,1)):(H=yr(O),H.c(),T(H,1),H.m(g.parentNode,g)):H&&($(),R(H,1,1,()=>{H=null}),K()),!O[13]&&!O[10]&&!O[11]?U?(U.p(O,P),P[0]&11264&&T(U,1)):(U=Ir(O),U.c(),T(U,1),U.m(v.parentNode,v)):U&&($(),R(U,1,1,()=>{U=null}),K()),O[18]&&!O[11]?G?P[0]&264192&&T(G,1):(G=wr(),G.c(),T(G,1),G.m(m.parentNode,m)):G&&($(),R(G,1,1,()=>{G=null}),K())},i(O){k||(T(A),T(w),T(N),T(h),T(L),T(Z),T(J),T(H),T(U),T(G),k=!0)},o(O){R(A),R(w),R(N),R(h),R(L),R(Z),R(J),R(H),R(U),R(G),k=!1},d(O){O&&b(e),O&&b(n),A&&A.d(O),O&&b(a),w&&w.d(O),O&&b(l),N&&N.d(O),O&&b(s),V[f].d(O),O&&b(i),L&&L.d(O),O&&b(c),Z&&Z.d(O),O&&b(d),J&&J.d(O),O&&b(p),H&&H.d(O),O&&b(g),U&&U.d(O),O&&b(v),G&&G.d(O),O&&b(m)}}}function Ma(o,e,t){let r,n=ce,a=()=>(n(),n=Qr(H,D=>t(1,r=D)),H),l,u,s,f,h,i,c,d,p,g,v,m,k,A,w,N,W;z(o,cn,D=>t(2,l=D)),z(o,Fr,D=>t(31,u=D)),z(o,fn,D=>t(7,s=D)),z(o,He,D=>t(8,f=D)),z(o,Mr,D=>t(32,h=D)),z(o,lt,D=>t(21,i=D)),z(o,$e,D=>t(3,c=D)),z(o,Ge,D=>t(9,d=D)),z(o,Br,D=>t(10,p=D)),z(o,Se,D=>t(11,g=D)),z(o,dn,D=>t(12,v=D)),z(o,Be,D=>t(13,m=D)),z(o,hn,D=>t(14,k=D)),z(o,st,D=>t(15,A=D)),z(o,gt,D=>t(16,w=D)),z(o,Cr,D=>t(17,N=D)),z(o,Ae,D=>t(18,W=D)),o.$$.on_destroy.push(()=>n());let V={},ie=[],L=!1;const Z=async D=>{Ve.set(!1),await pn(V);const ge=f._id,ue=s[D];He.set(ue),s[D].mainArea?history.replaceState(null,null," "):history.replaceState(null,null,"#"+fe(s[D],"slug.current",""));let be=Fe(4,6),Re=Fe(4,6);if(ue.portals&&ue.portals.find(he=>he.targetArea._id===ge)){const he=ue.portals.find(Ie=>Ie.targetArea._id===ge);for(;be=Fe(he.x-2,he.x+2),Re=Fe(he.y-2,he.y),be<1||Re<1||be>ue.dimensions.width||Re>ue.dimensions.height||be==he.x&&be==he.x;);}if(ot(Ge)!=0)_n({id:ue._id,x:be,y:Re});else{let he=ot(lt);$e.update(Ie=>(Ie[he.uuid].room=ue._id,Ie[he.uuid].x=be,Ie[he.uuid].y=Re,Ie[he.uuid].inTransit=!0,Ie)),setTimeout(()=>{$e.update(Ie=>(Ie[he.uuid].inTransit=!1,Ie))},1e3)}await mn(V),ue.showTitles===!1?Ve.set(!1):Ve.set(!0),ve(ue,"introductionTexts")?t(6,L=ue.introductionTexts):t(6,L=!1)},J=async(D,ge)=>{let ue={uuid:i.uuid,name:h&&h.name?h.name:D,shape:ve(h,"avatar._ref")?h.avatar._ref:ge,onboarded:!0,room:f._id,x:Fe(10,30),y:Fe(5,15)};try{await vn(ue),ke("\u2713 (4) Game server connected")}catch{ke("x (4) Game server not connected")}if(await gn(),ke("\u2713 (5) Keyboard initialized"),bn(),ke("\u2713 (6) Stream listener initialized"),window.location.hash){const be=window.location.hash.substring(1);for(const[Re,he]of Object.entries(s))if(fe(s[Re],"slug.current","")===be){Z(Re);break}}ve(f,"introductionTexts")&&t(6,L=f.introductionTexts),ke("\u2713 (7) Show main room introduction"),ke("__ => App loaded"),Me.set("open-eyebeam-name",D),Me.set("open-eyebeam-avatar",ge),ot(Ge)!=0&&Ge.set(Ue.READY),Be.set(!0),setTimeout(()=>{Be.set(!1)},3e3),Ae.set(Nr()),ke("__ => Welcome to the HACKER ZONE.  Please be respectful of the code while you're here. If you're in the HACKER ZONE, maybe you'd like to check out our GitHub: https://github.com/open-eyebeam.")};Te(async()=>{ke("__ => App starting...");try{await yn()}catch(ue){Or("Error in authentication:",ue)}ke("\u2713 (1) Auth client configured "),Me.get("open-eyebeam-logged-in")&&!u&&In(),await ln(),ke("\u2713 (2) World built");for(const[ue,be]of Object.entries(s))if(s[ue].mainArea){He.set(s[ue]);break}t(5,ie=await sn()),ke("\u2713 (3) Avatars loaded"),lt.update(ue=>(ue.uuid=un(),ue));let D=Me.get("open-eyebeam-name"),ge=Me.get("open-eyebeam-avatar");!D&&!u?Ge.set(Ue.ONBOARDING):J(D,ge)});let{universalStream:H=ct({})}=e;a();function U(){H.set(l.filter(D=>D.showEverywhere==!0)[0])}const G=D=>{J(D.detail.name,D.detail.avatar)},O=D=>{D.detail.roomId&&Z(D.detail.roomId),st.set(!1)};function P(D){we[D?"unshift":"push"](()=>{V=D,t(4,V)})}const me=D=>{D.detail.roomId&&Z(A),st.set(!1)},Le=D=>D._id==w,it=D=>{if(D.detail.objectId){let ge=f.objects.find(ue=>ue._id==w);ge.contentType!="externalLink"?Se.set(ge):window.open(ge.url,"_blank").focus()}gt.set(!1)},at=D=>{t(6,L=!1)},Ne=D=>D.room===f._id,Xr=D=>{kn(D,f)};return o.$$set=D=>{"universalStream"in D&&a(t(0,H=D.universalStream))},o.$$.update=()=>{o.$$.dirty[0]&2097160&&c&&c[i.uuid]&&(c[i.uuid].x||c[i.uuid].x)&&(An(),En(),Lr()),o.$$.dirty[0]&4&&l&&U(),o.$$.dirty[0]&2&&r&&U()},[H,r,l,c,V,ie,L,s,f,d,p,g,v,m,k,A,w,N,W,Z,J,i,G,O,P,me,Le,it,at,Ne,Xr]}class Ua extends ae{constructor(e){super(),oe(this,e,Ma,Fa,le,{universalStream:0},null,[-1,-1])}}export{Ua as default};
