import{X as identity$2,S as SvelteComponent,i as init$1,s as safe_not_equal,e as element,c as claim_element,a as children,d as detach,b as attr,g as insert_hydration,l as empty,E as noop$1,F as svg_element,G as claim_svg_element,I as append_hydration,n as group_outros,o as transition_out,p as check_outros,q as transition_in,R as destroy_each,t as text,h as claim_text,j as set_data,Y as HtmlTagHydration,k as space,w as create_component,Z as claim_html_tag,m as claim_space,x as claim_component,y as mount_component,B as destroy_component,_ as src_url_equal,H as toggle_class,f as set_style,$ as query_selector_all,O as listen$2,N as handle_promise,P as update_await_block_branch,a0 as get_store_value}from"./index-b35354fd.js";import{w as writable}from"./index-aa96d99b.js";function fade(n,{delay:e=0,duration:r=400,easing:a=identity$2}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:r,easing:a,css:u=>`opacity: ${u*s}`}}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(n){if(n.__esModule)return n;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(r){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}),e}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function baseHas$1(n,e){return n!=null&&hasOwnProperty$6.call(n,e)}var _baseHas=baseHas$1,isArray$7=Array.isArray,isArray_1$1=isArray$7,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$4=freeGlobal||freeSelf||Function("return this")(),_root=root$4,root$3=_root,Symbol$4=root$3.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty,nativeObjectToString$1=objectProto$5.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(n){var e=hasOwnProperty$5.call(n,symToStringTag$1),r=n[symToStringTag$1];try{n[symToStringTag$1]=void 0;var a=!0}catch{}var s=nativeObjectToString$1.call(n);return a&&(e?n[symToStringTag$1]=r:delete n[symToStringTag$1]),s}var _getRawTag=getRawTag$1,objectProto$4=Object.prototype,nativeObjectToString=objectProto$4.toString;function objectToString$1(n){return nativeObjectToString.call(n)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$3(n){return n==null?n===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(n)?getRawTag(n):objectToString(n)}var _baseGetTag=baseGetTag$3;function isObjectLike$3(n){return n!=null&&typeof n=="object"}var isObjectLike_1=isObjectLike$3,baseGetTag$2=_baseGetTag,isObjectLike$2=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$4(n){return typeof n=="symbol"||isObjectLike$2(n)&&baseGetTag$2(n)==symbolTag}var isSymbol_1=isSymbol$4,isArray$6=isArray_1$1,isSymbol$3=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$1(n,e){if(isArray$6(n))return!1;var r=typeof n;return r=="number"||r=="symbol"||r=="boolean"||n==null||isSymbol$3(n)?!0:reIsPlainProp.test(n)||!reIsDeepProp.test(n)||e!=null&&n in Object(e)}var _isKey=isKey$1;function isObject$8(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var isObject_1$1=isObject$8,baseGetTag$1=_baseGetTag,isObject$7=isObject_1$1,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(n){if(!isObject$7(n))return!1;var e=baseGetTag$1(n);return e==funcTag||e==genTag||e==asyncTag||e==proxyTag}var isFunction_1$2=isFunction$3,root$2=_root,coreJsData$1=root$2["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var n=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function isMasked$1(n){return!!maskSrcKey&&maskSrcKey in n}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$1(n){if(n!=null){try{return funcToString$1.call(n)}catch{}try{return n+""}catch{}}return""}var _toSource=toSource$1,isFunction$2=isFunction_1$2,isMasked=_isMasked,isObject$6=isObject_1$1,toSource=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$3=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$4=objectProto$3.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$4).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(n){if(!isObject$6(n)||isMasked(n))return!1;var e=isFunction$2(n)?reIsNative:reIsHostCtor;return e.test(toSource(n))}var _baseIsNative=baseIsNative$1;function getValue$1(n,e){return n==null?void 0:n[e]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$2(n,e){var r=getValue(n,e);return baseIsNative(r)?r:void 0}var _getNative=getNative$2,getNative$1=_getNative,nativeCreate$4=getNative$1(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function hashGet$1(n){var e=this.__data__;if(nativeCreate$2){var r=e[n];return r===HASH_UNDEFINED$1?void 0:r}return hasOwnProperty$3.call(e,n)?e[n]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function hashHas$1(n){var e=this.__data__;return nativeCreate$1?e[n]!==void 0:hasOwnProperty$2.call(e,n)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=nativeCreate&&e===void 0?HASH_UNDEFINED:e,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var a=n[e];this.set(a[0],a[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$1(n,e){return n===e||n!==n&&e!==e}var eq_1=eq$1,eq=eq_1;function assocIndexOf$4(n,e){for(var r=n.length;r--;)if(eq(n[r][0],e))return r;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(n){var e=this.__data__,r=assocIndexOf$3(e,n);if(r<0)return!1;var a=e.length-1;return r==a?e.pop():splice.call(e,r,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(n){var e=this.__data__,r=assocIndexOf$2(e,n);return r<0?void 0:e[r][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(n){return assocIndexOf$1(this.__data__,n)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(n,e){var r=this.__data__,a=assocIndexOf(r,n);return a<0?(++this.size,r.push([n,e])):r[a][1]=e,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$1(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var a=n[e];this.set(a[0],a[1])}}ListCache$1.prototype.clear=listCacheClear;ListCache$1.prototype.delete=listCacheDelete;ListCache$1.prototype.get=listCacheGet;ListCache$1.prototype.has=listCacheHas;ListCache$1.prototype.set=listCacheSet;var _ListCache=ListCache$1,getNative=_getNative,root$1=_root,Map$2=getNative(root$1,"Map"),_Map=Map$2,Hash=_Hash,ListCache=_ListCache,Map$1=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(n,e){var r=n.__data__;return isKeyable(e)?r[typeof e=="string"?"string":"hash"]:r.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(n){var e=getMapData$3(this,n).delete(n);return this.size-=e?1:0,e}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(n){return getMapData$2(this,n).get(n)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(n){return getMapData$1(this,n).has(n)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(n,e){var r=getMapData(this,n),a=r.size;return r.set(n,e),this.size+=r.size==a?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$1(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var a=n[e];this.set(a[0],a[1])}}MapCache$1.prototype.clear=mapCacheClear;MapCache$1.prototype.delete=mapCacheDelete;MapCache$1.prototype.get=mapCacheGet;MapCache$1.prototype.has=mapCacheHas;MapCache$1.prototype.set=mapCacheSet;var _MapCache=MapCache$1,MapCache=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$1(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var r=function(){var a=arguments,s=e?e.apply(this,a):a[0],u=r.cache;if(u.has(s))return u.get(s);var c=n.apply(this,a);return r.cache=u.set(s,c)||u,c};return r.cache=new(memoize$1.Cache||MapCache),r}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(n){var e=memoize(n,function(a){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),a}),r=e.cache;return e}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(rePropName,function(r,a,s,u){e.push(s?u.replace(reEscapeChar,"$1"):a||r)}),e}),_stringToPath=stringToPath$1;function arrayMap$1(n,e){for(var r=-1,a=n==null?0:n.length,s=Array(a);++r<a;)s[r]=e(n[r],r,n);return s}var _arrayMap=arrayMap$1,Symbol$1=_Symbol,arrayMap=_arrayMap,isArray$5=isArray_1$1,isSymbol$2=isSymbol_1,INFINITY$2=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString$1(n){if(typeof n=="string")return n;if(isArray$5(n))return arrayMap(n,baseToString$1)+"";if(isSymbol$2(n))return symbolToString?symbolToString.call(n):"";var e=n+"";return e=="0"&&1/n==-INFINITY$2?"-0":e}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$2(n){return n==null?"":baseToString(n)}var toString_1=toString$2,isArray$4=isArray_1$1,isKey=_isKey,stringToPath=_stringToPath,toString$1=toString_1;function castPath$2(n,e){return isArray$4(n)?n:isKey(n,e)?[n]:stringToPath(toString$1(n))}var _castPath=castPath$2,baseGetTag=_baseGetTag,isObjectLike$1=isObjectLike_1,argsTag="[object Arguments]";function baseIsArguments$1(n){return isObjectLike$1(n)&&baseGetTag(n)==argsTag}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike=isObjectLike_1,objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(n){return isObjectLike(n)&&hasOwnProperty$1.call(n,"callee")&&!propertyIsEnumerable.call(n,"callee")},isArguments_1=isArguments$1,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(n,e){var r=typeof n;return e=e==null?MAX_SAFE_INTEGER$1:e,!!e&&(r=="number"||r!="symbol"&&reIsUint.test(n))&&n>-1&&n%1==0&&n<e}var _isIndex=isIndex$1,MAX_SAFE_INTEGER=9007199254740991;function isLength$1(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=MAX_SAFE_INTEGER}var isLength_1=isLength$1,isSymbol$1=isSymbol_1,INFINITY$1=1/0;function toKey$2(n){if(typeof n=="string"||isSymbol$1(n))return n;var e=n+"";return e=="0"&&1/n==-INFINITY$1?"-0":e}var _toKey=toKey$2,castPath$1=_castPath,isArguments=isArguments_1,isArray$3=isArray_1$1,isIndex=_isIndex,isLength=isLength_1,toKey$1=_toKey;function hasPath$1(n,e,r){e=castPath$1(e,n);for(var a=-1,s=e.length,u=!1;++a<s;){var c=toKey$1(e[a]);if(!(u=n!=null&&r(n,c)))break;n=n[c]}return u||++a!=s?u:(s=n==null?0:n.length,!!s&&isLength(s)&&isIndex(c,s)&&(isArray$3(n)||isArguments(n)))}var _hasPath=hasPath$1,baseHas=_baseHas,hasPath=_hasPath;function has$2(n,e){return n!=null&&hasPath(n,e,baseHas)}var has_1=has$2,nativeMax$1=Math.max,nativeMin$1=Math.min;function baseInRange$1(n,e,r){return n>=nativeMin$1(e,r)&&n<nativeMax$1(e,r)}var _baseInRange=baseInRange$1,reWhitespace=/\s/;function trimmedEndIndex$1(n){for(var e=n.length;e--&&reWhitespace.test(n.charAt(e)););return e}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(n){return n&&n.slice(0,trimmedEndIndex(n)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$5=isObject_1$1,isSymbol=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$3(n){if(typeof n=="number")return n;if(isSymbol(n))return NAN;if(isObject$5(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=isObject$5(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=baseTrim(n);var r=reIsBinary.test(n);return r||reIsOctal.test(n)?freeParseInt(n.slice(2),r?2:8):reIsBadHex.test(n)?NAN:+n}var toNumber_1=toNumber$3,toNumber$2=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$1(n){if(!n)return n===0?n:0;if(n=toNumber$2(n),n===INFINITY||n===-INFINITY){var e=n<0?-1:1;return e*MAX_INTEGER}return n===n?n:0}var toFinite_1=toFinite$1,baseInRange=_baseInRange,toFinite=toFinite_1,toNumber$1=toNumber_1;function inRange(n,e,r){return e=toFinite(e),r===void 0?(r=e,e=0):r=toFinite(r),n=toNumber$1(n),baseInRange(n,e,r)}var inRange_1=inRange;const STATE={ERROR:0,READY:1,LOADING:2,DISCONNECTED:3,ONBOARDING:4},showLabels=writable(!0),playSound=writable(!1),activeArticle=writable(!1),activeCity=writable({}),trayOpen=writable(!1),focusPlayer=writable(!0),uiState=writable(STATE.LOADING),isPhone=writable(!1),toolTipConfig={content:"",arrow:!1,offset:[0,5],theme:"name",hideOnClick:!1,sticky:!0,trigger:"manual",flip:!1,placement:"bottom",appendTo:{},zIndex:10,popperOptions:{strategy:"fixed",modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",enabled:!1}]}},transitionWorldOut=n=>new Promise((e,r)=>{let a=gsap.timeline();a.to(n,.5,{css:{opacity:0}}),a.play(),a.eventCallback("onComplete",()=>{e()})}),transitionWorldIn=n=>new Promise((e,r)=>{let a=gsap.timeline();a.to(n,.5,{css:{opacity:0}}),a.to(n,.5,{css:{opacity:1}}),a.play(),a.eventCallback("onComplete",()=>{e()})});/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function shouldUseNative(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var a=Object.getOwnPropertyNames(e).map(function(u){return e[u]});if(a.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(u){s[u]=u}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign$b=shouldUseNative()?Object.assign:function(n,e){for(var r,a=toObject(n),s,u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)hasOwnProperty.call(r,c)&&(a[c]=r[c]);if(getOwnPropertySymbols){s=getOwnPropertySymbols(r);for(var p=0;p<s.length;p++)propIsEnumerable.call(r,s[p])&&(a[s[p]]=r[s[p]])}}return a},Observable$5={},canReportError$1={},Subscriber$1={},isFunction$1={};Object.defineProperty(isFunction$1,"__esModule",{value:!0});function isFunction(n){return typeof n=="function"}isFunction$1.isFunction=isFunction;var Observer={},config$1={};Object.defineProperty(config$1,"__esModule",{value:!0});var _enable_super_gross_mode_that_will_cause_bad_things=!1;config$1.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else _enable_super_gross_mode_that_will_cause_bad_things&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_enable_super_gross_mode_that_will_cause_bad_things=n},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};var hostReportError$1={};Object.defineProperty(hostReportError$1,"__esModule",{value:!0});function hostReportError(n){setTimeout(function(){throw n},0)}hostReportError$1.hostReportError=hostReportError;Object.defineProperty(Observer,"__esModule",{value:!0});var config_1$2=config$1,hostReportError_1$1=hostReportError$1;Observer.empty={closed:!0,next:function(n){},error:function(n){if(config_1$2.config.useDeprecatedSynchronousErrorHandling)throw n;hostReportError_1$1.hostReportError(n)},complete:function(){}};var Subscription$1={},isArray$2={};Object.defineProperty(isArray$2,"__esModule",{value:!0});isArray$2.isArray=function(){return Array.isArray||function(n){return n&&typeof n.length=="number"}}();var isObject$4={};Object.defineProperty(isObject$4,"__esModule",{value:!0});function isObject$3(n){return n!==null&&typeof n=="object"}isObject$4.isObject=isObject$3;var UnsubscriptionError={};Object.defineProperty(UnsubscriptionError,"__esModule",{value:!0});var UnsubscriptionErrorImpl=function(){function n(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,a){return a+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n}();UnsubscriptionError.UnsubscriptionError=UnsubscriptionErrorImpl;Object.defineProperty(Subscription$1,"__esModule",{value:!0});var isArray_1=isArray$2,isObject_1=isObject$4,isFunction_1$1=isFunction$1,UnsubscriptionError_1=UnsubscriptionError,Subscription=function(){function n(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return n.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,a=r._parentOrParents,s=r._ctorUnsubscribe,u=r._unsubscribe,c=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof n)a.remove(this);else if(a!==null)for(var p=0;p<a.length;++p){var d=a[p];d.remove(this)}if(isFunction_1$1.isFunction(u)){s&&(this._unsubscribe=void 0);try{u.call(this)}catch(m){e=m instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(m.errors):[m]}}if(isArray_1.isArray(c))for(var p=-1,g=c.length;++p<g;){var y=c[p];if(isObject_1.isObject(y))try{y.unsubscribe()}catch(S){e=e||[],S instanceof UnsubscriptionError_1.UnsubscriptionError?e=e.concat(flattenUnsubscriptionErrors(S.errors)):e.push(S)}}if(e)throw new UnsubscriptionError_1.UnsubscriptionError(e)}},n.prototype.add=function(e){var r=e;if(!e)return n.EMPTY;switch(typeof e){case"function":r=new n(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof n)){var a=r;r=new n,r._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var s=r._parentOrParents;if(s===null)r._parentOrParents=this;else if(s instanceof n){if(s===this)return r;r._parentOrParents=[s,this]}else if(s.indexOf(this)===-1)s.push(this);else return r;var u=this._subscriptions;return u===null?this._subscriptions=[r]:u.push(r),r},n.prototype.remove=function(e){var r=this._subscriptions;if(r){var a=r.indexOf(e);a!==-1&&r.splice(a,1)}},n.EMPTY=function(e){return e.closed=!0,e}(new n),n}();Subscription$1.Subscription=Subscription;function flattenUnsubscriptionErrors(n){return n.reduce(function(e,r){return e.concat(r instanceof UnsubscriptionError_1.UnsubscriptionError?r.errors:r)},[])}var rxSubscriber={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),n.$$rxSubscriber=n.rxSubscriber})(rxSubscriber);var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var u in s)s.hasOwnProperty(u)&&(a[u]=s[u])},n(e,r)};return function(e,r){n(e,r);function a(){this.constructor=e}e.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(Subscriber$1,"__esModule",{value:!0});var isFunction_1=isFunction$1,Observer_1$1=Observer,Subscription_1=Subscription$1,rxSubscriber_1$1=rxSubscriber,config_1$1=config$1,hostReportError_1=hostReportError$1,Subscriber=function(n){__extends$2(e,n);function e(r,a,s){var u=n.call(this)||this;switch(u.syncErrorValue=null,u.syncErrorThrown=!1,u.syncErrorThrowable=!1,u.isStopped=!1,arguments.length){case 0:u.destination=Observer_1$1.empty;break;case 1:if(!r){u.destination=Observer_1$1.empty;break}if(typeof r=="object"){r instanceof e?(u.syncErrorThrowable=r.syncErrorThrowable,u.destination=r,r.add(u)):(u.syncErrorThrowable=!0,u.destination=new SafeSubscriber(u,r));break}default:u.syncErrorThrowable=!0,u.destination=new SafeSubscriber(u,r,a,s);break}return u}return e.prototype[rxSubscriber_1$1.rxSubscriber]=function(){return this},e.create=function(r,a,s){var u=new e(r,a,s);return u.syncErrorThrowable=!1,u},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Subscription_1.Subscription);Subscriber$1.Subscriber=Subscriber;var SafeSubscriber=function(n){__extends$2(e,n);function e(r,a,s,u){var c=n.call(this)||this;c._parentSubscriber=r;var p,d=c;return isFunction_1.isFunction(a)?p=a:a&&(p=a.next,s=a.error,u=a.complete,a!==Observer_1$1.empty&&(d=Object.create(a),isFunction_1.isFunction(d.unsubscribe)&&c.add(d.unsubscribe.bind(d)),d.unsubscribe=c.unsubscribe.bind(c))),c._context=d,c._next=p,c._error=s,c._complete=u,c}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var a=this._parentSubscriber;!config_1$1.config.useDeprecatedSynchronousErrorHandling||!a.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(a,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var a=this._parentSubscriber,s=config_1$1.config.useDeprecatedSynchronousErrorHandling;if(this._error)!s||!a.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(a,this._error,r),this.unsubscribe());else if(a.syncErrorThrowable)s?(a.syncErrorValue=r,a.syncErrorThrown=!0):hostReportError_1.hostReportError(r),this.unsubscribe();else{if(this.unsubscribe(),s)throw r;hostReportError_1.hostReportError(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var a=this._parentSubscriber;if(this._complete){var s=function(){return r._complete.call(r._context)};!config_1$1.config.useDeprecatedSynchronousErrorHandling||!a.syncErrorThrowable?(this.__tryOrUnsub(s),this.unsubscribe()):(this.__tryOrSetError(a,s),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,a){try{r.call(this._context,a)}catch(s){if(this.unsubscribe(),config_1$1.config.useDeprecatedSynchronousErrorHandling)throw s;hostReportError_1.hostReportError(s)}},e.prototype.__tryOrSetError=function(r,a,s){if(!config_1$1.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{a.call(this._context,s)}catch(u){return config_1$1.config.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=u,r.syncErrorThrown=!0,!0):(hostReportError_1.hostReportError(u),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Subscriber);Subscriber$1.SafeSubscriber=SafeSubscriber;Object.defineProperty(canReportError$1,"__esModule",{value:!0});var Subscriber_1$3=Subscriber$1;function canReportError(n){for(;n;){var e=n,r=e.closed,a=e.destination,s=e.isStopped;if(r||s)return!1;a&&a instanceof Subscriber_1$3.Subscriber?n=a:n=null}return!0}canReportError$1.canReportError=canReportError;var toSubscriber$1={};Object.defineProperty(toSubscriber$1,"__esModule",{value:!0});var Subscriber_1$2=Subscriber$1,rxSubscriber_1=rxSubscriber,Observer_1=Observer;function toSubscriber(n,e,r){if(n){if(n instanceof Subscriber_1$2.Subscriber)return n;if(n[rxSubscriber_1.rxSubscriber])return n[rxSubscriber_1.rxSubscriber]()}return!n&&!e&&!r?new Subscriber_1$2.Subscriber(Observer_1.empty):new Subscriber_1$2.Subscriber(n,e,r)}toSubscriber$1.toSubscriber=toSubscriber;var observable$3={};Object.defineProperty(observable$3,"__esModule",{value:!0});observable$3.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var pipe$1={},identity$1={};Object.defineProperty(identity$1,"__esModule",{value:!0});function identity(n){return n}identity$1.identity=identity;Object.defineProperty(pipe$1,"__esModule",{value:!0});var identity_1=identity$1;function pipe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return pipeFromArray(n)}pipe$1.pipe=pipe;function pipeFromArray(n){return n.length===0?identity_1.identity:n.length===1?n[0]:function(r){return n.reduce(function(a,s){return s(a)},r)}}pipe$1.pipeFromArray=pipeFromArray;Object.defineProperty(Observable$5,"__esModule",{value:!0});var canReportError_1=canReportError$1,toSubscriber_1=toSubscriber$1,observable_1=observable$3,pipe_1=pipe$1,config_1=config$1,Observable$4=function(){function n(e){this._isScalar=!1,e&&(this._subscribe=e)}return n.prototype.lift=function(e){var r=new n;return r.source=this,r.operator=e,r},n.prototype.subscribe=function(e,r,a){var s=this.operator,u=toSubscriber_1.toSubscriber(e,r,a);if(s?u.add(s.call(u,this.source)):u.add(this.source||config_1.config.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),config_1.config.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){config_1.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),canReportError_1.canReportError(e)?e.error(r):console.warn(r)}},n.prototype.forEach=function(e,r){var a=this;return r=getPromiseCtor(r),new r(function(s,u){var c;c=a.subscribe(function(p){try{e(p)}catch(d){u(d),c&&c.unsubscribe()}},u,s)})},n.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},n.prototype[observable_1.observable]=function(){return this},n.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:pipe_1.pipeFromArray(e)(this)},n.prototype.toPromise=function(e){var r=this;return e=getPromiseCtor(e),new e(function(a,s){var u;r.subscribe(function(c){return u=c},function(c){return s(c)},function(){return a(u)})})},n.create=function(e){return new n(e)},n}();Observable$5.Observable=Observable$4;function getPromiseCtor(n){if(n||(n=config_1.config.Promise||Promise),!n)throw new Error("no Promise impl found");return n}var filter$6={},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var u in s)s.hasOwnProperty(u)&&(a[u]=s[u])},n(e,r)};return function(e,r){n(e,r);function a(){this.constructor=e}e.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(filter$6,"__esModule",{value:!0});var Subscriber_1$1=Subscriber$1;function filter$5(n,e){return function(a){return a.lift(new FilterOperator(n,e))}}filter$6.filter=filter$5;var FilterOperator=function(){function n(e,r){this.predicate=e,this.thisArg=r}return n.prototype.call=function(e,r){return r.subscribe(new FilterSubscriber(e,this.predicate,this.thisArg))},n}(),FilterSubscriber=function(n){__extends$1(e,n);function e(r,a,s){var u=n.call(this,r)||this;return u.predicate=a,u.thisArg=s,u.count=0,u}return e.prototype._next=function(r){var a;try{a=this.predicate.call(this.thisArg,r,this.count++)}catch(s){this.destination.error(s);return}a&&this.destination.next(r)},e}(Subscriber_1$1.Subscriber),map$5={},__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var u in s)s.hasOwnProperty(u)&&(a[u]=s[u])},n(e,r)};return function(e,r){n(e,r);function a(){this.constructor=e}e.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(map$5,"__esModule",{value:!0});var Subscriber_1=Subscriber$1;function map$4(n,e){return function(a){if(typeof n!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return a.lift(new MapOperator(n,e))}}map$5.map=map$4;var MapOperator=function(){function n(e,r){this.project=e,this.thisArg=r}return n.prototype.call=function(e,r){return r.subscribe(new MapSubscriber(e,this.project,this.thisArg))},n}();map$5.MapOperator=MapOperator;var MapSubscriber=function(n){__extends(e,n);function e(r,a,s){var u=n.call(this,r)||this;return u.project=a,u.count=0,u.thisArg=s||u,u}return e.prototype._next=function(r){var a;try{a=this.project.call(this.thisArg,r,this.count++)}catch(s){this.destination.error(s);return}this.destination.next(a)},e}(Subscriber_1.Subscriber),_require$5=Observable$5,Observable$3=_require$5.Observable,_require2$2=filter$6,filter$4=_require2$2.filter,_require3=map$5,map$3=_require3.map,observable$2={Observable:Observable$3,filter:filter$4,map:map$3},getSelection$2=function(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(e&&e.query)return"params"in e?{query:e.query,params:e.params}:{query:e.query};var r=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(r))},validators$3={};(function(n){function e(s){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(s)}var r=["image","file"],a=["before","after","replace"];n.dataset=function(s){if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(s))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},n.projectId=function(s){if(!/^[-a-z0-9]+$/i.test(s))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},n.validateAssetType=function(s){if(r.indexOf(s)===-1)throw new Error("Invalid asset type: ".concat(s,". Must be one of ").concat(r.join(", ")))},n.validateObject=function(s,u){if(u===null||e(u)!=="object"||Array.isArray(u))throw new Error("".concat(s,"() takes an object of properties"))},n.requireDocumentId=function(s,u){if(!u._id)throw new Error("".concat(s,'() requires that the document contains an ID ("_id" property)'));n.validateDocumentId(s,u._id)},n.validateDocumentId=function(s,u){if(typeof u!="string"||!/^[a-z0-9_.-]+$/i.test(u))throw new Error("".concat(s,'(): "').concat(u,'" is not a valid document ID'))},n.validateInsert=function(s,u,c){var p="insert(at, selector, items)";if(a.indexOf(s)===-1){var d=a.map(function(g){return'"'.concat(g,'"')}).join(", ");throw new Error("".concat(p,' takes an "at"-argument which is one of: ').concat(d))}if(typeof u!="string")throw new Error("".concat(p,' takes a "selector"-argument which must be a string'));if(!Array.isArray(c))throw new Error("".concat(p,' takes an "items"-argument which must be an array'))},n.hasDataset=function(s){if(!s.dataset)throw new Error("`dataset` must be provided to perform queries");return s.dataset||""},n.requestTag=function(s){if(typeof s!="string"||!/^[a-z0-9._-]{1,75}$/i.test(s))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return s}})(validators$3);function _defineProperty$4(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var assign$d=objectAssign$b,getSelection$1=getSelection$2,validate$2=validators$3,validateObject=validate$2.validateObject,validateInsert=validate$2.validateInsert;function Patch$3(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.selection=n,this.operations=assign$d({},e),this.client=r}assign$d(Patch$3.prototype,{clone:function(){return new Patch$3(this.selection,assign$d({},this.operations),this.client)},set:function(e){return this._assign("set",e)},diffMatchPatch:function(e){return validateObject("diffMatchPatch",e),this._assign("diffMatchPatch",e)},unset:function(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=assign$d({},this.operations,{unset:e}),this},setIfMissing:function(e){return this._assign("setIfMissing",e)},replace:function(e){return validateObject("replace",e),this._set("set",{$:e})},inc:function(e){return this._assign("inc",e)},dec:function(e){return this._assign("dec",e)},insert:function(e,r,a){var s;return validateInsert(e,r,a),this._assign("insert",(s={},_defineProperty$4(s,e,r),_defineProperty$4(s,"items",a),s))},append:function(e,r){return this.insert("after","".concat(e,"[-1]"),r)},prepend:function(e,r){return this.insert("before","".concat(e,"[0]"),r)},splice:function(e,r,a,s){var u=typeof a=="undefined"||a===-1,c=r<0?r-1:r,p=u?-1:Math.max(0,r+a),d=c<0&&p>=0?"":p,g="".concat(e,"[").concat(c,":").concat(d,"]");return this.insert("replace",g,s||[])},ifRevisionId:function(e){return this.operations.ifRevisionID=e,this},serialize:function(){return assign$d(getSelection$1(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var r=typeof this.selection=="string",a=assign$d({returnFirst:r,returnDocuments:!0},e);return this.client.mutate({patch:this.serialize()},a)},reset:function(){return this.operations={},this},_set:function(e,r){return this._assign(e,r,!1)},_assign:function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return validateObject(e,r),this.operations=assign$d({},this.operations,_defineProperty$4({},e,assign$d({},a&&this.operations[e]||{},r))),this}});var patch=Patch$3;function _defineProperty$3(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var assign$c=objectAssign$b,validators$2=validators$3,Patch$2=patch,defaultMutateOptions={returnDocuments:!1};function Transaction$2(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;this.trxId=r,this.operations=n,this.client=e}assign$c(Transaction$2.prototype,{clone:function(){return new Transaction$2(this.operations.slice(0),this.client,this.trxId)},create:function(e){return validators$2.validateObject("create",e),this._add({create:e})},createIfNotExists:function(e){var r="createIfNotExists";return validators$2.validateObject(r,e),validators$2.requireDocumentId(r,e),this._add(_defineProperty$3({},r,e))},createOrReplace:function(e){var r="createOrReplace";return validators$2.validateObject(r,e),validators$2.requireDocumentId(r,e),this._add(_defineProperty$3({},r,e))},delete:function(e){return validators$2.validateDocumentId("delete",e),this._add({delete:{id:e}})},patch:function(e,r){var a=typeof r=="function",s=e instanceof Patch$2;if(s)return this._add({patch:e.serialize()});if(a){var u=r(new Patch$2(e,{},this.client));if(!(u instanceof Patch$2))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:u.serialize()})}return this._add({patch:assign$c({id:e},r)})},transactionId:function(e){return e?(this.trxId=e,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(e){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),assign$c({transactionId:this.trxId},defaultMutateOptions,e||{}))},reset:function(){return this.operations=[],this},_add:function(e){return this.operations.push(e),this}});var transaction=Transaction$2,_excluded=["tag"];function _objectWithoutProperties(n,e){if(n==null)return{};var r=_objectWithoutPropertiesLoose(n,e),a,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(s=0;s<u.length;s++)a=u[s],!(e.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,a)||(r[a]=n[a]))}return r}function _objectWithoutPropertiesLoose(n,e){if(n==null)return{};var r={},a=Object.keys(n),s,u;for(u=0;u<a.length;u++)s=a[u],!(e.indexOf(s)>=0)&&(r[s]=n[s]);return r}var enc$1=encodeURIComponent,encodeQueryString$2=function(n){var e=n.query,r=n.params,a=r===void 0?{}:r,s=n.options,u=s===void 0?{}:s,c=u.tag,p=_objectWithoutProperties(u,_excluded),d="query=".concat(enc$1(e)),g=c?"?tag=".concat(enc$1(c),"&").concat(d):"?".concat(d),y=Object.keys(a).reduce(function(m,S){return"".concat(m,"&").concat(enc$1("$".concat(S)),"=").concat(enc$1(JSON.stringify(a[S])))},g);return Object.keys(p).reduce(function(m,S){return u[S]?"".concat(m,"&").concat(enc$1(S),"=").concat(enc$1(u[S])):m},y)},eventsource={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(n,e){(function(r){var a=r.setTimeout,s=r.clearTimeout,u=r.XMLHttpRequest,c=r.XDomainRequest,p=r.ActiveXObject,d=r.EventSource,g=r.document,y=r.Promise,m=r.fetch,S=r.Response,k=r.TextDecoder,L=r.TextEncoder,z=r.AbortController;if(typeof window!="undefined"&&typeof g!="undefined"&&!("readyState"in g)&&g.body==null&&(g.readyState="loading",window.addEventListener("load",function(q){g.readyState="complete"},!1)),u==null&&p!=null&&(u=function(){return new p("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(q){function ne(){}return ne.prototype=q,new ne}),Date.now||(Date.now=function(){return new Date().getTime()}),z==null){var Y=m;m=function(q,ne){var he=ne.signal;return Y(q,{headers:ne.headers,credentials:ne.credentials,cache:ne.cache}).then(function(le){var ye=le.body.getReader();return he._reader=ye,he._aborted&&he._reader.cancel(),{status:le.status,statusText:le.statusText,headers:le.headers,body:{getReader:function(){return ye}}}})},z=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function j(){this.bitsNeeded=0,this.codePoint=0}j.prototype.decode=function(q){function ne(Me,Ge,we){if(we===1)return Me>=128>>Ge&&Me<<Ge<=2047;if(we===2)return Me>=2048>>Ge&&Me<<Ge<=55295||Me>=57344>>Ge&&Me<<Ge<=65535;if(we===3)return Me>=65536>>Ge&&Me<<Ge<=1114111;throw new Error}function he(Me,Ge){if(Me===6*1)return Ge>>6>15?3:Ge>31?2:1;if(Me===6*2)return Ge>15?3:2;if(Me===6*3)return 3;throw new Error}for(var le=65533,ye="",pe=this.bitsNeeded,Ee=this.codePoint,ze=0;ze<q.length;ze+=1){var Pe=q[ze];pe!==0&&(Pe<128||Pe>191||!ne(Ee<<6|Pe&63,pe-6,he(pe,Ee)))&&(pe=0,Ee=le,ye+=String.fromCharCode(Ee)),pe===0?(Pe>=0&&Pe<=127?(pe=0,Ee=Pe):Pe>=192&&Pe<=223?(pe=6*1,Ee=Pe&31):Pe>=224&&Pe<=239?(pe=6*2,Ee=Pe&15):Pe>=240&&Pe<=247?(pe=6*3,Ee=Pe&7):(pe=0,Ee=le),pe!==0&&!ne(Ee,pe,he(pe,Ee))&&(pe=0,Ee=le)):(pe-=6,Ee=Ee<<6|Pe&63),pe===0&&(Ee<=65535?ye+=String.fromCharCode(Ee):(ye+=String.fromCharCode(55296+(Ee-65535-1>>10)),ye+=String.fromCharCode(56320+(Ee-65535-1&1023))))}return this.bitsNeeded=pe,this.codePoint=Ee,ye};var T=function(){try{return new k().decode(new L().encode("test"),{stream:!0})==="test"}catch(q){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+q)}return!1};(k==null||L==null||!T())&&(k=j);var H=function(){};function R(q){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=H,this.onload=H,this.onerror=H,this.onreadystatechange=H,this._contentType="",this._xhr=q,this._sendTimeout=0,this._abort=H}R.prototype.open=function(q,ne){this._abort(!0);var he=this,le=this._xhr,ye=1,pe=0;this._abort=function(we){he._sendTimeout!==0&&(s(he._sendTimeout),he._sendTimeout=0),(ye===1||ye===2||ye===3)&&(ye=4,le.onload=H,le.onerror=H,le.onabort=H,le.onprogress=H,le.onreadystatechange=H,le.abort(),pe!==0&&(s(pe),pe=0),we||(he.readyState=4,he.onabort(null),he.onreadystatechange())),ye=0};var Ee=function(){if(ye===1){var we=0,je="",Ct=void 0;if("contentType"in le)we=200,je="OK",Ct=le.contentType;else try{we=le.status,je=le.statusText,Ct=le.getResponseHeader("Content-Type")}catch{we=0,je="",Ct=void 0}we!==0&&(ye=2,he.readyState=2,he.status=we,he.statusText=je,he._contentType=Ct,he.onreadystatechange())}},ze=function(){if(Ee(),ye===2||ye===3){ye=3;var we="";try{we=le.responseText}catch{}he.readyState=3,he.responseText=we,he.onprogress()}},Pe=function(we,je){if((je==null||je.preventDefault==null)&&(je={preventDefault:H}),ze(),ye===1||ye===2||ye===3){if(ye=4,pe!==0&&(s(pe),pe=0),he.readyState=4,we==="load")he.onload(je);else if(we==="error")he.onerror(je);else if(we==="abort")he.onabort(je);else throw new TypeError;he.onreadystatechange()}},Me=function(we){le!=null&&(le.readyState===4?(!("onload"in le)||!("onerror"in le)||!("onabort"in le))&&Pe(le.responseText===""?"error":"load",we):le.readyState===3?"onprogress"in le||ze():le.readyState===2&&Ee())},Ge=function(){pe=a(function(){Ge()},500),le.readyState===3&&ze()};"onload"in le&&(le.onload=function(we){Pe("load",we)}),"onerror"in le&&(le.onerror=function(we){Pe("error",we)}),"onabort"in le&&(le.onabort=function(we){Pe("abort",we)}),"onprogress"in le&&(le.onprogress=ze),"onreadystatechange"in le&&(le.onreadystatechange=function(we){Me(we)}),("contentType"in le||!("ontimeout"in u.prototype))&&(ne+=(ne.indexOf("?")===-1?"?":"&")+"padding=true"),le.open(q,ne,!0),"readyState"in le&&(pe=a(function(){Ge()},0))},R.prototype.abort=function(){this._abort(!1)},R.prototype.getResponseHeader=function(q){return this._contentType},R.prototype.setRequestHeader=function(q,ne){var he=this._xhr;"setRequestHeader"in he&&he.setRequestHeader(q,ne)},R.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},R.prototype.send=function(){if((!("ontimeout"in u.prototype)||!("sendAsBinary"in u.prototype)&&!("mozAnon"in u.prototype))&&g!=null&&g.readyState!=null&&g.readyState!=="complete"){var q=this;q._sendTimeout=a(function(){q._sendTimeout=0,q.send()},4);return}var ne=this._xhr;"withCredentials"in ne&&(ne.withCredentials=this.withCredentials);try{ne.send(void 0)}catch(he){throw he}};function F(q){return q.replace(/[A-Z]/g,function(ne){return String.fromCharCode(ne.charCodeAt(0)+32)})}function O(q){for(var ne=Object.create(null),he=q.split(`\r
`),le=0;le<he.length;le+=1){var ye=he[le],pe=ye.split(": "),Ee=pe.shift(),ze=pe.join(": ");ne[F(Ee)]=ze}this._map=ne}O.prototype.get=function(q){return this._map[F(q)]},u!=null&&u.HEADERS_RECEIVED==null&&(u.HEADERS_RECEIVED=2);function P(){}P.prototype.open=function(q,ne,he,le,ye,pe,Ee){q.open("GET",ye);var ze=0;q.onprogress=function(){var Me=q.responseText,Ge=Me.slice(ze);ze+=Ge.length,he(Ge)},q.onerror=function(Me){Me.preventDefault(),le(new Error("NetworkError"))},q.onload=function(){le(null)},q.onabort=function(){le(null)},q.onreadystatechange=function(){if(q.readyState===u.HEADERS_RECEIVED){var Me=q.status,Ge=q.statusText,we=q.getResponseHeader("Content-Type"),je=q.getAllResponseHeaders();ne(Me,Ge,we,new O(je))}},q.withCredentials=pe;for(var Pe in Ee)Object.prototype.hasOwnProperty.call(Ee,Pe)&&q.setRequestHeader(Pe,Ee[Pe]);return q.send(),q};function ie(q){this._headers=q}ie.prototype.get=function(q){return this._headers.get(q)};function ae(){}ae.prototype.open=function(q,ne,he,le,ye,pe,Ee){var ze=null,Pe=new z,Me=Pe.signal,Ge=new k;return m(ye,{headers:Ee,credentials:pe?"include":"same-origin",signal:Me,cache:"no-store"}).then(function(we){return ze=we.body.getReader(),ne(we.status,we.statusText,we.headers.get("Content-Type"),new ie(we.headers)),new y(function(je,Ct){var Qt=function(){ze.read().then(function(ct){if(ct.done)je(void 0);else{var ot=Ge.decode(ct.value,{stream:!0});he(ot),Qt()}}).catch(function(ct){Ct(ct)})};Qt()})}).catch(function(we){if(we.name!=="AbortError")return we}).then(function(we){le(we)}),{abort:function(){ze!=null&&ze.cancel(),Pe.abort()}}};function M(){this._listeners=Object.create(null)}function I(q){a(function(){throw q},0)}M.prototype.dispatchEvent=function(q){q.target=this;var ne=this._listeners[q.type];if(ne!=null)for(var he=ne.length,le=0;le<he;le+=1){var ye=ne[le];try{typeof ye.handleEvent=="function"?ye.handleEvent(q):ye.call(this,q)}catch(pe){I(pe)}}},M.prototype.addEventListener=function(q,ne){q=String(q);var he=this._listeners,le=he[q];le==null&&(le=[],he[q]=le);for(var ye=!1,pe=0;pe<le.length;pe+=1)le[pe]===ne&&(ye=!0);ye||le.push(ne)},M.prototype.removeEventListener=function(q,ne){q=String(q);var he=this._listeners,le=he[q];if(le!=null){for(var ye=[],pe=0;pe<le.length;pe+=1)le[pe]!==ne&&ye.push(le[pe]);ye.length===0?delete he[q]:he[q]=ye}};function X(q){this.type=q,this.target=void 0}function W(q,ne){X.call(this,q),this.data=ne.data,this.lastEventId=ne.lastEventId}W.prototype=Object.create(X.prototype);function fe(q,ne){X.call(this,q),this.status=ne.status,this.statusText=ne.statusText,this.headers=ne.headers}fe.prototype=Object.create(X.prototype);function se(q,ne){X.call(this,q),this.error=ne.error}se.prototype=Object.create(X.prototype);var $e=-1,Ce=0,Ie=1,Fe=2,Ne=-1,Ue=0,x=1,U=2,Q=3,te=/^text\/event\-stream(;.*)?$/i,J=1e3,G=18e6,re=function(q,ne){var he=q==null?ne:parseInt(q,10);return he!==he&&(he=ne),oe(he)},oe=function(q){return Math.min(Math.max(q,J),G)},ve=function(q,ne,he){try{typeof ne=="function"&&ne.call(q,he)}catch(le){I(le)}};function ue(q,ne){M.call(this),ne=ne||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Ze(this,q,ne)}function Se(){return u!=null&&"withCredentials"in u.prototype||c==null?new u:new c}var Be=m!=null&&S!=null&&"body"in S.prototype;function Ze(q,ne,he){ne=String(ne);var le=Boolean(he.withCredentials),ye=he.lastEventIdQueryParameterName||"lastEventId",pe=oe(1e3),Ee=re(he.heartbeatTimeout,45e3),ze="",Pe=pe,Me=!1,Ge=0,we=he.headers||{},je=he.Transport,Ct=Be&&je==null?void 0:new R(je!=null?new je:Se()),Qt=je!=null&&typeof je!="string"?new je:Ct==null?new ae:new P,ct=void 0,ot=0,mt=$e,Vt="",cr="",Tt="",fr="",ft=Ue,Gr=0,er=0,cn=function(at,Qe,_t,bt){if(mt===Ce)if(at===200&&_t!=null&&te.test(_t)){mt=Ie,Me=Date.now(),Pe=pe,q.readyState=Ie;var dt=new fe("open",{status:at,statusText:Qe,headers:bt});q.dispatchEvent(dt),ve(q,q.onopen,dt)}else{var tt="";at!==200?(Qe&&(Qe=Qe.replace(/\s+/g," ")),tt="EventSource's response has a status "+at+" "+Qe+" that is not 200. Aborting the connection."):tt="EventSource's response has a Content-Type specifying an unsupported type: "+(_t==null?"-":_t.replace(/\s+/g," "))+". Aborting the connection.",Yr();var dt=new fe("error",{status:at,statusText:Qe,headers:bt});q.dispatchEvent(dt),ve(q,q.onerror,dt),console.error(tt)}},fn=function(at){if(mt===Ie){for(var Qe=-1,_t=0;_t<at.length;_t+=1){var bt=at.charCodeAt(_t);(bt===`
`.charCodeAt(0)||bt==="\r".charCodeAt(0))&&(Qe=_t)}var dt=(Qe!==-1?fr:"")+at.slice(0,Qe+1);fr=(Qe===-1?fr:"")+at.slice(Qe+1),at!==""&&(Me=Date.now(),Ge+=at.length);for(var tt=0;tt<dt.length;tt+=1){var bt=dt.charCodeAt(tt);if(ft===Ne&&bt===`
`.charCodeAt(0))ft=Ue;else if(ft===Ne&&(ft=Ue),bt==="\r".charCodeAt(0)||bt===`
`.charCodeAt(0)){if(ft!==Ue){ft===x&&(er=tt+1);var Bt=dt.slice(Gr,er-1),Ot=dt.slice(er+(er<tt&&dt.charCodeAt(er)===" ".charCodeAt(0)?1:0),tt);Bt==="data"?(Vt+=`
`,Vt+=Ot):Bt==="id"?cr=Ot:Bt==="event"?Tt=Ot:Bt==="retry"?(pe=re(Ot,pe),Pe=pe):Bt==="heartbeatTimeout"&&(Ee=re(Ot,Ee),ot!==0&&(s(ot),ot=a(function(){$r()},Ee)))}if(ft===Ue){if(Vt!==""){ze=cr,Tt===""&&(Tt="message");var dr=new W(Tt,{data:Vt.slice(1),lastEventId:cr});if(q.dispatchEvent(dr),Tt==="open"?ve(q,q.onopen,dr):Tt==="message"?ve(q,q.onmessage,dr):Tt==="error"&&ve(q,q.onerror,dr),mt===Fe)return}Vt="",Tt=""}ft=bt==="\r".charCodeAt(0)?Ne:Ue}else ft===Ue&&(Gr=tt,ft=x),ft===x?bt===":".charCodeAt(0)&&(er=tt+1,ft=U):ft===U&&(ft=Q)}}},dn=function(at){if(mt===Ie||mt===Ce){mt=$e,ot!==0&&(s(ot),ot=0),ot=a(function(){$r()},Pe),Pe=oe(Math.min(pe*16,Pe*2)),q.readyState=Ce;var Qe=new se("error",{error:at});q.dispatchEvent(Qe),ve(q,q.onerror,Qe),at!=null&&console.error(at)}},Yr=function(){mt=Fe,ct!=null&&(ct.abort(),ct=void 0),ot!==0&&(s(ot),ot=0),q.readyState=Fe},$r=function(){if(ot=0,mt!==$e){if(!Me&&ct!=null)dn(new Error("No activity within "+Ee+" milliseconds. "+(mt===Ce?"No response received.":Ge+" chars received.")+" Reconnecting.")),ct!=null&&(ct.abort(),ct=void 0);else{var at=Math.max((Me||Date.now())+Ee-Date.now(),1);Me=!1,ot=a(function(){$r()},at)}return}Me=!1,Ge=0,ot=a(function(){$r()},Ee),mt=Ce,Vt="",Tt="",cr=ze,fr="",Gr=0,er=0,ft=Ue;var Qe=ne;if(ne.slice(0,5)!=="data:"&&ne.slice(0,5)!=="blob:"&&ze!==""){var _t=ne.indexOf("?");Qe=_t===-1?ne:ne.slice(0,_t+1)+ne.slice(_t+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Ot,dr){return dr===ye?"":Ot}),Qe+=(ne.indexOf("?")===-1?"?":"&")+ye+"="+encodeURIComponent(ze)}var bt=q.withCredentials,dt={};dt.Accept="text/event-stream";var tt=q.headers;if(tt!=null)for(var Bt in tt)Object.prototype.hasOwnProperty.call(tt,Bt)&&(dt[Bt]=tt[Bt]);try{ct=Qt.open(Ct,cn,fn,dn,Qe,bt,dt)}catch(Ot){throw Yr(),Ot}};q.url=ne,q.readyState=Ce,q.withCredentials=le,q.headers=we,q._close=Yr,$r()}ue.prototype=Object.create(M.prototype),ue.prototype.CONNECTING=Ce,ue.prototype.OPEN=Ie,ue.prototype.CLOSED=Fe,ue.prototype.close=function(){this._close()},ue.CONNECTING=Ce,ue.OPEN=Ie,ue.CLOSED=Fe,ue.prototype.withCredentials=void 0;var it=d;u!=null&&(d==null||!("withCredentials"in d.prototype))&&(it=ue),function(q){{var ne=q(e);ne!==void 0&&(n.exports=ne)}}(function(q){q.EventSourcePolyfill=ue,q.NativeEventSource=d,q.EventSource=it})})(typeof globalThis=="undefined"?typeof window!="undefined"?window:typeof self!="undefined"?self:commonjsGlobal:globalThis)})(eventsource,eventsource.exports);var evs=eventsource.exports,browser=evs.EventSourcePolyfill,pick$1=function(n,e){return e.reduce(function(r,a){return typeof n[a]=="undefined"||(r[a]=n[a]),r},{})},defaults$2=function(n,e){return Object.keys(e).concat(Object.keys(n)).reduce(function(r,a){return r[a]=typeof n[a]=="undefined"?e[a]:n[a],r},{})};function ownKeys$1(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,a)}return r}function _objectSpread$1(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(r),!0).forEach(function(a){_defineProperty$2(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function _defineProperty$2(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var assign$b=objectAssign$b,_require$4=observable$2,Observable$2=_require$4.Observable,polyfilledEventSource=browser,pick=pick$1,defaults$1=defaults$2,encodeQueryString$1=encodeQueryString$2,MAX_URL_LENGTH=16e3-1200,EventSource=polyfilledEventSource,possibleOptions=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],defaultOptions$1={includeResult:!0},listen$1=function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.clientConfig,u=s.url,c=s.token,p=s.withCredentials,d=s.requestTagPrefix,g=a.tag&&d?[d,a.tag].join("."):a.tag,y=_objectSpread$1(_objectSpread$1({},defaults$1(a,defaultOptions$1)),{},{tag:g}),m=pick(y,possibleOptions),S=encodeQueryString$1({query:e,params:r,options:m,tag:g}),k="".concat(u).concat(this.getDataUrl("listen",S));if(k.length>MAX_URL_LENGTH)return new Observable$2(function(j){return j.error(new Error("Query too large for listener"))});var L=y.events?y.events:["mutation"],z=L.indexOf("reconnect")!==-1,Y={};return(c||p)&&(Y.withCredentials=!0),c&&(Y.headers={Authorization:"Bearer ".concat(c)}),new Observable$2(function(j){var T=I(),H,R=!1;function F(){R||(M(),!R&&T.readyState===EventSource.CLOSED&&(ae(),clearTimeout(H),H=setTimeout(X,100)))}function O(fe){j.error(cooerceError(fe))}function P(fe){var se=parseEvent(fe);return se instanceof Error?j.error(se):j.next(se)}function ie(fe){R=!0,ae(),j.complete()}function ae(){T.removeEventListener("error",F,!1),T.removeEventListener("channelError",O,!1),T.removeEventListener("disconnect",ie,!1),L.forEach(function(fe){return T.removeEventListener(fe,P,!1)}),T.close()}function M(){z&&j.next({type:"reconnect"})}function I(){var fe=new EventSource(k,Y);return fe.addEventListener("error",F,!1),fe.addEventListener("channelError",O,!1),fe.addEventListener("disconnect",ie,!1),L.forEach(function(se){return fe.addEventListener(se,P,!1)}),fe}function X(){T=I()}function W(){R=!0,ae()}return W})};function parseEvent(n){try{var e=n.data&&JSON.parse(n.data)||{};return assign$b({type:n.type},e)}catch(r){return r}}function cooerceError(n){if(n instanceof Error)return n;var e=parseEvent(n);return e instanceof Error?e:new Error(extractErrorMessage(e))}function extractErrorMessage(n){return n.error?n.error.description?n.error.description:typeof n.error=="string"?n.error:JSON.stringify(n.error,null,2):n.message||"Unknown listener error"}function _defineProperty$1(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var assign$a=objectAssign$b,_require$3=observable$2,map$2=_require$3.map,filter$3=_require$3.filter,validators$1=validators$3,getSelection=getSelection$2,encodeQueryString=encodeQueryString$2,Transaction$1=transaction,Patch$1=patch,listen=listen$1,excludeFalsey=function(e,r){var a=typeof e=="undefined"?r:e;return e===!1?void 0:a},getMutationQuery=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:excludeFalsey(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},isResponse=function(e){return e.type==="response"},getBody=function(e){return e.body},indexBy=function(e,r){return e.reduce(function(a,s){return a[r(s)]=s,a},Object.create(null))},toPromise$1=function(e){return e.toPromise()},getQuerySizeLimit=11264,dataMethods$1={listen,getDataUrl:function(e,r){var a=this.clientConfig,s=validators$1.hasDataset(a),u="/".concat(e,"/").concat(s),c=r?"".concat(u,"/").concat(r):u;return"/data".concat(c).replace(/\/($|\?)/,"$1")},fetch:function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=a.filterResponse===!1?function(c){return c}:function(c){return c.result},u=this._dataRequest("query",{query:e,params:r},a).pipe(map$2(s));return this.isPromiseAPI()?toPromise$1(u):u},getDocument:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={uri:this.getDataUrl("doc",e),json:!0,tag:r.tag},s=this._requestObservable(a).pipe(filter$3(isResponse),map$2(function(u){return u.body.documents&&u.body.documents[0]}));return this.isPromiseAPI()?toPromise$1(s):s},getDocuments:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={uri:this.getDataUrl("doc",e.join(",")),json:!0,tag:r.tag},s=this._requestObservable(a).pipe(filter$3(isResponse),map$2(function(u){var c=indexBy(u.body.documents||[],function(p){return p._id});return e.map(function(p){return c[p]||null})}));return this.isPromiseAPI()?toPromise$1(s):s},create:function(e,r){return this._create(e,"create",r)},createIfNotExists:function(e,r){return validators$1.requireDocumentId("createIfNotExists",e),this._create(e,"createIfNotExists",r)},createOrReplace:function(e,r){return validators$1.requireDocumentId("createOrReplace",e),this._create(e,"createOrReplace",r)},patch:function(e,r){return new Patch$1(e,r,this)},delete:function(e,r){return this.dataRequest("mutate",{mutations:[{delete:getSelection(e)}]},r)},mutate:function(e,r){var a=e instanceof Patch$1||e instanceof Transaction$1?e.serialize():e,s=Array.isArray(a)?a:[a],u=r&&r.transactionId;return this.dataRequest("mutate",{mutations:s,transactionId:u},r)},transaction:function(e){return new Transaction$1(e,this)},dataRequest:function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this._dataRequest(e,r,a);return this.isPromiseAPI()?toPromise$1(s):s},_dataRequest:function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=e==="mutate",u=e==="query",c=!s&&encodeQueryString(r),p=!s&&c.length<getQuerySizeLimit,d=p?c:"",g=a.returnFirst,y=a.timeout,m=a.token,S=a.tag,k=a.headers,L=this.getDataUrl(e,d),z={method:p?"GET":"POST",uri:L,json:!0,body:p?void 0:r,query:s&&getMutationQuery(a),timeout:y,headers:k,token:m,tag:S,canUseCdn:u};return this._requestObservable(z).pipe(filter$3(isResponse),map$2(getBody),map$2(function(Y){if(!s)return Y;var j=Y.results||[];if(a.returnDocuments)return g?j[0]&&j[0].document:j.map(function(R){return R.document});var T=g?"documentId":"documentIds",H=g?j[0]&&j[0].id:j.map(function(R){return R.id});return _defineProperty$1({transactionId:Y.transactionId,results:j},T,H)}))},_create:function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=_defineProperty$1({},r,e),u=assign$a({returnFirst:!0,returnDocuments:!0},a);return this.dataRequest("mutate",{mutations:[s]},u)}},assign$9=objectAssign$b,validate$1=validators$3;function DatasetsClient$1(n){this.request=n.request.bind(n)}assign$9(DatasetsClient$1.prototype,{create:function(e,r){return this._modify("PUT",e,r)},edit:function(e,r){return this._modify("PATCH",e,r)},delete:function(e){return this._modify("DELETE",e)},list:function(){return this.request({uri:"/datasets"})},_modify:function(e,r,a){return validate$1.dataset(r),this.request({method:e,uri:"/datasets/".concat(r),body:a})}});var datasetsClient=DatasetsClient$1,assign$8=objectAssign$b;function ProjectsClient$1(n){this.client=n}assign$8(ProjectsClient$1.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(e){return this.client.request({uri:"/projects/".concat(e)})}});var projectsClient=ProjectsClient$1,queryString$1=function(n){var e=[];for(var r in n)n.hasOwnProperty(r)&&e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n[r])));return e.length>0?"?".concat(e.join("&")):""};function _slicedToArray$1(n,e){return _arrayWithHoles$1(n)||_iterableToArrayLimit$1(n,e)||_unsupportedIterableToArray$1(n,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(n,e){if(!!n){if(typeof n=="string")return _arrayLikeToArray$1(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(n,e)}}function _arrayLikeToArray$1(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=n[r];return a}function _iterableToArrayLimit$1(n,e){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a=[],s=!0,u=!1,c,p;try{for(r=r.call(n);!(s=(c=r.next()).done)&&(a.push(c.value),!(e&&a.length===e));s=!0);}catch(d){u=!0,p=d}finally{try{!s&&r.return!=null&&r.return()}finally{if(u)throw p}}return a}}function _arrayWithHoles$1(n){if(Array.isArray(n))return n}var assign$7=objectAssign$b,_require$2=observable$2,map$1=_require$2.map,filter$2=_require$2.filter,queryString=queryString$1,validators=validators$3;function AssetsClient$1(n){this.client=n}function optionsFromFile(n,e){return typeof window=="undefined"||!(e instanceof window.File)?n:assign$7({filename:n.preserveFilename===!1?void 0:e.name,contentType:e.type},n)}assign$7(AssetsClient$1.prototype,{upload:function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};validators.validateAssetType(e);var s=a.extract||void 0;s&&!s.length&&(s=["none"]);var u=validators.hasDataset(this.client.clientConfig),c=e==="image"?"images":"files",p=optionsFromFile(a,r),d=p.tag,g=p.label,y=p.title,m=p.description,S=p.creditLine,k=p.filename,L=p.source,z={label:g,title:y,description:m,filename:k,meta:s,creditLine:S};L&&(z.sourceId=L.id,z.sourceName=L.name,z.sourceUrl=L.url);var Y=this.client._requestObservable({tag:d,method:"POST",timeout:p.timeout||0,uri:"/assets/".concat(c,"/").concat(u),headers:p.contentType?{"Content-Type":p.contentType}:{},query:z,body:r});return this.client.isPromiseAPI()?Y.pipe(filter$2(function(j){return j.type==="response"}),map$1(function(j){return j.body.document})).toPromise():Y},delete:function(e,r){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var a=r||"";return/^(image|file)-/.test(a)?e._id&&(a=e._id):a="".concat(e,"-").concat(a),validators.hasDataset(this.client.clientConfig),this.client.delete(a)},getImageUrl:function(e,r){var a=e._ref||e;if(typeof a!="string")throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(a))throw new Error('Unsupported asset ID "'.concat(a,'". URL generation only works for auto-generated IDs.'));var s=a.split("-"),u=_slicedToArray$1(s,4),c=u[1],p=u[2],d=u[3];validators.hasDataset(this.client.clientConfig);var g=this.client.clientConfig,y=g.projectId,m=g.dataset,S=r?queryString(r):"";return"https://cdn.sanity.io/images/".concat(y,"/").concat(m,"/").concat(c,"-").concat(p,".").concat(d).concat(S)}});var assetsClient=AssetsClient$1,assign$6=objectAssign$b;function UsersClient$1(n){this.client=n}assign$6(UsersClient$1.prototype,{getById:function(e){return this.client.request({uri:"/users/".concat(e)})}});var usersClient=UsersClient$1,assign$5=objectAssign$b;function AuthClient$1(n){this.client=n}assign$5(AuthClient$1.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}});var authClient=AuthClient$1,nanoPubsub=function(){var e=[];return{subscribe:r,publish:a};function r(s){return e.push(s),function(){var c=e.indexOf(s);c>-1&&e.splice(c,1)}}function a(){for(var s=0;s<e.length;s++)e[s].apply(null,arguments)}},middlewareReducer$1=function(n){var e=function(a,s){for(var u=a==="onError",c=s,p=arguments.length,d=new Array(p>2?p-2:0),g=2;g<p;g++)d[g-2]=arguments[g];for(var y=0;y<n[a].length;y++){var m=n[a][y];if(c=m.apply(void 0,[c].concat(d)),u&&!c)break}return c};return e},requiresPort=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},querystringify$1={},has$1=Object.prototype.hasOwnProperty,undef;function decode(n){try{return decodeURIComponent(n.replace(/\+/g," "))}catch{return null}}function encode(n){try{return encodeURIComponent(n)}catch{return null}}function querystring(n){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},a;a=e.exec(n);){var s=decode(a[1]),u=decode(a[2]);s===null||u===null||s in r||(r[s]=u)}return r}function querystringify(n,e){e=e||"";var r=[],a,s;typeof e!="string"&&(e="?");for(s in n)if(has$1.call(n,s)){if(a=n[s],!a&&(a===null||a===undef||isNaN(a))&&(a=""),s=encode(s),a=encode(a),s===null||a===null)continue;r.push(s+"="+a)}return r.length?e+r.join("&"):""}querystringify$1.stringify=querystringify;querystringify$1.parse=querystring;var required=requiresPort,qs=querystringify$1,controlOrWhitespace=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,CRHTLF=/[\n\r\t]/g,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,port=/:\d+$/,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,windowsDriveLetter=/^[a-zA-Z]:/;function trimLeft(n){return(n||"").toString().replace(controlOrWhitespace,"")}var rules=[["#","hash"],["?","query"],function(e,r){return isSpecial(r.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(n){var e;typeof window!="undefined"?e=window:typeof commonjsGlobal!="undefined"?e=commonjsGlobal:typeof self!="undefined"?e=self:e={};var r=e.location||{};n=n||r;var a={},s=typeof n,u;if(n.protocol==="blob:")a=new Url(unescape(n.pathname),{});else if(s==="string"){a=new Url(n,{});for(u in ignore)delete a[u]}else if(s==="object"){for(u in n)u in ignore||(a[u]=n[u]);a.slashes===void 0&&(a.slashes=slashes.test(n.href))}return a}function isSpecial(n){return n==="file:"||n==="ftp:"||n==="http:"||n==="https:"||n==="ws:"||n==="wss:"}function extractProtocol(n,e){n=trimLeft(n),n=n.replace(CRHTLF,""),e=e||{};var r=protocolre.exec(n),a=r[1]?r[1].toLowerCase():"",s=!!r[2],u=!!r[3],c=0,p;return s?u?(p=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(p=r[2]+r[4],c=r[2].length):u?(p=r[3]+r[4],c=r[3].length):p=r[4],a==="file:"?c>=2&&(p=p.slice(2)):isSpecial(a)?p=r[4]:a?s&&(p=p.slice(2)):c>=2&&isSpecial(e.protocol)&&(p=r[4]),{protocol:a,slashes:s||isSpecial(a),slashesCount:c,rest:p}}function resolve(n,e){if(n==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(n.split("/")),a=r.length,s=r[a-1],u=!1,c=0;a--;)r[a]==="."?r.splice(a,1):r[a]===".."?(r.splice(a,1),c++):c&&(a===0&&(u=!0),r.splice(a,1),c--);return u&&r.unshift(""),(s==="."||s==="..")&&r.push(""),r.join("/")}function Url(n,e,r){if(n=trimLeft(n),n=n.replace(CRHTLF,""),!(this instanceof Url))return new Url(n,e,r);var a,s,u,c,p,d,g=rules.slice(),y=typeof e,m=this,S=0;for(y!=="object"&&y!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=qs.parse),e=lolcation(e),s=extractProtocol(n||"",e),a=!s.protocol&&!s.slashes,m.slashes=s.slashes||a&&e.slashes,m.protocol=s.protocol||e.protocol||"",n=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||windowsDriveLetter.test(n))||!s.slashes&&(s.protocol||s.slashesCount<2||!isSpecial(m.protocol)))&&(g[3]=[/(.*)/,"pathname"]);S<g.length;S++){if(c=g[S],typeof c=="function"){n=c(n,m);continue}u=c[0],d=c[1],u!==u?m[d]=n:typeof u=="string"?(p=u==="@"?n.lastIndexOf(u):n.indexOf(u),~p&&(typeof c[2]=="number"?(m[d]=n.slice(0,p),n=n.slice(p+c[2])):(m[d]=n.slice(p),n=n.slice(0,p)))):(p=u.exec(n))&&(m[d]=p[1],n=n.slice(0,p.index)),m[d]=m[d]||a&&c[3]&&e[d]||"",c[4]&&(m[d]=m[d].toLowerCase())}r&&(m.query=r(m.query)),a&&e.slashes&&m.pathname.charAt(0)!=="/"&&(m.pathname!==""||e.pathname!=="")&&(m.pathname=resolve(m.pathname,e.pathname)),m.pathname.charAt(0)!=="/"&&isSpecial(m.protocol)&&(m.pathname="/"+m.pathname),required(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(p=m.auth.indexOf(":"),~p?(m.username=m.auth.slice(0,p),m.username=encodeURIComponent(decodeURIComponent(m.username)),m.password=m.auth.slice(p+1),m.password=encodeURIComponent(decodeURIComponent(m.password))):m.username=encodeURIComponent(decodeURIComponent(m.auth)),m.auth=m.password?m.username+":"+m.password:m.username),m.origin=m.protocol!=="file:"&&isSpecial(m.protocol)&&m.host?m.protocol+"//"+m.host:"null",m.href=m.toString()}function set(n,e,r){var a=this;switch(n){case"query":typeof e=="string"&&e.length&&(e=(r||qs.parse)(e)),a[n]=e;break;case"port":a[n]=e,required(e,a.protocol)?e&&(a.host=a.hostname+":"+e):(a.host=a.hostname,a[n]="");break;case"hostname":a[n]=e,a.port&&(e+=":"+a.port),a.host=e;break;case"host":a[n]=e,port.test(e)?(e=e.split(":"),a.port=e.pop(),a.hostname=e.join(":")):(a.hostname=e,a.port="");break;case"protocol":a.protocol=e.toLowerCase(),a.slashes=!r;break;case"pathname":case"hash":if(e){var s=n==="pathname"?"/":"#";a[n]=e.charAt(0)!==s?s+e:e}else a[n]=e;break;case"username":case"password":a[n]=encodeURIComponent(e);break;case"auth":var u=e.indexOf(":");~u?(a.username=e.slice(0,u),a.username=encodeURIComponent(decodeURIComponent(a.username)),a.password=e.slice(u+1),a.password=encodeURIComponent(decodeURIComponent(a.password))):a.username=encodeURIComponent(decodeURIComponent(e))}for(var c=0;c<rules.length;c++){var p=rules[c];p[4]&&(a[p[1]]=a[p[1]].toLowerCase())}return a.auth=a.password?a.username+":"+a.password:a.username,a.origin=a.protocol!=="file:"&&isSpecial(a.protocol)&&a.host?a.protocol+"//"+a.host:"null",a.href=a.toString(),a}function toString(n){(!n||typeof n!="function")&&(n=qs.stringify);var e,r=this,a=r.host,s=r.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var u=s+(r.protocol&&r.slashes||isSpecial(r.protocol)?"//":"");return r.username?(u+=r.username,r.password&&(u+=":"+r.password),u+="@"):r.password?(u+=":"+r.password,u+="@"):r.protocol!=="file:"&&isSpecial(r.protocol)&&!a&&r.pathname!=="/"&&(u+="@"),(a[a.length-1]===":"||port.test(r.hostname)&&!r.port)&&(a+=":"),u+=a+r.pathname,e=typeof r.query=="object"?n(r.query):r.query,e&&(u+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(u+=r.hash),u}Url.prototype={set,toString};Url.extractProtocol=extractProtocol;Url.location=lolcation;Url.trimLeft=trimLeft;Url.qs=qs;var urlParse$1=Url,objectAssign$a=objectAssign$b,urlParse=urlParse$1,isReactNative=typeof navigator=="undefined"?!1:navigator.product==="ReactNative",has=Object.prototype.hasOwnProperty,defaultOptions={timeout:isReactNative?6e4:12e4},defaultOptionsProcessor=function(n){var e=typeof n=="string"?objectAssign$a({url:n},defaultOptions):objectAssign$a({},defaultOptions,n),r=urlParse(e.url,{},!0);return e.timeout=normalizeTimeout(e.timeout),e.query&&(r.query=objectAssign$a({},r.query,removeUndefined(e.query))),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e.url=r.toString(stringifyQueryString),e};function stringifyQueryString(n){var e=[];for(var r in n)has.call(n,r)&&a(r,n[r]);return e.length?e.join("&"):"";function a(s,u){Array.isArray(u)?u.forEach(function(c){return a(s,c)}):e.push([s,u].map(encodeURIComponent).join("="))}}function normalizeTimeout(n){if(n===!1||n===0)return!1;if(n.connect||n.socket)return n;var e=Number(n);return isNaN(e)?normalizeTimeout(defaultOptions.timeout):{connect:e,socket:e}}function removeUndefined(n){var e={};for(var r in n)n[r]!==void 0&&(e[r]=n[r]);return e}var validUrl=/^https?:\/\//i,defaultOptionsValidator=function(n){if(!validUrl.test(n.url))throw new Error('"'.concat(n.url,'" is not a valid URL'))},regex=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/,urlParser={regex,parse:function(n){var e=regex.exec(n);return e?{protocol:(e[1]||"").toLowerCase()||void 0,hostname:(e[5]||"").toLowerCase()||void 0,port:e[6]||void 0}:{}}},url=urlParser,sameOrigin$1=function(n,e,r){if(n===e)return!0;var a=url.parse(n,!1,!0),s=url.parse(e,!1,!0),u=a.port|0||(a.protocol==="https"?443:80),c=s.port|0||(s.protocol==="https"?443:80),p={proto:a.protocol===s.protocol,hostname:a.hostname===s.hostname,port:u===c};return p.proto&&p.hostname&&(p.port||r)},trim=function(n){return n.replace(/^\s+|\s+$/g,"")},isArray$1=function(n){return Object.prototype.toString.call(n)==="[object Array]"},parseHeaders$1=function(n){if(!n)return{};for(var e={},r=trim(n).split(`
`),a=0;a<r.length;a++){var s=r[a],u=s.indexOf(":"),c=trim(s.slice(0,u)).toLowerCase(),p=trim(s.slice(u+1));typeof e[c]=="undefined"?e[c]=p:isArray$1(e[c])?e[c].push(p):e[c]=[e[c],p]}return e};function FetchXhr$1(){this.readyState=0}FetchXhr$1.prototype.open=function(n,e){this._method=n,this._url=e,this._resHeaders="",this.readyState=1,this.onreadystatechange()};FetchXhr$1.prototype.abort=function(){this._controller&&this._controller.abort()};FetchXhr$1.prototype.getAllResponseHeaders=function(){return this._resHeaders};FetchXhr$1.prototype.setRequestHeader=function(n,e){this._headers=this._headers||{},this._headers[n]=e};FetchXhr$1.prototype.send=function(n){var e=this,r=this._controller=typeof AbortController=="function"&&new AbortController,a=this.responseType!=="arraybuffer",s={method:this._method,headers:this._headers,signal:r&&r.signal,body:n};typeof window!="undefined"&&(s.credentials=this.withCredentials?"include":"omit"),fetch(this._url,s).then(function(u){return u.headers.forEach(function(c,p){e._resHeaders+="".concat(p,": ").concat(c,`\r
`)}),e.status=u.status,e.statusText=u.statusText,e.readyState=3,a?u.text():u.arrayBuffer()}).then(function(u){a?e.responseText=u:e.response=u,e.readyState=4,e.onreadystatechange()}).catch(function(u){if(u.name==="AbortError"){e.onabort();return}e.onerror(u)})};var fetchXhr=FetchXhr$1,sameOrigin=sameOrigin$1,parseHeaders=parseHeaders$1,FetchXhr=fetchXhr,noop=function(){},win=typeof window=="undefined"?void 0:window,adapter=win?"xhr":"fetch",XmlHttpRequest=typeof XMLHttpRequest=="function"?XMLHttpRequest:noop,hasXhr2="withCredentials"in new XmlHttpRequest,XDR=typeof XDomainRequest=="undefined"?void 0:XDomainRequest,CrossDomainRequest=hasXhr2?XmlHttpRequest:XDR;win||(XmlHttpRequest=FetchXhr,CrossDomainRequest=FetchXhr);var browserRequest=function(n,e){var r=n.options,a=n.applyMiddleware("finalizeOptions",r),s={},u=win&&win.location&&!sameOrigin(win.location.href,a.url),c=n.applyMiddleware("interceptRequest",void 0,{adapter,context:n});if(c){var p=setTimeout(e,0,null,c),d=function(){return clearTimeout(p)};return{abort:d}}var g=u?new CrossDomainRequest:new XmlHttpRequest,y=win&&win.XDomainRequest&&g instanceof win.XDomainRequest,m=a.headers,S=a.timeout,k=!1,L=!1,z=!1;g.onerror=O,g.ontimeout=O,g.onabort=function(){F(!0),k=!0},g.onprogress=function(){};var Y=y?"onload":"onreadystatechange";if(g[Y]=function(){R(),!(k||g.readyState!==4&&!y)&&g.status!==0&&ie()},g.open(a.method,a.url,!0),g.withCredentials=!!a.withCredentials,m&&g.setRequestHeader)for(var j in m)m.hasOwnProperty(j)&&g.setRequestHeader(j,m[j]);else if(m&&y)throw new Error("Headers cannot be set on an XDomainRequest object");return a.rawBody&&(g.responseType="arraybuffer"),n.applyMiddleware("onRequest",{options:a,adapter,request:g,context:n}),g.send(a.body||null),S&&(s.connect=setTimeout(function(){return H("ETIMEDOUT")},S.connect)),{abort:T};function T(){k=!0,g&&g.abort()}function H(ae){z=!0,g.abort();var M=new Error(ae==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(a.url):"Connection timed out on request to ".concat(a.url));M.code=ae,n.channels.error.publish(M)}function R(){!S||(F(),s.socket=setTimeout(function(){return H("ESOCKETTIMEDOUT")},S.socket))}function F(ae){(ae||k||g.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function O(ae){if(!L){F(!0),L=!0,g=null;var M=ae||new Error("Network error while attempting to reach ".concat(a.url));M.isNetworkError=!0,M.request=a,e(M)}}function P(){var ae=g.status,M=g.statusText;if(y&&ae===void 0)ae=200;else{if(ae>12e3&&ae<12156)return O();ae=g.status===1223?204:g.status,M=g.status===1223?"No Content":M}return{body:g.response||g.responseText,url:a.url,method:a.method,headers:y?{}:parseHeaders(g.getAllResponseHeaders()),statusCode:ae,statusMessage:M}}function ie(){if(!(k||L||z)){if(g.status===0){O(new Error("Unknown XHR error"));return}F(),L=!0,e(null,P())}}},request$1=browserRequest,pubsub=nanoPubsub,middlewareReducer=middlewareReducer$1,processOptions=defaultOptionsProcessor,validateOptions=defaultOptionsValidator,httpRequester=request$1,channelNames=["request","response","progress","error","abort"],middlehooks=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"],lib$1=function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:httpRequester,a=[],s=middlehooks.reduce(function(c,p){return c[p]=c[p]||[],c},{processOptions:[processOptions],validateOptions:[validateOptions]});function u(c){var p=channelNames.reduce(function(z,Y){return z[Y]=pubsub(),z},{}),d=middlewareReducer(s),g=d("processOptions",c);d("validateOptions",g);var y={options:g,channels:p,applyMiddleware:d},m=null,S=p.request.subscribe(function(z){m=r(z,function(Y,j){return L(Y,j,z)})});p.abort.subscribe(function(){S(),m&&m.abort()});var k=d("onReturn",p,y);return k===p&&p.request.publish(y),k;function L(z,Y,j){var T=z,H=Y;if(!T)try{H=d("onResponse",Y,j)}catch(R){H=null,T=R}T=T&&d("onError",T,j),T?p.error.publish(T):H&&p.response.publish(H)}}return u.use=function(p){if(!p)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof p=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(p.onReturn&&s.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return middlehooks.forEach(function(d){p[d]&&s[d].push(p[d])}),a.push(p),u},u.clone=function(){return n(a)},e.forEach(u.use),u},getIt$1=lib$1,global$2={exports:{}};typeof globalThis!="undefined"?global$2.exports=globalThis:typeof window!="undefined"?global$2.exports=window:typeof commonjsGlobal!="undefined"?global$2.exports=commonjsGlobal:typeof self!="undefined"?global$2.exports=self:global$2.exports={};var global$1=global$2.exports,objectAssign$9=objectAssign$b,observable$1=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.implementation||global$1.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(a,s){return new e(function(u){return a.error.subscribe(function(c){return u.error(c)}),a.progress.subscribe(function(c){return u.next(objectAssign$9({type:"progress"},c))}),a.response.subscribe(function(c){u.next(objectAssign$9({type:"response"},c)),u.complete()}),a.request.publish(s),function(){return a.abort.publish()}})}}};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isobject=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isObject$2=isobject;function isObjectObject(n){return isObject$2(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var isPlainObject$1=function(e){var r,a;return!(isObjectObject(e)===!1||(r=e.constructor,typeof r!="function")||(a=r.prototype,isObjectObject(a)===!1)||a.hasOwnProperty("isPrototypeOf")===!1)};function _typeof$1(n){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(n)}var objectAssign$8=objectAssign$b,isPlainObject=isPlainObject$1,serializeTypes=["boolean","string","number"],isBuffer=function(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)},jsonRequest$1=function(){return{processOptions:function(e){var r=e.body;if(!r)return e;var a=typeof r.pipe=="function",s=!a&&!isBuffer(r)&&(serializeTypes.indexOf(_typeof$1(r))!==-1||Array.isArray(r)||isPlainObject(r));return s?objectAssign$8({},e,{body:JSON.stringify(e.body),headers:objectAssign$8({},e.headers,{"Content-Type":"application/json"})}):e}}},objectAssign$7=objectAssign$b,jsonResponse$1=function(n){return{onResponse:function(r){var a=r.headers["content-type"]||"",s=n&&n.force||a.indexOf("application/json")!==-1;return!r.body||!a||!s?r:objectAssign$7({},r,{body:tryParse(r.body)})},processOptions:function(r){return objectAssign$7({},r,{headers:objectAssign$7({Accept:"application/json"},r.headers)})}}};function tryParse(n){try{return JSON.parse(n)}catch(e){throw e.message="Failed to parsed response body as JSON: ".concat(e.message),e}}var browserProgress=function(){return{onRequest:function(e){if(e.adapter!=="xhr")return;var r=e.request,a=e.context;"upload"in r&&"onprogress"in r.upload&&(r.upload.onprogress=s("upload")),"onprogress"in r&&(r.onprogress=s("download"));function s(u){return function(c){var p=c.lengthComputable?c.loaded/c.total*100:-1;a.channels.progress.publish({stage:u,percent:p,total:c.total,loaded:c.loaded,lengthComputable:c.lengthComputable})}}}}},progress$1=browserProgress,errors={},makeError$1={exports:{}};(function(n,e){var r=typeof Reflect!="undefined"?Reflect.construct:void 0,a=Object.defineProperty,s=Error.captureStackTrace;s===void 0&&(s=function(g){var y=new Error;a(g,"stack",{configurable:!0,get:function(){var S=y.stack;return a(this,"stack",{configurable:!0,value:S,writable:!0}),S},set:function(S){a(g,"stack",{configurable:!0,value:S,writable:!0})}})});function u(d){d!==void 0&&a(this,"message",{configurable:!0,value:d,writable:!0});var g=this.constructor.name;g!==void 0&&g!==this.name&&a(this,"name",{configurable:!0,value:g,writable:!0}),s(this,this.constructor)}u.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:u,writable:!0}});var c=function(){function d(y,m){return a(y,"name",{configurable:!0,value:m})}try{var g=function(){};if(d(g,"foo"),g.name==="foo")return d}catch{}}();function p(d,g){if(g==null||g===Error)g=u;else if(typeof g!="function")throw new TypeError("super_ should be a function");var y;if(typeof d=="string")y=d,d=r!==void 0?function(){return r(g,arguments,this.constructor)}:function(){g.apply(this,arguments)},c!==void 0&&(c(d,y),y=void 0);else if(typeof d!="function")throw new TypeError("constructor should be either a string or a function");d.super_=d.super=g;var m={constructor:{configurable:!0,value:d,writable:!0}};return y!==void 0&&(m.name={configurable:!0,value:y,writable:!0}),d.prototype=Object.create(g.prototype,m),d}e=n.exports=p,e.BaseError=u})(makeError$1,makeError$1.exports);var makeError=makeError$1.exports,assign$4=objectAssign$b;function ClientError$1(n){var e=extractErrorProps(n);ClientError$1.super.call(this,e.message),assign$4(this,e)}function ServerError$1(n){var e=extractErrorProps(n);ServerError$1.super.call(this,e.message),assign$4(this,e)}function extractErrorProps(n){var e=n.body,r={response:n,statusCode:n.statusCode,responseBody:stringifyBody(e,n)};return e.error&&e.message?(r.message="".concat(e.error," - ").concat(e.message),r):e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||httpErrorMessage(n),r)}function httpErrorMessage(n){var e=n.statusMessage?" ".concat(n.statusMessage):"";return"".concat(n.method,"-request to ").concat(n.url," resulted in HTTP ").concat(n.statusCode).concat(e)}function stringifyBody(n,e){var r=(e.headers["content-type"]||"").toLowerCase(),a=r.indexOf("application/json")!==-1;return a?JSON.stringify(n,null,2):n}makeError(ClientError$1);makeError(ServerError$1);errors.ClientError=ClientError$1;errors.ServerError=ServerError$1;var browserMiddleware=[],getIt=getIt$1,assign$3=objectAssign$b,observable=observable$1,jsonRequest=jsonRequest$1,jsonResponse=jsonResponse$1,progress=progress$1,_require$1=observable$2,Observable$1=_require$1.Observable,_require2$1=errors,ClientError=_require2$1.ClientError,ServerError=_require2$1.ServerError,httpError={onResponse:function(e){if(e.statusCode>=500)throw new ServerError(e);if(e.statusCode>=400)throw new ClientError(e);return e}},printWarnings={onResponse:function(e){var r=e.headers["x-sanity-warning"],a=Array.isArray(r)?r:[r];return a.filter(Boolean).forEach(function(s){return console.warn(s)}),e}},envSpecific=browserMiddleware,middleware=envSpecific.concat([printWarnings,jsonRequest(),jsonResponse(),progress(),httpError,observable({implementation:Observable$1})]),request=getIt(middleware);function httpRequest$1(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:request;return e(assign$3({maxRedirects:0},n))}httpRequest$1.defaultRequester=request;httpRequest$1.ClientError=ClientError;httpRequest$1.ServerError=ServerError;var request_1=httpRequest$1,assign$2=objectAssign$b,projectHeader="X-Sanity-Project-ID",requestOptions=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={},a=e.token||n.token;a&&(r.Authorization="Bearer ".concat(a)),!e.useGlobalApi&&!n.useProjectHostname&&n.projectId&&(r[projectHeader]=n.projectId);var s=Boolean(typeof e.withCredentials=="undefined"?n.token||n.withCredentials:e.withCredentials),u=typeof e.timeout=="undefined"?n.timeout:e.timeout;return assign$2({},e,{headers:assign$2({},r,e.headers||{}),timeout:typeof u=="undefined"?5*60*1e3:u,proxy:e.proxy||n.proxy,json:!0,withCredentials:s})},config={},generateHelpUrl_cjs={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n[Symbol.toStringTag]="Module";const e="https://docs.sanity.io/help/";function r(a){return e+a}n.generateHelpUrl=r})(generateHelpUrl_cjs);var warnings={},once$1=function(n){var e=!1,r;return function(){return e||(r=n.apply(void 0,arguments),e=!0),r}},generateHelpUrl$2=generateHelpUrl_cjs.generateHelpUrl,once=once$1,createWarningPrinter=function(e){return once(function(){for(var r,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(r=console).warn.apply(r,[e.join(" ")].concat(s))})};warnings.printCdnWarning=createWarningPrinter(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see ".concat(generateHelpUrl$2("js-client-cdn-configuration"),"."),"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]);warnings.printBrowserTokenWarning=createWarningPrinter(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(generateHelpUrl$2("js-client-browser-token")," for more information and how to hide this warning.")]);warnings.printNoApiVersionSpecifiedWarning=createWarningPrinter(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(generateHelpUrl$2("js-client-api-version"))]);(function(n){var e=generateHelpUrl_cjs.generateHelpUrl,r=objectAssign$b,a=validators$3,s=warnings,u="apicdn.sanity.io",c={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,isPromiseAPI:!0},p=["localhost","127.0.0.1","0.0.0.0"],d=function(y){return p.indexOf(y)!==-1};n.defaultConfig=c,n.initConfig=function(g,y){var m=r({},y,g);m.apiVersion||s.printNoApiVersionSpecifiedWarning();var S=r({},c,m),k=S.useProjectHostname;if(typeof Promise=="undefined"){var L=e("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(L))}if(k&&!S.projectId)throw new Error("Configuration must contain `projectId`");var z=typeof window!="undefined"&&window.location&&window.location.hostname,Y=z&&d(window.location.hostname);z&&Y&&S.token&&S.ignoreBrowserTokenWarning!==!0?s.printBrowserTokenWarning():typeof S.useCdn=="undefined"&&s.printCdnWarning(),k&&a.projectId(S.projectId),S.dataset&&a.dataset(S.dataset),"requestTagPrefix"in S&&(S.requestTagPrefix=S.requestTagPrefix?a.requestTag(S.requestTagPrefix).replace(/\.+$/,""):void 0),S.apiVersion="".concat(S.apiVersion).replace(/^v/,""),S.isDefaultApi=S.apiHost===c.apiHost,S.useCdn=Boolean(S.useCdn)&&!S.withCredentials,n.validateApiVersion(S.apiVersion);var j=S.apiHost.split("://",2),T=j[0],H=j[1],R=S.isDefaultApi?u:H;return S.useProjectHostname?(S.url="".concat(T,"://").concat(S.projectId,".").concat(H,"/v").concat(S.apiVersion),S.cdnUrl="".concat(T,"://").concat(S.projectId,".").concat(R,"/v").concat(S.apiVersion)):(S.url="".concat(S.apiHost,"/v").concat(S.apiVersion),S.cdnUrl=S.url),S},n.validateApiVersion=function(y){if(!(y==="1"||y==="X")){var m=new Date(y),S=/^\d{4}-\d{2}-\d{2}$/.test(y)&&m instanceof Date&&m.getTime()>0;if(!S)throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}}})(config);function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,a)}return r}function _objectSpread(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(a){_defineProperty(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function _defineProperty(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var assign$1=objectAssign$b,_require=observable$2,Observable=_require.Observable,map=_require.map,filter$1=_require.filter,Patch=patch,Transaction=transaction,dataMethods=dataMethods$1,DatasetsClient=datasetsClient,ProjectsClient=projectsClient,AssetsClient=assetsClient,UsersClient=usersClient,AuthClient=authClient,httpRequest=request_1,getRequestOptions=requestOptions,_require2=config,defaultConfig=_require2.defaultConfig,initConfig=_require2.initConfig,validate=validators$3,toPromise=function(e){return e.toPromise()};function SanityClient(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultConfig;if(!(this instanceof SanityClient))return new SanityClient(n);if(this.config(n),this.assets=new AssetsClient(this),this.datasets=new DatasetsClient(this),this.projects=new ProjectsClient(this),this.users=new UsersClient(this),this.auth=new AuthClient(this),this.clientConfig.isPromiseAPI){var e=assign$1({},this.clientConfig,{isPromiseAPI:!1});this.observable=new SanityClient(e)}}assign$1(SanityClient.prototype,dataMethods);assign$1(SanityClient.prototype,{clone:function(){return new SanityClient(this.config())},config:function(e){if(typeof e=="undefined")return assign$1({},this.clientConfig);if(this.observable){var r=assign$1({},e,{isPromiseAPI:!1});this.observable.config(r)}return this.clientConfig=initConfig(e,this.clientConfig||{}),this},withConfig:function(e){return this.clone().config(e)},getUrl:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=r?this.clientConfig.cdnUrl:this.clientConfig.url;return"".concat(a,"/").concat(e.replace(/^\//,""))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(e){var r=this,a=e.url||e.uri,s=typeof e.canUseCdn=="undefined"?["GET","HEAD"].indexOf(e.method||"GET")>=0&&a.indexOf("/data/")===0:e.canUseCdn,u=this.clientConfig.useCdn&&s,c=e.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,e.tag].join("."):e.tag||this.clientConfig.requestTagPrefix;c&&(e.query=_objectSpread({tag:validate.requestTag(c)},e.query));var p=getRequestOptions(this.clientConfig,assign$1({},e,{url:this.getUrl(a,u)}));return new Observable(function(d){return httpRequest(p,r.clientConfig.requester).subscribe(d)})},request:function(e){var r=this._requestObservable(e).pipe(filter$1(function(a){return a.type==="response"}),map(function(a){return a.body}));return this.isPromiseAPI()?toPromise(r):r}});SanityClient.Patch=Patch;SanityClient.Transaction=Transaction;SanityClient.ClientError=httpRequest.ClientError;SanityClient.ServerError=httpRequest.ServerError;SanityClient.requester=httpRequest.defaultRequester;var sanityClient=SanityClient,hyperscript$1={exports:{}};/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */var browserSplit=function(e){var r=String.prototype.split,a=/()??/.exec("")[1]===e,s;return s=function(u,m,p){if(Object.prototype.toString.call(m)!=="[object RegExp]")return r.call(u,m,p);var d=[],g=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.extended?"x":"")+(m.sticky?"y":""),y=0,m=new RegExp(m.source,g+"g"),S,k,L,z;for(u+="",a||(S=new RegExp("^"+m.source+"$(?!\\s)",g)),p=p===e?-1>>>0:p>>>0;(k=m.exec(u))&&(L=k.index+k[0].length,!(L>y&&(d.push(u.slice(y,k.index)),!a&&k.length>1&&k[0].replace(S,function(){for(var Y=1;Y<arguments.length-2;Y++)arguments[Y]===e&&(k[Y]=e)}),k.length>1&&k.index<u.length&&Array.prototype.push.apply(d,k.slice(1)),z=k[0].length,y=L,d.length>=p)));)m.lastIndex===k.index&&m.lastIndex++;return y===u.length?(z||!m.test(""))&&d.push(""):d.push(u.slice(y)),d.length>p?d.slice(0,p):d},s}(),indexOf=[].indexOf,indexof$1=function(n,e){if(indexOf)return n.indexOf(e);for(var r=0;r<n.length;++r)if(n[r]===e)return r;return-1},indexof=indexof$1,classList=ClassList$1;function ClassList$1(n){var e=n.classList;if(e)return e;var r={add:a,remove:s,contains:u,toggle:c,toString:p,length:0,item:d};return r;function a(m){var S=g();indexof(S,m)>-1||(S.push(m),y(S))}function s(m){var S=g(),k=indexof(S,m);k!==-1&&(S.splice(k,1),y(S))}function u(m){return indexof(g(),m)>-1}function c(m){return u(m)?(s(m),!1):(a(m),!0)}function p(){return n.className}function d(m){var S=g();return S[m]||null}function g(){var m=n.className;return filter(m.split(" "),isTruthy)}function y(m){var S=m.length;n.className=m.join(" "),r.length=S;for(var k=0;k<m.length;k++)r[k]=m[k];delete m[S]}}function filter(n,e){for(var r=[],a=0;a<n.length;a++)e(n[a])&&r.push(n[a]);return r}function isTruthy(n){return!!n}var __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1),split=browserSplit,ClassList=classList,w=typeof window=="undefined"?require$$2:window,document$1=w.document,Text$1=w.Text;function context(){var n=[];function e(){var r=[].slice.call(arguments),a=null;function s(u){var c;function p(m){var S=split(m,/([\.#]?[^\s#.]+)/);/^\.|#/.test(S[1])&&(a=document$1.createElement("div")),forEach(S,function(k){var L=k.substring(1,k.length);!k||(a?k[0]==="."?ClassList(a).add(L):k[0]==="#"&&a.setAttribute("id",L):a=document$1.createElement(k))})}if(u!=null){if(typeof u=="string")a?a.appendChild(c=document$1.createTextNode(u)):p(u);else if(typeof u=="number"||typeof u=="boolean"||u instanceof Date||u instanceof RegExp)a.appendChild(c=document$1.createTextNode(u.toString()));else if(isArray(u))forEach(u,s);else if(isNode(u))a.appendChild(c=u);else if(u instanceof Text$1)a.appendChild(c=u);else if(typeof u=="object")for(var d in u)if(typeof u[d]=="function")/^on\w+/.test(d)?function(m,S){a.addEventListener?(a.addEventListener(m.substring(2),S[m],!1),n.push(function(){a.removeEventListener(m.substring(2),S[m],!1)})):(a.attachEvent(m,S[m]),n.push(function(){a.detachEvent(m,S[m])}))}(d,u):(a[d]=u[d](),n.push(u[d](function(m){a[d]=m})));else if(d==="style")if(typeof u[d]=="string")a.style.cssText=u[d];else for(var g in u[d])(function(m,S){if(typeof S=="function")a.style.setProperty(m,S()),n.push(S(function(L){a.style.setProperty(m,L)}));else var k=u[d][m].match(/(.*)\W+!important\W*$/);k?a.style.setProperty(m,k[1],"important"):a.style.setProperty(m,u[d][m])})(g,u[d][g]);else if(d==="attrs")for(var y in u[d])a.setAttribute(y,u[d][y]);else d.substr(0,5)==="data-"?a.setAttribute(d,u[d]):a[d]=u[d];else if(typeof u=="function"){var y=u();a.appendChild(c=isNode(y)?y:document$1.createTextNode(y)),n.push(u(function(S){isNode(S)&&c.parentElement?(c.parentElement.replaceChild(S,c),c=S):c.textContent=S}))}}return c}for(;r.length;)s(r.shift());return a}return e.cleanup=function(){for(var r=0;r<n.length;r++)n[r]();n.length=0},e}var h$2=hyperscript$1.exports=context();h$2.context=context;function isNode(n){return n&&n.nodeName&&n.nodeType}function forEach(n,e){if(n.forEach)return n.forEach(e);for(var r=0;r<n.length;r++)e(n[r],r)}function isArray(n){return Object.prototype.toString.call(n)=="[object Array]"}var baseUrl="https://docs.sanity.io/help/",generateHelpUrl$1=function(e){return baseUrl+e},imageUrl_umd$1={exports:{}};(function(n,e){(function(r,a){n.exports=a()})(commonjsGlobal,function(){function r(){return r=Object.assign||function(M){for(var I=1;I<arguments.length;I++){var X=arguments[I];for(var W in X)Object.prototype.hasOwnProperty.call(X,W)&&(M[W]=X[W])}return M},r.apply(this,arguments)}function a(M,I){if(!!M){if(typeof M=="string")return s(M,I);var X=Object.prototype.toString.call(M).slice(8,-1);if(X==="Object"&&M.constructor&&(X=M.constructor.name),X==="Map"||X==="Set")return Array.from(M);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return s(M,I)}}function s(M,I){(I==null||I>M.length)&&(I=M.length);for(var X=0,W=new Array(I);X<I;X++)W[X]=M[X];return W}function u(M){var I=0;if(typeof Symbol=="undefined"||M[Symbol.iterator]==null){if(Array.isArray(M)||(M=a(M)))return function(){return I>=M.length?{done:!0}:{done:!1,value:M[I++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return I=M[Symbol.iterator](),I.next.bind(I)}var c="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function p(M){var I=M.split("-"),X=I[1],W=I[2],fe=I[3];if(!X||!W||!fe)throw new Error("Malformed asset _ref '"+M+`'. Expected an id like "`+c+'".');var se=W.split("x"),$e=se[0],Ce=se[1],Ie=+$e,Fe=+Ce,Ne=isFinite(Ie)&&isFinite(Fe);if(!Ne)throw new Error("Malformed asset _ref '"+M+`'. Expected an id like "`+c+'".');return{id:X,width:Ie,height:Fe,format:fe}}var d=function(I){var X=I;return X?typeof X._ref=="string":!1},g=function(I){var X=I;return X?typeof X._id=="string":!1},y=function(I){var X=I;return X&&X.asset?typeof X.asset.url=="string":!1};function m(M){if(!M)return null;var I;if(typeof M=="string"&&S(M))I={asset:{_ref:k(M)}};else if(typeof M=="string")I={asset:{_ref:M}};else if(d(M))I={asset:M};else if(g(M))I={asset:{_ref:M._id||""}};else if(y(M))I={asset:{_ref:k(M.asset.url)}};else if(typeof M.asset=="object")I=M;else return null;var X=M;return X.crop&&(I.crop=X.crop),X.hotspot&&(I.hotspot=X.hotspot),L(I)}function S(M){return/^https?:\/\//.test(""+M)}function k(M){var I=M.split("/").slice(-1);return("image-"+I[0]).replace(/\.([a-z]+)$/,"-$1")}function L(M){if(M.crop&&M.hotspot)return M;var I=r({},M);return I.crop||(I.crop={left:0,top:0,bottom:0,right:0}),I.hotspot||(I.hotspot={x:.5,y:.5,height:1,width:1}),I}var z=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function Y(M){var I=r({},M||{}),X=I.source;delete I.source;var W=m(X);if(!W)return null;var fe=W.asset._ref||W.asset._id||"",se=p(fe),$e=Math.round(W.crop.left*se.width),Ce=Math.round(W.crop.top*se.height),Ie={left:$e,top:Ce,width:Math.round(se.width-W.crop.right*se.width-$e),height:Math.round(se.height-W.crop.bottom*se.height-Ce)},Fe=W.hotspot.height*se.height/2,Ne=W.hotspot.width*se.width/2,Ue=W.hotspot.x*se.width,x=W.hotspot.y*se.height,U={left:Ue-Ne,top:x-Fe,right:Ue+Ne,bottom:x+Fe};return I.rect||I.focalPoint||I.ignoreImageParams||I.crop||(I=r(r({},I),T({crop:Ie,hotspot:U},I))),j(r(r({},I),{},{asset:se}))}function j(M){var I=M.baseUrl||"https://cdn.sanity.io",X=M.asset.id+"-"+M.asset.width+"x"+M.asset.height+"."+M.asset.format,W=I+"/images/"+M.projectId+"/"+M.dataset+"/"+X,fe=[];if(M.rect){var se=M.rect,$e=se.left,Ce=se.top,Ie=se.width,Fe=se.height,Ne=$e!==0||Ce!==0||Fe!==M.asset.height||Ie!==M.asset.width;Ne&&fe.push("rect="+$e+","+Ce+","+Ie+","+Fe)}M.bg&&fe.push("bg="+M.bg),M.focalPoint&&(fe.push("fp-x="+M.focalPoint.x),fe.push("fp-y="+M.focalPoint.y));var Ue=[M.flipHorizontal&&"h",M.flipVertical&&"v"].filter(Boolean).join("");return Ue&&fe.push("flip="+Ue),z.forEach(function(x){var U=x[0],Q=x[1];typeof M[U]!="undefined"?fe.push(Q+"="+encodeURIComponent(M[U])):typeof M[Q]!="undefined"&&fe.push(Q+"="+encodeURIComponent(M[Q]))}),fe.length===0?W:W+"?"+fe.join("&")}function T(M,I){var X,W=I.width,fe=I.height;if(!(W&&fe))return{width:W,height:fe,rect:M.crop};var se=M.crop,$e=M.hotspot,Ce=W/fe,Ie=se.width/se.height;if(Ie>Ce){var Fe=se.height,Ne=Fe*Ce,Ue=se.top,x=($e.right-$e.left)/2+$e.left,U=x-Ne/2;U<se.left?U=se.left:U+Ne>se.left+se.width&&(U=se.left+se.width-Ne),X={left:Math.round(U),top:Math.round(Ue),width:Math.round(Ne),height:Math.round(Fe)}}else{var Q=se.width,te=Q/Ce,J=se.left,G=($e.bottom-$e.top)/2+$e.top,re=G-te/2;re<se.top?re=se.top:re+te>se.top+se.height&&(re=se.top+se.height-te),X={left:Math.max(0,Math.floor(J)),top:Math.max(0,Math.floor(re)),width:Math.round(Q),height:Math.round(te)}}return{width:W,height:fe,rect:X}}var H=["clip","crop","fill","fillmax","max","scale","min"],R=["top","bottom","left","right","center","focalpoint","entropy"],F=["format"];function O(M){return M?typeof M.clientConfig=="object":!1}function P(M){for(var I=z,X=u(I),W;!(W=X()).done;){var fe=W.value,se=fe[0],$e=fe[1];if(M===se||M===$e)return se}return M}function ie(M){var I=M;if(O(I)){var X=I.clientConfig,W=X.apiHost,fe=X.projectId,se=X.dataset,$e=W||"https://api.sanity.io";return new ae(null,{baseUrl:$e.replace(/^https:\/\/api\./,"https://cdn."),projectId:fe,dataset:se})}return new ae(null,M)}var ae=function(){function M(X,W){this.options=X?r(r({},X.options||{}),W||{}):r({},W||{})}var I=M.prototype;return I.withOptions=function(W){var fe=W.baseUrl||this.options.baseUrl,se={baseUrl:fe};for(var $e in W)if(W.hasOwnProperty($e)){var Ce=P($e);se[Ce]=W[$e]}return new M(this,r({baseUrl:fe},se))},I.image=function(W){return this.withOptions({source:W})},I.dataset=function(W){return this.withOptions({dataset:W})},I.projectId=function(W){return this.withOptions({projectId:W})},I.bg=function(W){return this.withOptions({bg:W})},I.dpr=function(W){return this.withOptions({dpr:W})},I.width=function(W){return this.withOptions({width:W})},I.height=function(W){return this.withOptions({height:W})},I.focalPoint=function(W,fe){return this.withOptions({focalPoint:{x:W,y:fe}})},I.maxWidth=function(W){return this.withOptions({maxWidth:W})},I.minWidth=function(W){return this.withOptions({minWidth:W})},I.maxHeight=function(W){return this.withOptions({maxHeight:W})},I.minHeight=function(W){return this.withOptions({minHeight:W})},I.size=function(W,fe){return this.withOptions({width:W,height:fe})},I.blur=function(W){return this.withOptions({blur:W})},I.sharpen=function(W){return this.withOptions({sharpen:W})},I.rect=function(W,fe,se,$e){return this.withOptions({rect:{left:W,top:fe,width:se,height:$e}})},I.format=function(W){return this.withOptions({format:W})},I.invert=function(W){return this.withOptions({invert:W})},I.orientation=function(W){return this.withOptions({orientation:W})},I.quality=function(W){return this.withOptions({quality:W})},I.forceDownload=function(W){return this.withOptions({download:W})},I.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},I.flipVertical=function(){return this.withOptions({flipVertical:!0})},I.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},I.fit=function(W){if(H.indexOf(W)===-1)throw new Error('Invalid fit mode "'+W+'"');return this.withOptions({fit:W})},I.crop=function(W){if(R.indexOf(W)===-1)throw new Error('Invalid crop mode "'+W+'"');return this.withOptions({crop:W})},I.saturation=function(W){return this.withOptions({saturation:W})},I.auto=function(W){if(F.indexOf(W)===-1)throw new Error('Invalid auto mode "'+W+'"');return this.withOptions({auto:W})},I.pad=function(W){return this.withOptions({pad:W})},I.url=function(){return Y(this.options)},I.toString=function(){return this.url()},M}();return ie})})(imageUrl_umd$1);var generateHelpUrl=generateHelpUrl$1,urlBuilder=imageUrl_umd$1.exports,objectAssign$6=objectAssign$b,enc=encodeURIComponent,materializeError="You must either:\n  - Pass `projectId` and `dataset` to the block renderer\n  - Materialize images to include the `url` field.\n\nFor more information, see ".concat(generateHelpUrl("block-content-image-materializing")),getQueryString=function(e){var r=e.imageOptions,a=Object.keys(r);if(!a.length)return"";var s=a.map(function(u){return"".concat(enc(u),"=").concat(enc(r[u]))});return"?".concat(s.join("&"))},buildUrl=function(e){var r=e.node,a=e.options,s=a.projectId,u=a.dataset,c=r.asset;if(!c)throw new Error("Image does not have required `asset` property");if(c.url)return c.url+getQueryString(a);if(!s||!u)throw new Error(materializeError);var p=c._ref;if(!p)throw new Error("Invalid image reference in block, no `_ref` found on `asset`");return urlBuilder(objectAssign$6({projectId:s,dataset:u},a.imageOptions||{})).image(r).toString()},getImageUrl$2=buildUrl,defaultMarks=["strong","em","code","underline","strike-through"],buildMarksTree$1=function(e){var r=e.children,a=e.markDefs;if(!r||!r.length)return[];var s=r.map(sortMarksByOccurences),u={_type:"span",children:[]},c=[u];return r.forEach(function(p,d){var g=s[d];if(!g){var y=c[c.length-1];y.children.push(p);return}var m=1;if(c.length>1)for(m;m<c.length;m++){var S=c[m].markKey,k=g.indexOf(S);if(k===-1)break;g.splice(k,1)}c=c.slice(0,m);var L=findLastParentNode(c);if(g.forEach(function(j){var T={_type:"span",_key:p._key,children:[],mark:a.find(function(H){return H._key===j})||j,markKey:j};L.children.push(T),c.push(T),L=T}),isTextSpan(p)){for(var z=p.text.split(`
`),Y=z.length;Y-- >1;)z.splice(Y,0,`
`);L.children=L.children.concat(z)}else L.children=L.children.concat(p)}),u.children};function sortMarksByOccurences(n,e,r){if(!n.marks||n.marks.length===0)return n.marks||[];var a=n.marks.reduce(function(u,c){u[c]=u[c]?u[c]+1:1;for(var p=e+1;p<r.length;p++){var d=r[p];if(d.marks&&Array.isArray(d.marks)&&d.marks.indexOf(c)!==-1)u[c]++;else break}return u},{}),s=sortMarks.bind(null,a);return n.marks.slice().sort(s)}function sortMarks(n,e,r){var a=n[e]||0,s=n[r]||0;if(a!==s)return s-a;var u=defaultMarks.indexOf(e),c=defaultMarks.indexOf(r);return u!==c?u-c:e<r?-1:e>r?1:0}function isTextSpan(n){return n._type==="span"&&typeof n.text=="string"&&(Array.isArray(n.marks)||typeof n.marks=="undefined")}function findLastParentNode(n){for(var e=n.length-1;e>=0;e--){var r=n[e];if(r._type==="span"&&r.children)return r}}var buildMarksTree_1=buildMarksTree$1,objectAssign$5=objectAssign$b;function nestLists$1(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"html",r=[],a,s=0;s<n.length;s++){var u=n[s];if(!isListBlock(u)){r.push(u),a=null;continue}if(!a){a=listFromBlock(u),r.push(a);continue}if(blockMatchesList(u,a)){a.children.push(u);continue}if(u.level>a.level){var c=listFromBlock(u);if(e==="html"){var p=lastChild(a),d=objectAssign$5({},p,{children:p.children.concat(c)});a.children[a.children.length-1]=d}else a.children.push(c);a=c;continue}if(u.level<a.level){var g=findListMatching(r[r.length-1],u);if(g){a=g,a.children.push(u);continue}a=listFromBlock(u),r.push(a);continue}if(u.listItem!==a.listItem){var y=findListMatching(r[r.length-1],{level:u.level});if(y&&y.listItem===u.listItem){a=y,a.children.push(u);continue}else{a=listFromBlock(u),r.push(a);continue}}console.warn("Unknown state encountered for block",u),r.push(u)}return r}function isListBlock(n){return Boolean(n.listItem)}function blockMatchesList(n,e){return n.level===e.level&&n.listItem===e.listItem}function listFromBlock(n){return{_type:"list",_key:"".concat(n._key,"-parent"),level:n.level,listItem:n.listItem,children:[n]}}function lastChild(n){return n.children&&n.children[n.children.length-1]}function findListMatching(n,e){var r=typeof e.listItem=="string";if(n._type==="list"&&n.level===e.level&&r&&n.listItem===e.listItem)return n;var a=lastChild(n);return a?findListMatching(a,e):!1}var nestLists_1=nestLists$1,objectAssign$4=objectAssign$b,generateKeys$1=function(n){return n.map(function(e){return e._key?e:objectAssign$4({_key:getStaticKey(e)},e)})};function getStaticKey(n){return checksum(JSON.stringify(n)).toString(36).replace(/[^A-Za-z0-9]/g,"")}function checksum(n){var e=0,r=n.length;if(r===0)return e;for(var a=0;a<r;a++)e=(e<<5)-e+n.charCodeAt(a),e&=e;return e}function _typeof(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(r){return typeof r}:_typeof=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(n)}var objectAssign$3=objectAssign$b,isDefined$1=function(e){return typeof e!="undefined"},mergeSerializers$1=function(e,r){return Object.keys(e).reduce(function(a,s){var u=_typeof(e[s]);return u==="function"?a[s]=isDefined$1(r[s])?r[s]:e[s]:u==="object"?a[s]=objectAssign$3({},e[s],r[s]):a[s]=typeof r[s]=="undefined"?e[s]:r[s],a},{})},objectAssign$2=objectAssign$b,buildMarksTree=buildMarksTree_1,nestLists=nestLists_1,generateKeys=generateKeys$1,mergeSerializers=mergeSerializers$1,optionProps=["projectId","dataset","imageOptions","ignoreUnknownTypes"],isDefined=function(e){return typeof e!="undefined"},defaults={imageOptions:{},ignoreUnknownTypes:!0};function blocksToNodes$1(n,e,r,a){var s=objectAssign$2({},defaults,e),u=Array.isArray(s.blocks)?s.blocks:[s.blocks],c=generateKeys(u),p=nestLists(c,s.listNestMode),d=mergeSerializers(r,s.serializers||{}),g=optionProps.reduce(function(T,H){var R=s[H];return isDefined(R)&&(T[H]=R),T},{});function y(T,H,R,F){return isList(T)?L(T):isListItem(T)?k(T,m(T,R)):isSpan(T)?a(T,d,H,{serializeNode:y}):S(T,H,F)}function m(T,H){for(var R=0,F=0;F<H.length;F++){if(H[F]===T)return R;!isListItem(H[F])||R++}return R}function S(T,H,R){var F=buildMarksTree(T),O=F.map(function(ie,ae,M){return y(ie,ae,M,!0)}),P={key:T._key||"block-".concat(H),node:T,isInline:R,serializers:d,options:g};return n(d.block,P,O)}function k(T,H){var R=T._key,F=buildMarksTree(T),O=F.map(y);return n(d.listItem,{node:T,serializers:d,index:H,key:R,options:g},O)}function L(T){var H=T.listItem,R=T.level,F=T._key,O=T.children.map(y);return n(d.list,{key:F,level:R,type:H,options:g},O)}var z=Boolean(s.renderContainerOnSingleChild),Y=p.map(y);if(z||Y.length>1){var j=s.className?{className:s.className}:{};return n(d.container,j,Y)}return Y[0]?Y[0]:typeof d.empty=="function"?n(d.empty):d.empty}function isList(n){return n._type==="list"&&n.listItem}function isListItem(n){return n._type==="block"&&n.listItem}function isSpan(n){return typeof n=="string"||n.marks||n._type==="span"}var blocksToNodes_1=blocksToNodes$1,objectAssign$1=objectAssign$b,getImageUrl$1=getImageUrl$2,serializers$1=function(n,e){var r=e||{useDashedStyles:!1};function a(T){var H=T.node,R=T.serializers,F=T.options,O=T.isInline,P=T.children,ie=H._type,ae=R.types[ie];if(!ae){if(F.ignoreUnknownTypes)return console.warn('Unknown block type "'.concat(ie,'", please specify a serializer for it in the `serializers.types` prop')),n(R.unknownType,{node:H,options:F,isInline:O},P);throw new Error('Unknown block type "'.concat(ie,'", please specify a serializer for it in the `serializers.types` prop'))}return n(ae,{node:H,options:F,isInline:O},P)}function s(T){var H=T.node,R=H.mark,F=H.children,O=typeof R=="string",P=O?R:R._type,ie=T.serializers.marks[P];return ie?n(ie,T.node,F):(console.warn('Unknown mark type "'.concat(P,'", please specify a serializer for it in the `serializers.marks` prop')),n(T.serializers.unknownMark,null,F))}function u(T){var H=T.type==="bullet"?"ul":"ol";return n(H,null,T.children)}function c(T){var H=!T.node.style||T.node.style==="normal"?T.children:n(T.serializers.types.block,T,T.children);return n("li",null,H)}function p(T){return n("div",{style:{display:"none"}},'Unknown block type "'.concat(T.node._type,'", please specify a serializer for it in the `serializers.types` prop'))}function d(T){var H=T.node.style||"normal";return/^h\d/.test(H)?n(H,null,T.children):n(H==="blockquote"?"blockquote":"p",null,T.children)}function g(T,H){return n(T,null,H.children)}function y(T){var H=r.useDashedStyles?{"text-decoration":"underline"}:{textDecoration:"underline"};return n("span",{style:H},T.children)}function m(T){return n("del",null,T.children)}function S(T){return n("a",{href:T.mark.href},T.children)}function k(T){if(!T.node.asset)return null;var H=n("img",{src:getImageUrl$1(T)});return T.isInline?H:n("figure",null,H)}function L(T,H,R,F){if(T===`
`&&H.hardBreak)return n(H.hardBreak,{key:"hb-".concat(R)});if(typeof T=="string")return H.text?n(H.text,{key:"text-".concat(R)},T):T;var O;T.children&&(O={children:T.children.map(function(ie,ae){return F.serializeNode(ie,ae,T.children,!0)})});var P=objectAssign$1({},T,O);return n(H.span,{key:T._key||"span-".concat(R),node:P,serializers:H})}var z=function(){return n("br")},Y={strong:g.bind(null,"strong"),em:g.bind(null,"em"),code:g.bind(null,"code"),underline:y,"strike-through":m,link:S},j={types:{block:d,image:k},marks:Y,list:u,listItem:c,block:a,span:s,hardBreak:z,unknownType:p,unknownMark:"span",container:"div",text:void 0,empty:""};return{defaultSerializers:j,serializeSpan:L}},hyperscript=hyperscript$1.exports,objectAssign=objectAssign$b,getImageUrl=getImageUrl$2,blocksToNodes=blocksToNodes_1,getSerializers=serializers$1,renderNode=function(e,r,a){var s=r||{};if(typeof e=="function")return e(objectAssign({},s,{children:a}));var u=e,c=s.children||a;return hyperscript(u,s,c)},_getSerializers=getSerializers(renderNode,{useDashedStyles:!0}),defaultSerializers=_getSerializers.defaultSerializers,serializeSpan=_getSerializers.serializeSpan,blockContentToHyperscript=function(e){return blocksToNodes(renderNode,e,defaultSerializers,serializeSpan)};blockContentToHyperscript.defaultSerializers=defaultSerializers;blockContentToHyperscript.getImageUrl=getImageUrl;blockContentToHyperscript.renderNode=renderNode;var lib=blockContentToHyperscript,blocksToHyperScript=lib,h$1=blocksToHyperScript.renderNode,blocksToHtml=function(e){var r=blocksToHyperScript(e);return r.outerHTML||r};blocksToHtml.defaultSerializers=blocksToHyperScript.defaultSerializers;blocksToHtml.getImageUrl=blocksToHyperScript.getImageUrl;blocksToHtml.renderNode=h$1;blocksToHtml.h=h$1;var blocksToHtml_1=blocksToHtml,imageUrl_umd={exports:{}};(function(n,e){(function(r,a){n.exports=a()})(commonjsGlobal,function(){var r="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(O){var P=O.split("-"),ie=P[1],ae=P[2],M=P[3];if(!ie||!ae||!M)throw new Error("Malformed asset _ref '"+O+`'. Expected an id like "`+r+'".');var I=ae.split("x"),X=I[0],W=I[1],fe=+X,se=+W,$e=isFinite(fe)&&isFinite(se);if(!$e)throw new Error("Malformed asset _ref '"+O+`'. Expected an id like "`+r+'".');return{id:ie,width:fe,height:se,format:M}}var s=function(O){var P=O;return P?typeof P._ref=="string":!1},u=function(O){var P=O;return P?typeof P._id=="string":!1},c=function(O){var P=O;return P&&P.asset?typeof P.asset.url=="string":!1};function p(O){if(!O)return null;var P;if(typeof O=="string"&&d(O))P={asset:{_ref:g(O)}};else if(typeof O=="string")P={asset:{_ref:O}};else if(s(O))P={asset:O};else if(u(O))P={asset:{_ref:O._id||""}};else if(c(O))P={asset:{_ref:g(O.asset.url)}};else if(typeof O.asset=="object")P=O;else return null;var ie=O;return ie.crop&&(P.crop=ie.crop),ie.hotspot&&(P.hotspot=ie.hotspot),y(P)}function d(O){return/^https?:\/\//.test(""+O)}function g(O){var P=O.split("/").slice(-1);return("image-"+P[0]).replace(/\.([a-z]+)$/,"-$1")}function y(O){if(O.crop&&O.hotspot)return O;var P=Object.assign({},O);return P.crop||(P.crop={left:0,top:0,bottom:0,right:0}),P.hotspot||(P.hotspot={x:.5,y:.5,height:1,width:1}),P}var m=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function S(O){var P=Object.assign({},O||{}),ie=P.source;delete P.source;var ae=p(ie);if(!ae)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(ie)+")");var M=ae.asset._ref||ae.asset._id||"",I=a(M),X=Math.round(ae.crop.left*I.width),W=Math.round(ae.crop.top*I.height),fe={left:X,top:W,width:Math.round(I.width-ae.crop.right*I.width-X),height:Math.round(I.height-ae.crop.bottom*I.height-W)},se=ae.hotspot.height*I.height/2,$e=ae.hotspot.width*I.width/2,Ce=ae.hotspot.x*I.width,Ie=ae.hotspot.y*I.height,Fe={left:Ce-$e,top:Ie-se,right:Ce+$e,bottom:Ie+se};return P.rect||P.focalPoint||P.ignoreImageParams||P.crop||(P=Object.assign({},P,L({crop:fe,hotspot:Fe},P))),k(Object.assign({},P,{asset:I}))}function k(O){var P=O.baseUrl||"https://cdn.sanity.io",ie=O.asset.id+"-"+O.asset.width+"x"+O.asset.height+"."+O.asset.format,ae=P+"/images/"+O.projectId+"/"+O.dataset+"/"+ie,M=[];if(O.rect){var I=O.rect,X=I.left,W=I.top,fe=I.width,se=I.height,$e=X!==0||W!==0||se!==O.asset.height||fe!==O.asset.width;$e&&M.push("rect="+X+","+W+","+fe+","+se)}O.bg&&M.push("bg="+O.bg),O.focalPoint&&(M.push("fp-x="+O.focalPoint.x),M.push("fp-y="+O.focalPoint.y));var Ce=[O.flipHorizontal&&"h",O.flipVertical&&"v"].filter(Boolean).join("");return Ce&&M.push("flip="+Ce),m.forEach(function(Ie){var Fe=Ie[0],Ne=Ie[1];typeof O[Fe]!="undefined"?M.push(Ne+"="+encodeURIComponent(O[Fe])):typeof O[Ne]!="undefined"&&M.push(Ne+"="+encodeURIComponent(O[Ne]))}),M.length===0?ae:ae+"?"+M.join("&")}function L(O,P){var ie,ae=P.width,M=P.height;if(!(ae&&M))return{width:ae,height:M,rect:O.crop};var I=O.crop,X=O.hotspot,W=ae/M,fe=I.width/I.height;if(fe>W){var se=Math.round(I.height),$e=Math.round(se*W),Ce=Math.max(0,Math.round(I.top)),Ie=Math.round((X.right-X.left)/2+X.left),Fe=Math.max(0,Math.round(Ie-$e/2));Fe<I.left?Fe=I.left:Fe+$e>I.left+I.width&&(Fe=I.left+I.width-$e),ie={left:Fe,top:Ce,width:$e,height:se}}else{var Ne=I.width,Ue=Math.round(Ne/W),x=Math.max(0,Math.round(I.left)),U=Math.round((X.bottom-X.top)/2+X.top),Q=Math.max(0,Math.round(U-Ue/2));Q<I.top?Q=I.top:Q+Ue>I.top+I.height&&(Q=I.top+I.height-Ue),ie={left:x,top:Q,width:Ne,height:Ue}}return{width:ae,height:M,rect:ie}}var z=["clip","crop","fill","fillmax","max","scale","min"],Y=["top","bottom","left","right","center","focalpoint","entropy"],j=["format"];function T(O){return O?typeof O.clientConfig=="object":!1}function H(O){for(var P=m,ie=0,ae=P;ie<ae.length;ie+=1){var M=ae[ie],I=M[0],X=M[1];if(O===I||O===X)return I}return O}function R(O){var P=O;if(T(P)){var ie=P.clientConfig,ae=ie.apiHost,M=ie.projectId,I=ie.dataset,X=ae||"https://api.sanity.io";return new F(null,{baseUrl:X.replace(/^https:\/\/api\./,"https://cdn."),projectId:M,dataset:I})}return new F(null,O)}var F=function(P,ie){this.options=P?Object.assign({},P.options||{},ie||{}):Object.assign({},ie||{})};return F.prototype.withOptions=function(P){var ie=P.baseUrl||this.options.baseUrl,ae={baseUrl:ie};for(var M in P)if(P.hasOwnProperty(M)){var I=H(M);ae[I]=P[M]}return new F(this,Object.assign({},{baseUrl:ie},ae))},F.prototype.image=function(P){return this.withOptions({source:P})},F.prototype.dataset=function(P){return this.withOptions({dataset:P})},F.prototype.projectId=function(P){return this.withOptions({projectId:P})},F.prototype.bg=function(P){return this.withOptions({bg:P})},F.prototype.dpr=function(P){return this.withOptions(P&&P!==1?{dpr:P}:{})},F.prototype.width=function(P){return this.withOptions({width:P})},F.prototype.height=function(P){return this.withOptions({height:P})},F.prototype.focalPoint=function(P,ie){return this.withOptions({focalPoint:{x:P,y:ie}})},F.prototype.maxWidth=function(P){return this.withOptions({maxWidth:P})},F.prototype.minWidth=function(P){return this.withOptions({minWidth:P})},F.prototype.maxHeight=function(P){return this.withOptions({maxHeight:P})},F.prototype.minHeight=function(P){return this.withOptions({minHeight:P})},F.prototype.size=function(P,ie){return this.withOptions({width:P,height:ie})},F.prototype.blur=function(P){return this.withOptions({blur:P})},F.prototype.sharpen=function(P){return this.withOptions({sharpen:P})},F.prototype.rect=function(P,ie,ae,M){return this.withOptions({rect:{left:P,top:ie,width:ae,height:M}})},F.prototype.format=function(P){return this.withOptions({format:P})},F.prototype.invert=function(P){return this.withOptions({invert:P})},F.prototype.orientation=function(P){return this.withOptions({orientation:P})},F.prototype.quality=function(P){return this.withOptions({quality:P})},F.prototype.forceDownload=function(P){return this.withOptions({download:P})},F.prototype.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},F.prototype.flipVertical=function(){return this.withOptions({flipVertical:!0})},F.prototype.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},F.prototype.fit=function(P){if(z.indexOf(P)===-1)throw new Error('Invalid fit mode "'+P+'"');return this.withOptions({fit:P})},F.prototype.crop=function(P){if(Y.indexOf(P)===-1)throw new Error('Invalid crop mode "'+P+'"');return this.withOptions({crop:P})},F.prototype.saturation=function(P){return this.withOptions({saturation:P})},F.prototype.auto=function(P){if(j.indexOf(P)===-1)throw new Error('Invalid auto mode "'+P+'"');return this.withOptions({auto:P})},F.prototype.pad=function(P){return this.withOptions({pad:P})},F.prototype.url=function(){return S(this.options)},F.prototype.toString=function(){return this.url()},R})})(imageUrl_umd);var imageUrlBuilder=imageUrl_umd.exports;/*! get-video-id v3.6.4 | @license MIT © Michael Wuergler | https://github.com/radiovisual/get-video-id */function stripParameters(n){return n.includes("?")&&(n=n.split("?")[0]),n.includes("/")&&(n=n.split("/")[0]),n.includes("&")&&(n=n.split("&")[0]),n}function youtube(n){var e=n;e=e.replace(/#t=.*$/,""),e=e.replace(/^https?:\/\//,"");var r=/youtube:\/\/|youtu\.be\/|y2u\.be\//g;if(r.test(e)){var a=e.split(r)[1];return stripParameters(a)}var s=/\/shorts\//g;if(s.test(e))return stripParameters(e.split(s)[1]);var u=/v=|vi=/g;if(u.test(e)){var c=e.split(u);return stripParameters(c[1].split("&")[0])}var p=/\/v\/|\/vi\/|\/watch\//g;if(p.test(e)){var d=e.split(p)[1];return stripParameters(d)}var g=/\/an_webp\//g;if(g.test(e)){var y=e.split(g)[1];return stripParameters(y)}var m=/\/e\//g;if(m.test(e)){var S=e.split(m)[1];return stripParameters(S)}var k=/\/embed\//g;if(k.test(e)){var L=e.split(k)[1];return stripParameters(L)}var z=/\/user\/([a-zA-Z\d]*)$/g;if(!z.test(e)){var Y=/\/user\/(?!.*videos)/g;if(Y.test(e)){var j=e.split("/");return stripParameters(j.pop())}var T=/\/attribution_link\?.*v%3D([^%&]*)(%26|&|$)/;if(T.test(e))return stripParameters(e.match(T)[1])}}function _slicedToArray(n,e){return _arrayWithHoles(n)||_iterableToArrayLimit(n,e)||_unsupportedIterableToArray(n,e)||_nonIterableRest()}function _arrayWithHoles(n){if(Array.isArray(n))return n}function _iterableToArrayLimit(n,e){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a=[],s=!0,u=!1,c,p;try{for(r=r.call(n);!(s=(c=r.next()).done)&&(a.push(c.value),!(e&&a.length===e));s=!0);}catch(d){u=!0,p=d}finally{try{!s&&r.return!=null&&r.return()}finally{if(u)throw p}}return a}}function _unsupportedIterableToArray(n,e){if(!!n){if(typeof n=="string")return _arrayLikeToArray(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(n,e)}}function _arrayLikeToArray(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=n[r];return a}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vimeo(n){var e=n;if(e.includes("#")){var r=e.split("#"),a=_slicedToArray(r,1);e=a[0]}if(e.includes("?")&&!e.includes("clip_id=")){var s=e.split("?"),u=_slicedToArray(s,1);e=u[0]}var c,p,d=/https?:\/\/vimeo\.com\/event\/(\d+)$/,g=d.exec(e);if(g&&g[1])return g[1];var y=/https?:\/\/vimeo\.com\/(\d+)/,m=y.exec(e);if(m&&m[1])return m[1];var S=["https?://player.vimeo.com/video/[0-9]+$","https?://vimeo.com/channels","groups","album"].join("|"),k=new RegExp(S,"gim");if(k.test(e))p=e.split("/"),p&&p.length>0&&(c=p.pop());else if(/clip_id=/gim.test(e)&&(p=e.split("clip_id="),p&&p.length>0)){var L=p[1].split("&"),z=_slicedToArray(L,1);c=z[0]}return c}function vine(n){var e=/https:\/\/vine\.co\/v\/([a-zA-Z\d]*)\/?/,r=e.exec(n);if(r&&r.length>1)return r[1]}function videopress(n){var e;if(n.includes("embed"))return e=/embed\/(\w{8})/,n.match(e)[1];e=/\/v\/(\w{8})/;var r=n.match(e);if(r&&r.length>0)return r[1]}function microsoftStream(n){var e=n.includes("embed")?/https:\/\/web\.microsoftstream\.com\/embed\/video\/([a-zA-Z\d-]*)\/?/:/https:\/\/web\.microsoftstream\.com\/video\/([a-zA-Z\d-]*)\/?/,r=e.exec(n);if(r&&r.length>1)return r[1]}function tiktok(n){var e=/tiktok\.com(.*)\/video\/(\d+)/gm,r=e.exec(n);if(r&&r.length>2)return r[2]}function dailymotion(n){var e=/dailymotion\.com(.*)(video)\/([a-zA-Z\d]+)/gm,r=e.exec(n);if(r)return r[3];var a=/dai\.ly\/([a-zA-Z\d]+)/gm,s=a.exec(n);if(s&&s.length>1)return s[1];var u=/dailymotion\.com(.*)video=([a-zA-Z\d]+)/gm,c=u.exec(n);if(c&&c.length>2)return c[2]}function getSrc(n){if(typeof n!="string")throw new TypeError("getSrc expected a string");var e=/src="(.*?)"/gm,r=e.exec(n);if(r&&r.length>=2)return r[1]}function getVideoId(n){if(typeof n!="string")throw new TypeError("get-video-id expects a string");var e=n;/<iframe/gi.test(e)&&(e=getSrc(e)),e=e.trim(),e=e.replace("-nocookie",""),e=e.replace("/www.","/");var r={id:null,service:null};if(/\/\/google/.test(e)){var a=e.match(/url=([^&]+)&/);a&&(e=decodeURIComponent(a[1]))}return/youtube|youtu\.be|y2u\.be|i.ytimg\./.test(e)?r={id:youtube(e),service:"youtube"}:/vimeo/.test(e)?r={id:vimeo(e),service:"vimeo"}:/vine/.test(e)?r={id:vine(e),service:"vine"}:/videopress/.test(e)?r={id:videopress(e),service:"videopress"}:/microsoftstream/.test(e)?r={id:microsoftStream(e),service:"microsoftstream"}:/tiktok\.com/.test(e)?r={id:tiktok(e),service:"tiktok"}:/(dailymotion\.com|dai\.ly)/.test(e)&&(r={id:dailymotion(e),service:"dailymotion"}),r}var castPath=_castPath,toKey=_toKey;function baseGet$1(n,e){e=castPath(e,n);for(var r=0,a=e.length;n!=null&&r<a;)n=n[toKey(e[r++])];return r&&r==a?n:void 0}var _baseGet=baseGet$1,baseGet=_baseGet;function get(n,e,r){var a=n==null?void 0:baseGet(n,e);return a===void 0?r:a}var get_1=get;function toInteger(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function requiredArgs(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function toDate(n){requiredArgs(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function addMilliseconds(n,e){requiredArgs(2,arguments);var r=toDate(n).getTime(),a=toInteger(e);return new Date(r+a)}function getTimezoneOffsetInMilliseconds(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}var millisecondsInMinute=6e4,millisecondsInHour=36e5;function isDate(n){return requiredArgs(1,arguments),n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function isValid(n){if(requiredArgs(1,arguments),!isDate(n)&&typeof n!="number")return!1;var e=toDate(n);return!isNaN(Number(e))}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(n,e,r){var a,s=formatDistanceLocale[n];return typeof s=="string"?a=s:e===1?a=s.one:a=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a},formatDistance$1=formatDistance;function buildFormatLongFn(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):n.defaultWidth,a=n.formats[r]||n.formats[n.defaultWidth];return a}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(n,e,r,a){return formatRelativeLocale[n]},formatRelative$1=formatRelative;function buildLocalizeFn(n){return function(e,r){var a=r||{},s=a.context?String(a.context):"standalone",u;if(s==="formatting"&&n.formattingValues){var c=n.defaultFormattingWidth||n.defaultWidth,p=a.width?String(a.width):c;u=n.formattingValues[p]||n.formattingValues[c]}else{var d=n.defaultWidth,g=a.width?String(a.width):n.defaultWidth;u=n.values[g]||n.values[d]}var y=n.argumentCallback?n.argumentCallback(e):e;return u[y]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(n,e){var r=Number(n),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize;function buildMatchFn(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.width,s=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],u=e.match(s);if(!u)return null;var c=u[0],p=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(p)?findIndex(p,function(m){return m.test(c)}):findKey(p,function(m){return m.test(c)}),g;g=n.valueCallback?n.valueCallback(d):d,g=r.valueCallback?r.valueCallback(g):g;var y=e.slice(c.length);return{value:g,rest:y}}}function findKey(n,e){for(var r in n)if(n.hasOwnProperty(r)&&e(n[r]))return r}function findIndex(n,e){for(var r=0;r<n.length;r++)if(e(n[r]))return r}function buildMatchPatternFn(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.match(n.matchPattern);if(!a)return null;var s=a[0],u=e.match(n.parsePattern);if(!u)return null;var c=n.valueCallback?n.valueCallback(u[0]):u[0];c=r.valueCallback?r.valueCallback(c):c;var p=e.slice(s.length);return{value:c,rest:p}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(n){return parseInt(n,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$1=match,locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale;function subMilliseconds(n,e){requiredArgs(2,arguments);var r=toInteger(e);return addMilliseconds(n,-r)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(n){requiredArgs(1,arguments);var e=toDate(n),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var a=e.getTime(),s=r-a;return Math.floor(s/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(n){requiredArgs(1,arguments);var e=1,r=toDate(n),a=r.getUTCDay(),s=(a<e?7:0)+a-e;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function getUTCISOWeekYear(n){requiredArgs(1,arguments);var e=toDate(n),r=e.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(r+1,0,4),a.setUTCHours(0,0,0,0);var s=startOfUTCISOWeek(a),u=new Date(0);u.setUTCFullYear(r,0,4),u.setUTCHours(0,0,0,0);var c=startOfUTCISOWeek(u);return e.getTime()>=s.getTime()?r+1:e.getTime()>=c.getTime()?r:r-1}function startOfUTCISOWeekYear(n){requiredArgs(1,arguments);var e=getUTCISOWeekYear(n),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var a=startOfUTCISOWeek(r);return a}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(n){requiredArgs(1,arguments);var e=toDate(n),r=startOfUTCISOWeek(e).getTime()-startOfUTCISOWeekYear(e).getTime();return Math.round(r/MILLISECONDS_IN_WEEK$1)+1}function startOfUTCWeek(n,e){requiredArgs(1,arguments);var r=e||{},a=r.locale,s=a&&a.options&&a.options.weekStartsOn,u=s==null?0:toInteger(s),c=r.weekStartsOn==null?u:toInteger(r.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=toDate(n),d=p.getUTCDay(),g=(d<c?7:0)+d-c;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function getUTCWeekYear(n,e){requiredArgs(1,arguments);var r=toDate(n),a=r.getUTCFullYear(),s=e||{},u=s.locale,c=u&&u.options&&u.options.firstWeekContainsDate,p=c==null?1:toInteger(c),d=s.firstWeekContainsDate==null?p:toInteger(s.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(a+1,0,d),g.setUTCHours(0,0,0,0);var y=startOfUTCWeek(g,e),m=new Date(0);m.setUTCFullYear(a,0,d),m.setUTCHours(0,0,0,0);var S=startOfUTCWeek(m,e);return r.getTime()>=y.getTime()?a+1:r.getTime()>=S.getTime()?a:a-1}function startOfUTCWeekYear(n,e){requiredArgs(1,arguments);var r=e||{},a=r.locale,s=a&&a.options&&a.options.firstWeekContainsDate,u=s==null?1:toInteger(s),c=r.firstWeekContainsDate==null?u:toInteger(r.firstWeekContainsDate),p=getUTCWeekYear(n,e),d=new Date(0);d.setUTCFullYear(p,0,c),d.setUTCHours(0,0,0,0);var g=startOfUTCWeek(d,e);return g}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(n,e){requiredArgs(1,arguments);var r=toDate(n),a=startOfUTCWeek(r,e).getTime()-startOfUTCWeekYear(r,e).getTime();return Math.round(a/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(n,e){for(var r=n<0?"-":"",a=Math.abs(n).toString();a.length<e;)a="0"+a;return r+a}var formatters$2={y:function(n,e){var r=n.getUTCFullYear(),a=r>0?r:1-r;return addLeadingZeros(e==="yy"?a%100:a,e.length)},M:function(n,e){var r=n.getUTCMonth();return e==="M"?String(r+1):addLeadingZeros(r+1,2)},d:function(n,e){return addLeadingZeros(n.getUTCDate(),e.length)},a:function(n,e){var r=n.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(n,e){return addLeadingZeros(n.getUTCHours()%12||12,e.length)},H:function(n,e){return addLeadingZeros(n.getUTCHours(),e.length)},m:function(n,e){return addLeadingZeros(n.getUTCMinutes(),e.length)},s:function(n,e){return addLeadingZeros(n.getUTCSeconds(),e.length)},S:function(n,e){var r=e.length,a=n.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,r-3));return addLeadingZeros(s,e.length)}},formatters$3=formatters$2,dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(n,e,r){var a=n.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(n,e,r){if(e==="yo"){var a=n.getUTCFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return formatters$3.y(n,e)},Y:function(n,e,r,a){var s=getUTCWeekYear(n,a),u=s>0?s:1-s;if(e==="YY"){var c=u%100;return addLeadingZeros(c,2)}return e==="Yo"?r.ordinalNumber(u,{unit:"year"}):addLeadingZeros(u,e.length)},R:function(n,e){var r=getUTCISOWeekYear(n);return addLeadingZeros(r,e.length)},u:function(n,e){var r=n.getUTCFullYear();return addLeadingZeros(r,e.length)},Q:function(n,e,r){var a=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return addLeadingZeros(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,e,r){var a=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return addLeadingZeros(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,e,r){var a=n.getUTCMonth();switch(e){case"M":case"MM":return formatters$3.M(n,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(n,e,r){var a=n.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return addLeadingZeros(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(n,e,r,a){var s=getUTCWeek(n,a);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):addLeadingZeros(s,e.length)},I:function(n,e,r){var a=getUTCISOWeek(n);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):addLeadingZeros(a,e.length)},d:function(n,e,r){return e==="do"?r.ordinalNumber(n.getUTCDate(),{unit:"date"}):formatters$3.d(n,e)},D:function(n,e,r){var a=getUTCDayOfYear(n);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):addLeadingZeros(a,e.length)},E:function(n,e,r){var a=n.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(n,e,r,a){var s=n.getUTCDay(),u=(s-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return addLeadingZeros(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,r,a){var s=n.getUTCDay(),u=(s-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return addLeadingZeros(u,e.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,r){var a=n.getUTCDay(),s=a===0?7:a;switch(e){case"i":return String(s);case"ii":return addLeadingZeros(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(n,e,r){var a=n.getUTCHours(),s=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,r){var a=n.getUTCHours(),s;switch(a===12?s=dayPeriodEnum.noon:a===0?s=dayPeriodEnum.midnight:s=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,r){var a=n.getUTCHours(),s;switch(a>=17?s=dayPeriodEnum.evening:a>=12?s=dayPeriodEnum.afternoon:a>=4?s=dayPeriodEnum.morning:s=dayPeriodEnum.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,r){if(e==="ho"){var a=n.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return formatters$3.h(n,e)},H:function(n,e,r){return e==="Ho"?r.ordinalNumber(n.getUTCHours(),{unit:"hour"}):formatters$3.H(n,e)},K:function(n,e,r){var a=n.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):addLeadingZeros(a,e.length)},k:function(n,e,r){var a=n.getUTCHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):addLeadingZeros(a,e.length)},m:function(n,e,r){return e==="mo"?r.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):formatters$3.m(n,e)},s:function(n,e,r){return e==="so"?r.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):formatters$3.s(n,e)},S:function(n,e){return formatters$3.S(n,e)},X:function(n,e,r,a){var s=a._originalDate||n,u=s.getTimezoneOffset();if(u===0)return"Z";switch(e){case"X":return formatTimezoneWithOptionalMinutes(u);case"XXXX":case"XX":return formatTimezone(u);case"XXXXX":case"XXX":default:return formatTimezone(u,":")}},x:function(n,e,r,a){var s=a._originalDate||n,u=s.getTimezoneOffset();switch(e){case"x":return formatTimezoneWithOptionalMinutes(u);case"xxxx":case"xx":return formatTimezone(u);case"xxxxx":case"xxx":default:return formatTimezone(u,":")}},O:function(n,e,r,a){var s=a._originalDate||n,u=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(u,":");case"OOOO":default:return"GMT"+formatTimezone(u,":")}},z:function(n,e,r,a){var s=a._originalDate||n,u=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(u,":");case"zzzz":default:return"GMT"+formatTimezone(u,":")}},t:function(n,e,r,a){var s=a._originalDate||n,u=Math.floor(s.getTime()/1e3);return addLeadingZeros(u,e.length)},T:function(n,e,r,a){var s=a._originalDate||n,u=s.getTime();return addLeadingZeros(u,e.length)}};function formatTimezoneShort(n,e){var r=n>0?"-":"+",a=Math.abs(n),s=Math.floor(a/60),u=a%60;if(u===0)return r+String(s);var c=e||"";return r+String(s)+c+addLeadingZeros(u,2)}function formatTimezoneWithOptionalMinutes(n,e){if(n%60===0){var r=n>0?"-":"+";return r+addLeadingZeros(Math.abs(n)/60,2)}return formatTimezone(n,e)}function formatTimezone(n,e){var r=e||"",a=n>0?"-":"+",s=Math.abs(n),u=addLeadingZeros(Math.floor(s/60),2),c=addLeadingZeros(s%60,2);return a+u+r+c}var formatters$1=formatters;function dateLongFormatter(n,e){switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function timeLongFormatter(n,e){switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function dateTimeLongFormatter(n,e){var r=n.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return dateLongFormatter(n,e);var u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",dateLongFormatter(a,e)).replace("{{time}}",timeLongFormatter(s,e))}var longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},longFormatters$1=longFormatters,protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(n){return protectedDayOfYearTokens.indexOf(n)!==-1}function isProtectedWeekYearToken(n){return protectedWeekYearTokens.indexOf(n)!==-1}function throwProtectedError(n,e,r){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(n,e,r){requiredArgs(2,arguments);var a=String(e),s=r||{},u=s.locale||defaultLocale,c=u.options&&u.options.firstWeekContainsDate,p=c==null?1:toInteger(c),d=s.firstWeekContainsDate==null?p:toInteger(s.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=u.options&&u.options.weekStartsOn,y=g==null?0:toInteger(g),m=s.weekStartsOn==null?y:toInteger(s.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var S=toDate(n);if(!isValid(S))throw new RangeError("Invalid time value");var k=getTimezoneOffsetInMilliseconds(S),L=subMilliseconds(S,k),z={firstWeekContainsDate:d,weekStartsOn:m,locale:u,_originalDate:S},Y=a.match(longFormattingTokensRegExp).map(function(j){var T=j[0];if(T==="p"||T==="P"){var H=longFormatters$1[T];return H(j,u.formatLong,z)}return j}).join("").match(formattingTokensRegExp).map(function(j){if(j==="''")return"'";var T=j[0];if(T==="'")return cleanEscapedString(j);var H=formatters$1[T];if(H)return!s.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(j)&&throwProtectedError(j,e,n),!s.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(j)&&throwProtectedError(j,e,n),H(L,j,u.localize,z);if(T.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return j}).join("");return Y}function cleanEscapedString(n){return n.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function isFuture(n){return requiredArgs(1,arguments),toDate(n).getTime()>Date.now()}function parseISO(n,e){requiredArgs(1,arguments);var r=e||{},a=r.additionalDigits==null?2:toInteger(r.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var s=splitDateString(n),u;if(s.date){var c=parseYear(s.date,a);u=parseDate(c.restDateString,c.year)}if(!u||isNaN(u.getTime()))return new Date(NaN);var p=u.getTime(),d=0,g;if(s.time&&(d=parseTime(s.time),isNaN(d)))return new Date(NaN);if(s.timezone){if(g=parseTimezone(s.timezone),isNaN(g))return new Date(NaN)}else{var y=new Date(p+d),m=new Date(0);return m.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),m.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),m}return new Date(p+d+g)}var patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(n){var e={},r=n.split(patterns.dateTimeDelimiter),a;if(r.length>2)return e;if(/:/.test(r[0])?a=r[0]:(e.date=r[0],a=r[1],patterns.timeZoneDelimiter.test(e.date)&&(e.date=n.split(patterns.timeZoneDelimiter)[0],a=n.substr(e.date.length,n.length))),a){var s=patterns.timezone.exec(a);s?(e.time=a.replace(s[1],""),e.timezone=s[1]):e.time=a}return e}function parseYear(n,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=n.match(r);if(!a)return{year:NaN,restDateString:""};var s=a[1]?parseInt(a[1]):null,u=a[2]?parseInt(a[2]):null;return{year:u===null?s:u*100,restDateString:n.slice((a[1]||a[2]).length)}}function parseDate(n,e){if(e===null)return new Date(NaN);var r=n.match(dateRegex);if(!r)return new Date(NaN);var a=!!r[4],s=parseDateUnit(r[1]),u=parseDateUnit(r[2])-1,c=parseDateUnit(r[3]),p=parseDateUnit(r[4]),d=parseDateUnit(r[5])-1;if(a)return validateWeekDate(e,p,d)?dayOfISOWeekYear(e,p,d):new Date(NaN);var g=new Date(0);return!validateDate(e,u,c)||!validateDayOfYearDate(e,s)?new Date(NaN):(g.setUTCFullYear(e,u,Math.max(s,c)),g)}function parseDateUnit(n){return n?parseInt(n):1}function parseTime(n){var e=n.match(timeRegex);if(!e)return NaN;var r=parseTimeUnit(e[1]),a=parseTimeUnit(e[2]),s=parseTimeUnit(e[3]);return validateTime(r,a,s)?r*millisecondsInHour+a*millisecondsInMinute+s*1e3:NaN}function parseTimeUnit(n){return n&&parseFloat(n.replace(",","."))||0}function parseTimezone(n){if(n==="Z")return 0;var e=n.match(timezoneRegex);if(!e)return 0;var r=e[1]==="+"?-1:1,a=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return validateTimezone(a,s)?r*(a*millisecondsInHour+s*millisecondsInMinute):NaN}function dayOfISOWeekYear(n,e,r){var a=new Date(0);a.setUTCFullYear(n,0,4);var s=a.getUTCDay()||7,u=(e-1)*7+r+1-s;return a.setUTCDate(a.getUTCDate()+u),a}var daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(n){return n%400===0||n%4===0&&n%100!==0}function validateDate(n,e,r){return e>=0&&e<=11&&r>=1&&r<=(daysInMonths[e]||(isLeapYearIndex(n)?29:28))}function validateDayOfYearDate(n,e){return e>=1&&e<=(isLeapYearIndex(n)?366:365)}function validateWeekDate(n,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function validateTime(n,e,r){return n===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&n>=0&&n<25}function validateTimezone(n,e){return e>=0&&e<=59}const SANITY_PROJECT_ID="58ueii0w",infoLogger=(...n)=>{console.info(...n)},errorLogger=(...n)=>{console.error(...n)},nanoid=(n=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(n));for(;n--;){let a=63&r[n];e+=a<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a<63?"_":"-"}return e},getRandomInt=(n,e)=>Math.floor(Math.random()*(Math.floor(e)-Math.ceil(n)+1))+Math.ceil(n),longFormatDate=n=>{try{if(n)return format(parseISO(n),"MMMM d, yyyy")}catch(e){console.dir(e)}},dateTimeFormat=n=>{try{if(n)return format(parseISO(n),"MMMM d, yyyy, HH:mm")}catch(e){console.dir(e)}},isUpcoming=n=>isFuture(parseISO(n)),client=sanityClient({projectId:SANITY_PROJECT_ID,dataset:"production",apiVersion:"2021-10-05",token:"",useCdn:!1}),h=blocksToHtml_1.h,prepareTextElements=n=>{let e=[];return has_1(n,"node.caption.content")&&e.push(h("figcaption",{className:"caption"},toPlainText(n.node.caption.content))),has_1(n,"node.attribution")&&e.push(h("figcaption",{className:"credits"},n.node.attribution)),e},renderBlockText=n=>blocksToHtml_1({blocks:n,serializers,projectId:SANITY_PROJECT_ID,dataset:"production"}),toPlainText=(n=[])=>n.map(e=>e._type!=="block"||!e.children?"":e.children.map(r=>r.text).join("")).join(`

`),builder=imageUrlBuilder(client),urlFor=n=>builder.image(n),serializers={marks:{link:n=>{let r=get_1(n,"mark.href","").includes("http")?{target:"_blank",rel:"noreferrer",href:n.mark.href}:{href:n.mark.href};return h("a",r,n.children)},highlight:n=>h("mark",{className:"highlight"},n.children),footnote:n=>h("a",{id:"link-"+n.mark._key,className:"footnote-link",href:"#note-"+n.mark._key},n.children)},types:{block:n=>{const e=n.node.style||"normal";return e==="blockquote"?h("blockquote",{},n.children):e==="h2"?h("h2",{},n.children):e==="h3"?h("h3",{},n.children):e==="h4"?h("h4",{},n.children):h("p",{className:e},n.children)},image:n=>h("figure",{className:"image"},[h("img",{src:urlFor(get_1(n,"node.asset","")).width(800).quality(90).auto("format").url()}),...prepareTextElements(n)]),embedBlock:n=>{if(get_1(n,"node.url","").includes("youtube"))return h("figure",{className:"youtube"},[h("div",{className:"embed-container"},h("iframe",{width:"720",height:"480",src:"https://www.youtube.com/embed/"+getVideoId(n.node.url).id,frameborder:"no",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),...prepareTextElements(n)]);if(get_1(n,"node.url","").includes("vimeo"))return h("figure",{className:"vimeo"},[h("div",{className:"embed-container"},h("iframe",{width:"720",height:"480",src:"https://player.vimeo.com/video/"+getVideoId(n.node.url).id,frameborder:"no",byline:!1,color:"#ffffff",allow:"autoplay; fullscreen",allowfullscreen:!0})),...prepareTextElements(n)]);if(get_1(n,"node.url","").includes("soundcloud"))return h("figure",{className:"soundcloud"},[h("div",{className:"soundcloud-container"},h("iframe",{width:"100%",height:"300",src:"https://w.soundcloud.com/player/?url="+get_1(n,"node.url","")+"&color=%23fffff",frameborder:"no",scrolling:"no",allow:"autoplay"})),...prepareTextElements(n)])},videoBlock:n=>{const e="https://shape.anthropocene-curriculum.org/material/files/"+SANITY_PROJECT_ID+"/production/"+get_1(n,"node.videoFile.asset._ref","").replace("file-","").replace("-mp4",".mp4");return h("figure",{className:"video"},[h("video",{src:e,controls:!0,loop:!0,autoplay:get_1(n,"node.autoPlay","")}),...prepareTextElements(n)])},audioBlock:n=>{const e="https://shape.anthropocene-curriculum.org/material/files/"+SANITY_PROJECT_ID+"/production/"+get_1(n,"node.audioFile.asset._ref","").replace("file-","").replace("-mp3",".mp3");return h("figure",{className:"audio"},[h("audio",{src:e,controls:!0}),...prepareTextElements(n)])}}},loadData=async(n,e)=>{try{const r=await client.fetch(n,e);return r===null?Promise.reject(new Error(404)):r}catch{return Promise.reject(new Error(404))}},mainSiteClient=sanityClient({projectId:"3knpqano",dataset:"production",apiVersion:"2021-10-05",useCdn:!1}),loadDataFromMainSite=async(n,e)=>{try{const r=await mainSiteClient.fetch(n,e);return r===null?Promise.reject(new Error(404)):r}catch{return Promise.reject(new Error(404))}},mainSitebuilder=imageUrlBuilder(mainSiteClient),urlForMainSite=n=>mainSitebuilder.image(n),renderBlockTextFromMainSite=n=>blocksToHtml_1({blocks:n,serializers,projectId:"3knpqano",dataset:"production"});var slugify$1={exports:{}};(function(n,e){(function(r,a,s){n.exports=s(),n.exports.default=s()})("slugify",commonjsGlobal,function(){var r=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),a=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function s(u,c){if(typeof u!="string")throw new Error("slugify: string argument expected");c=typeof c=="string"?{replacement:c}:c||{};var p=a[c.locale]||{},d=c.replacement===void 0?"-":c.replacement,g=c.trim===void 0?!0:c.trim,y=u.normalize().split("").reduce(function(m,S){var k=p[S]||r[S]||S;return k===d&&(k=" "),m+k.replace(c.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return c.strict&&(y=y.replace(/[^A-Za-z0-9\s]/g,"")),g&&(y=y.trim()),y=y.replace(/\s+/g,d),c.lower&&(y=y.toLowerCase()),y}return s.extend=function(u){Object.assign(r,u)},s})})(slugify$1);var slugify=slugify$1.exports,personLink_svelte_svelte_type_style_lang=(()=>`a.svelte-zgjpki{color:#221f20;background:#dedcd5;text-decoration:none;margin-bottom:3px;display:inline-block}
`)();function create_if_block$9(n){let e,r=(n[1]?n[2](n[1]):n[0].title)+"",a;return{c(){e=element("a"),this.h()},l(s){e=claim_element(s,"A",{href:!0,class:!0});var u=children(e);u.forEach(detach),this.h()},h(){attr(e,"href",a="/people/"+get_1(n[0],"slug.current")),attr(e,"class","svelte-zgjpki")},m(s,u){insert_hydration(s,e,u),e.innerHTML=r},p(s,u){u&3&&r!==(r=(s[1]?s[2](s[1]):s[0].title)+"")&&(e.innerHTML=r),u&1&&a!==(a="/people/"+get_1(s[0],"slug.current"))&&attr(e,"href",a)},d(s){s&&detach(e)}}}function create_fragment$j(n){let e,r=n[0]&&create_if_block$9(n);return{c(){r&&r.c(),e=empty()},l(a){r&&r.l(a),e=empty()},m(a,s){r&&r.m(a,s),insert_hydration(a,e,s)},p(a,[s]){a[0]?r?r.p(a,s):(r=create_if_block$9(a),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:noop$1,o:noop$1,d(a){r&&r.d(a),a&&detach(e)}}}function instance$e(n,e,r){let{person:a=!1}=e,{overrideText:s=!1}=e,{personId:u=!1}=e;const c=p=>p.replace(/(?:\r\n|\r|\n)/g,"<br>");return u&&loadDataFromMainSite('*[_id == "'+u+'"][0]').then(p=>{r(0,a=p)}),n.$$set=p=>{"person"in p&&r(0,a=p.person),"overrideText"in p&&r(1,s=p.overrideText),"personId"in p&&r(3,u=p.personId)},[a,s,c,u]}class Person_link extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$e,create_fragment$j,safe_not_equal,{person:0,overrideText:1,personId:3})}}var externalLink_svelte_svelte_type_style_lang=(()=>`svg.svelte-18gy7aj.svelte-18gy7aj{margin-left:4px}svg.svelte-18gy7aj path.svelte-18gy7aj{fill:#221f20}
`)();function create_fragment$i(n){let e,r;return{c(){e=svg_element("svg"),r=svg_element("path"),this.h()},l(a){e=claim_svg_element(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var s=children(e);r=claim_svg_element(s,"path",{d:!0,class:!0}),children(r).forEach(detach),s.forEach(detach),this.h()},h(){attr(r,"d","M3.9378 1.68763V2.81271H1.12509V9.00068H7.31305V6.18797H8.43814V9.56322C8.43814 9.72074 8.38376 9.85387 8.275 9.96263C8.16624 10.0714 8.03311 10.1258 7.8756 10.1258H0.562543C0.40503 10.1258 0.271896 10.0714 0.163137 9.96263C0.0543785 9.85387 0 9.72074 0 9.56322V2.25017C0 2.09266 0.0543785 1.95952 0.163137 1.85077C0.271896 1.74201 0.40503 1.68763 0.562543 1.68763H3.9378ZM10.1258 0V4.50034H9.00068V1.9239L4.61285 6.30048L3.82529 5.51292L8.20187 1.12509H5.62543V0H10.1258Z"),attr(r,"class","svelte-18gy7aj"),attr(e,"width","11"),attr(e,"height","11"),attr(e,"viewBox","0 0 11 11"),attr(e,"fill","none"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","svelte-18gy7aj")},m(a,s){insert_hydration(a,e,s),append_hydration(e,r)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e)}}}class External_link extends SvelteComponent{constructor(e){super(),init$1(this,e,null,create_fragment$i,safe_not_equal,{})}}function get_each_context_2(n,e,r){const a=n.slice();return a[6]=e[r],a}function get_each_context_1(n,e,r){const a=n.slice();return a[6]=e[r],a}function get_each_context$2(n,e,r){const a=n.slice();return a[6]=e[r],a}function create_if_block$8(n){let e,r,a,s;const u=[create_if_block_1$5,create_if_block_3$2,create_else_block_1$1],c=[];function p(d,g){return d[0].style=="h2"?0:d[0].style=="h3"?1:2}return e=p(n),r=c[e]=u[e](n),{c(){r.c(),a=empty()},l(d){r.l(d),a=empty()},m(d,g){c[e].m(d,g),insert_hydration(d,a,g),s=!0},p(d,g){let y=e;e=p(d),e===y?c[e].p(d,g):(group_outros(),transition_out(c[y],1,1,()=>{c[y]=null}),check_outros(),r=c[e],r?r.p(d,g):(r=c[e]=u[e](d),r.c()),transition_in(r,1),r.m(a.parentNode,a))},i(d){s||(transition_in(r),s=!0)},o(d){transition_out(r),s=!1},d(d){c[e].d(d),d&&detach(a)}}}function create_else_block_1$1(n){let e,r,a=n[0].children,s=[];for(let c=0;c<a.length;c+=1)s[c]=create_each_block_2(get_each_context_2(n,a,c));const u=c=>transition_out(s[c],1,1,()=>{s[c]=null});return{c(){e=element("p");for(let c=0;c<s.length;c+=1)s[c].c()},l(c){e=claim_element(c,"P",{});var p=children(e);for(let d=0;d<s.length;d+=1)s[d].l(p);p.forEach(detach)},m(c,p){insert_hydration(c,e,p);for(let d=0;d<s.length;d+=1)s[d].m(e,null);r=!0},p(c,p){if(p&3){a=c[0].children;let d;for(d=0;d<a.length;d+=1){const g=get_each_context_2(c,a,d);s[d]?(s[d].p(g,p),transition_in(s[d],1)):(s[d]=create_each_block_2(g),s[d].c(),transition_in(s[d],1),s[d].m(e,null))}for(group_outros(),d=a.length;d<s.length;d+=1)u(d);check_outros()}},i(c){if(!r){for(let p=0;p<a.length;p+=1)transition_in(s[p]);r=!0}},o(c){s=s.filter(Boolean);for(let p=0;p<s.length;p+=1)transition_out(s[p]);r=!1},d(c){c&&detach(e),destroy_each(s,c)}}}function create_if_block_3$2(n){let e,r=n[0].children,a=[];for(let s=0;s<r.length;s+=1)a[s]=create_each_block_1(get_each_context_1(n,r,s));return{c(){e=element("h3");for(let s=0;s<a.length;s+=1)a[s].c()},l(s){e=claim_element(s,"H3",{});var u=children(e);for(let c=0;c<a.length;c+=1)a[c].l(u);u.forEach(detach)},m(s,u){insert_hydration(s,e,u);for(let c=0;c<a.length;c+=1)a[c].m(e,null)},p(s,u){if(u&1){r=s[0].children;let c;for(c=0;c<r.length;c+=1){const p=get_each_context_1(s,r,c);a[c]?a[c].p(p,u):(a[c]=create_each_block_1(p),a[c].c(),a[c].m(e,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=r.length}},i:noop$1,o:noop$1,d(s){s&&detach(e),destroy_each(a,s)}}}function create_if_block_1$5(n){let e,r,a=n[0].children,s=[];for(let u=0;u<a.length;u+=1)s[u]=create_each_block$2(get_each_context$2(n,a,u));return{c(){e=element("h2");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){e=claim_element(u,"H2",{id:!0});var c=children(e);for(let p=0;p<s.length;p+=1)s[p].l(c);c.forEach(detach),this.h()},h(){attr(e,"id",r=slugify(n[0].children[0].text,{lower:!0}))},m(u,c){insert_hydration(u,e,c);for(let p=0;p<s.length;p+=1)s[p].m(e,null)},p(u,c){if(c&1){a=u[0].children;let p;for(p=0;p<a.length;p+=1){const d=get_each_context$2(u,a,p);s[p]?s[p].p(d,c):(s[p]=create_each_block$2(d),s[p].c(),s[p].m(e,null))}for(;p<s.length;p+=1)s[p].d(1);s.length=a.length}c&1&&r!==(r=slugify(u[0].children[0].text,{lower:!0}))&&attr(e,"id",r)},i:noop$1,o:noop$1,d(u){u&&detach(e),destroy_each(s,u)}}}function create_else_block_2(n){let e=n[0].markDefs.find(p)._type==="link",r,a=n[0].markDefs.find(c)._type==="person",s,u;function c(...y){return n[2](n[6],...y)}function p(...y){return n[3](n[6],...y)}let d=e&&create_if_block_8$1(n),g=a&&create_if_block_7$1(n);return{c(){d&&d.c(),r=space(),g&&g.c(),s=empty()},l(y){d&&d.l(y),r=claim_space(y),g&&g.l(y),s=empty()},m(y,m){d&&d.m(y,m),insert_hydration(y,r,m),g&&g.m(y,m),insert_hydration(y,s,m),u=!0},p(y,m){n=y,m&1&&(e=n[0].markDefs.find(p)._type==="link"),e?d?(d.p(n,m),m&1&&transition_in(d,1)):(d=create_if_block_8$1(n),d.c(),transition_in(d,1),d.m(r.parentNode,r)):d&&(group_outros(),transition_out(d,1,1,()=>{d=null}),check_outros()),m&1&&(a=n[0].markDefs.find(c)._type==="person"),a?g?(g.p(n,m),m&1&&transition_in(g,1)):(g=create_if_block_7$1(n),g.c(),transition_in(g,1),g.m(s.parentNode,s)):g&&(group_outros(),transition_out(g,1,1,()=>{g=null}),check_outros())},i(y){u||(transition_in(d),transition_in(g),u=!0)},o(y){transition_out(d),transition_out(g),u=!1},d(y){d&&d.d(y),y&&detach(r),g&&g.d(y),y&&detach(s)}}}function create_if_block_6$1(n){let e,r=n[1](n[6].text)+"";return{c(){e=element("strong")},l(a){e=claim_element(a,"STRONG",{});var s=children(e);s.forEach(detach)},m(a,s){insert_hydration(a,e,s),e.innerHTML=r},p(a,s){s&1&&r!==(r=a[1](a[6].text)+"")&&(e.innerHTML=r)},i:noop$1,o:noop$1,d(a){a&&detach(e)}}}function create_if_block_5$1(n){let e,r=n[1](n[6].text)+"";return{c(){e=element("em")},l(a){e=claim_element(a,"EM",{});var s=children(e);s.forEach(detach)},m(a,s){insert_hydration(a,e,s),e.innerHTML=r},p(a,s){s&1&&r!==(r=a[1](a[6].text)+"")&&(e.innerHTML=r)},i:noop$1,o:noop$1,d(a){a&&detach(e)}}}function create_if_block_4$2(n){let e,r=n[1](n[6].text)+"",a;return{c(){e=new HtmlTagHydration(!1),a=empty(),this.h()},l(s){e=claim_html_tag(s,!1),a=empty(),this.h()},h(){e.a=a},m(s,u){e.m(r,s,u),insert_hydration(s,a,u)},p(s,u){u&1&&r!==(r=s[1](s[6].text)+"")&&e.p(r)},i:noop$1,o:noop$1,d(s){s&&detach(a),s&&e.d()}}}function create_if_block_8$1(n){let e,r,a=n[1](n[6].text)+"",s,u,c,p;u=new External_link({});function d(...g){return n[4](n[6],...g)}return{c(){e=element("a"),r=new HtmlTagHydration(!1),s=space(),create_component(u.$$.fragment),this.h()},l(g){e=claim_element(g,"A",{href:!0});var y=children(e);r=claim_html_tag(y,!1),s=claim_space(y),claim_component(u.$$.fragment,y),y.forEach(detach),this.h()},h(){r.a=s,attr(e,"href",c=n[0].markDefs.find(d).href)},m(g,y){insert_hydration(g,e,y),r.m(a,e),append_hydration(e,s),mount_component(u,e,null),p=!0},p(g,y){n=g,(!p||y&1)&&a!==(a=n[1](n[6].text)+"")&&r.p(a),(!p||y&1&&c!==(c=n[0].markDefs.find(d).href))&&attr(e,"href",c)},i(g){p||(transition_in(u.$$.fragment,g),p=!0)},o(g){transition_out(u.$$.fragment,g),p=!1},d(g){g&&detach(e),destroy_component(u)}}}function create_if_block_7$1(n){let e,r;function a(...s){return n[5](n[6],...s)}return e=new Person_link({props:{overrideText:n[6].text,personId:n[0].markDefs.find(a).link._ref}}),{c(){create_component(e.$$.fragment)},l(s){claim_component(e.$$.fragment,s)},m(s,u){mount_component(e,s,u),r=!0},p(s,u){n=s;const c={};u&1&&(c.overrideText=n[6].text),u&1&&(c.personId=n[0].markDefs.find(a).link._ref),e.$set(c)},i(s){r||(transition_in(e.$$.fragment,s),r=!0)},o(s){transition_out(e.$$.fragment,s),r=!1},d(s){destroy_component(e,s)}}}function create_each_block_2(n){let e,r,a,s,u,c;const p=[create_if_block_4$2,create_if_block_5$1,create_if_block_6$1,create_else_block_2],d=[];function g(y,m){return m&1&&(e=null),m&1&&(r=null),!y[6].marks||y[6].marks.length===0?0:(e==null&&(e=!!y[6].marks.includes("em")),e?1:(r==null&&(r=!!y[6].marks.includes("strong")),r?2:3))}return a=g(n,-1),s=d[a]=p[a](n),{c(){s.c(),u=empty()},l(y){s.l(y),u=empty()},m(y,m){d[a].m(y,m),insert_hydration(y,u,m),c=!0},p(y,m){let S=a;a=g(y,m),a===S?d[a].p(y,m):(group_outros(),transition_out(d[S],1,1,()=>{d[S]=null}),check_outros(),s=d[a],s?s.p(y,m):(s=d[a]=p[a](y),s.c()),transition_in(s,1),s.m(u.parentNode,u))},i(y){c||(transition_in(s),c=!0)},o(y){transition_out(s),c=!1},d(y){d[a].d(y),y&&detach(u)}}}function create_each_block_1(n){let e=n[6].text+"",r;return{c(){r=text(e)},l(a){r=claim_text(a,e)},m(a,s){insert_hydration(a,r,s)},p(a,s){s&1&&e!==(e=a[6].text+"")&&set_data(r,e)},d(a){a&&detach(r)}}}function create_else_block$3(n){let e,r=n[6].text+"",a;return{c(){e=element("strong"),a=text(r)},l(s){e=claim_element(s,"STRONG",{});var u=children(e);a=claim_text(u,r),u.forEach(detach)},m(s,u){insert_hydration(s,e,u),append_hydration(e,a)},p(s,u){u&1&&r!==(r=s[6].text+"")&&set_data(a,r)},d(s){s&&detach(e)}}}function create_if_block_2$4(n){let e=n[6].text+"",r;return{c(){r=text(e)},l(a){r=claim_text(a,e)},m(a,s){insert_hydration(a,r,s)},p(a,s){s&1&&e!==(e=a[6].text+"")&&set_data(r,e)},d(a){a&&detach(r)}}}function create_each_block$2(n){let e;function r(u,c){return!u[6].marks||u[6].marks.length===0?create_if_block_2$4:create_else_block$3}let a=r(n),s=a(n);return{c(){s.c(),e=empty()},l(u){s.l(u),e=empty()},m(u,c){s.m(u,c),insert_hydration(u,e,c)},p(u,c){a===(a=r(u))&&s?s.p(u,c):(s.d(1),s=a(u),s&&(s.c(),s.m(e.parentNode,e)))},d(u){s.d(u),u&&detach(e)}}}function create_fragment$h(n){let e,r,a=n[0].children&&n[0].children.length>0&&create_if_block$8(n);return{c(){a&&a.c(),e=empty()},l(s){a&&a.l(s),e=empty()},m(s,u){a&&a.m(s,u),insert_hydration(s,e,u),r=!0},p(s,[u]){s[0].children&&s[0].children.length>0?a?(a.p(s,u),u&1&&transition_in(a,1)):(a=create_if_block$8(s),a.c(),transition_in(a,1),a.m(e.parentNode,e)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(s){r||(transition_in(a),r=!0)},o(s){transition_out(a),r=!1},d(s){a&&a.d(s),s&&detach(e)}}}function instance$d(n,e,r){let{b:a={}}=e;const s=g=>g.replace(/(?:\r\n|\r|\n)/g,"<br>"),u=(g,y)=>y._key===g.marks[0],c=(g,y)=>y._key===g.marks[0],p=(g,y)=>y._key===g.marks[0],d=(g,y)=>y._key===g.marks[0];return n.$$set=g=>{"b"in g&&r(0,a=g.b)},[a,s,u,c,p,d]}class Text extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$d,create_fragment$h,safe_not_equal,{b:0})}}var image_svelte_svelte_type_style_lang=(()=>`figure.svelte-1bbn2f1.svelte-1bbn2f1{margin-left:20px;margin-right:20px;border:1px solid #221f20;float:left;max-width:50%}figure.right.svelte-1bbn2f1.svelte-1bbn2f1{float:right;max-width:50%}figure.full.svelte-1bbn2f1.svelte-1bbn2f1{float:unset;margin-left:0;margin-right:0;margin-top:0;border:unset;max-width:unset;width:100%}figure.full.svelte-1bbn2f1 img.svelte-1bbn2f1{display:block;margin-left:auto;margin-right:auto}figure.full.svelte-1bbn2f1 figcaption.svelte-1bbn2f1{padding:20px;border-top:1px solid #221f20;border-bottom:1px solid #221f20}figure.cover.svelte-1bbn2f1.svelte-1bbn2f1{float:unset}figure.cover.svelte-1bbn2f1 img.svelte-1bbn2f1{width:100%;height:600px;object-fit:cover;object-position:center}@media (max-width: 800px){figure.cover.svelte-1bbn2f1 img.svelte-1bbn2f1{height:300px}}figure.cover.svelte-1bbn2f1 figcaption.svelte-1bbn2f1{padding:20px;border-top:1px solid #221f20;border-bottom:1px solid #221f20}@media (max-width: 800px){figure.cover.svelte-1bbn2f1 figcaption.svelte-1bbn2f1{padding-left:0;padding-right:0}}.article figcaption p{margin-bottom:0;margin-left:0;margin-right:0}
`)();function create_if_block$7(n){let e,r,a;return r=new Blocks({props:{blocks:n[0].caption.content}}),{c(){e=element("figcaption"),create_component(r.$$.fragment),this.h()},l(s){e=claim_element(s,"FIGCAPTION",{class:!0});var u=children(e);claim_component(r.$$.fragment,u),u.forEach(detach),this.h()},h(){attr(e,"class","svelte-1bbn2f1")},m(s,u){insert_hydration(s,e,u),mount_component(r,e,null),a=!0},p(s,u){const c={};u&1&&(c.blocks=s[0].caption.content),r.$set(c)},i(s){a||(transition_in(r.$$.fragment,s),a=!0)},o(s){transition_out(r.$$.fragment,s),a=!1},d(s){s&&detach(e),destroy_component(r)}}}function create_fragment$g(n){let e,r,a,s,u,c=has_1(n[0],"caption.content"),p,d=c&&create_if_block$7(n);return{c(){e=element("figure"),r=element("img"),u=space(),d&&d.c(),this.h()},l(g){e=claim_element(g,"FIGURE",{class:!0});var y=children(e);r=claim_element(y,"IMG",{src:!0,alt:!0,class:!0}),u=claim_space(y),d&&d.l(y),y.forEach(detach),this.h()},h(){src_url_equal(r.src,a=urlFor(n[0].asset).quality(90).width(1e3).url())||attr(r,"src",a),attr(r,"alt",s=n[0].alt?n[0].alt:""),attr(r,"class","svelte-1bbn2f1"),attr(e,"class","svelte-1bbn2f1"),toggle_class(e,"left",n[0].layout=="left"),toggle_class(e,"right",n[0].layout=="right"),toggle_class(e,"full",n[0].fullWidth),toggle_class(e,"cover",n[0].coverAndCrop)},m(g,y){insert_hydration(g,e,y),append_hydration(e,r),append_hydration(e,u),d&&d.m(e,null),p=!0},p(g,[y]){(!p||y&1&&!src_url_equal(r.src,a=urlFor(g[0].asset).quality(90).width(1e3).url()))&&attr(r,"src",a),(!p||y&1&&s!==(s=g[0].alt?g[0].alt:""))&&attr(r,"alt",s),y&1&&(c=has_1(g[0],"caption.content")),c?d?(d.p(g,y),y&1&&transition_in(d,1)):(d=create_if_block$7(g),d.c(),transition_in(d,1),d.m(e,null)):d&&(group_outros(),transition_out(d,1,1,()=>{d=null}),check_outros()),y&1&&toggle_class(e,"left",g[0].layout=="left"),y&1&&toggle_class(e,"right",g[0].layout=="right"),y&1&&toggle_class(e,"full",g[0].fullWidth),y&1&&toggle_class(e,"cover",g[0].coverAndCrop)},i(g){p||(transition_in(d),p=!0)},o(g){transition_out(d),p=!1},d(g){g&&detach(e),d&&d.d()}}}function instance$c(n,e,r){let{b:a={}}=e;return n.$$set=s=>{"b"in s&&r(0,a=s.b)},[a]}class Image extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$c,create_fragment$g,safe_not_equal,{b:0})}}var imageFromMainSite_svelte_svelte_type_style_lang=(()=>`figure.svelte-1bbn2f1.svelte-1bbn2f1{margin-left:20px;margin-right:20px;border:1px solid #221f20;float:left;max-width:50%}figure.right.svelte-1bbn2f1.svelte-1bbn2f1{float:right;max-width:50%}figure.full.svelte-1bbn2f1.svelte-1bbn2f1{float:unset;margin-left:0;margin-right:0;margin-top:0;border:unset;max-width:unset;width:100%}figure.full.svelte-1bbn2f1 img.svelte-1bbn2f1{display:block;margin-left:auto;margin-right:auto}figure.full.svelte-1bbn2f1 figcaption.svelte-1bbn2f1{padding:20px;border-top:1px solid #221f20;border-bottom:1px solid #221f20}figure.cover.svelte-1bbn2f1.svelte-1bbn2f1{float:unset}figure.cover.svelte-1bbn2f1 img.svelte-1bbn2f1{width:100%;height:600px;object-fit:cover;object-position:center}@media (max-width: 800px){figure.cover.svelte-1bbn2f1 img.svelte-1bbn2f1{height:300px}}figure.cover.svelte-1bbn2f1 figcaption.svelte-1bbn2f1{padding:20px;border-top:1px solid #221f20;border-bottom:1px solid #221f20}@media (max-width: 800px){figure.cover.svelte-1bbn2f1 figcaption.svelte-1bbn2f1{padding-left:0;padding-right:0}}.article figcaption p{margin-bottom:0;margin-left:0;margin-right:0}
`)();function create_if_block$6(n){let e,r,a;return r=new Blocks({props:{blocks:n[0].caption.content}}),{c(){e=element("figcaption"),create_component(r.$$.fragment),this.h()},l(s){e=claim_element(s,"FIGCAPTION",{class:!0});var u=children(e);claim_component(r.$$.fragment,u),u.forEach(detach),this.h()},h(){attr(e,"class","svelte-1bbn2f1")},m(s,u){insert_hydration(s,e,u),mount_component(r,e,null),a=!0},p(s,u){const c={};u&1&&(c.blocks=s[0].caption.content),r.$set(c)},i(s){a||(transition_in(r.$$.fragment,s),a=!0)},o(s){transition_out(r.$$.fragment,s),a=!1},d(s){s&&detach(e),destroy_component(r)}}}function create_fragment$f(n){let e,r,a,s,u,c=has_1(n[0],"caption.content"),p,d=c&&create_if_block$6(n);return{c(){e=element("figure"),r=element("img"),u=space(),d&&d.c(),this.h()},l(g){e=claim_element(g,"FIGURE",{class:!0});var y=children(e);r=claim_element(y,"IMG",{src:!0,alt:!0,class:!0}),u=claim_space(y),d&&d.l(y),y.forEach(detach),this.h()},h(){src_url_equal(r.src,a=urlForMainSite(n[0].asset).quality(90).width(1e3).url())||attr(r,"src",a),attr(r,"alt",s=n[0].alt?n[0].alt:""),attr(r,"class","svelte-1bbn2f1"),attr(e,"class","svelte-1bbn2f1"),toggle_class(e,"left",n[0].layout=="left"),toggle_class(e,"right",n[0].layout=="right"),toggle_class(e,"full",n[0].fullWidth),toggle_class(e,"cover",n[0].coverAndCrop)},m(g,y){insert_hydration(g,e,y),append_hydration(e,r),append_hydration(e,u),d&&d.m(e,null),p=!0},p(g,[y]){(!p||y&1&&!src_url_equal(r.src,a=urlForMainSite(g[0].asset).quality(90).width(1e3).url()))&&attr(r,"src",a),(!p||y&1&&s!==(s=g[0].alt?g[0].alt:""))&&attr(r,"alt",s),y&1&&(c=has_1(g[0],"caption.content")),c?d?(d.p(g,y),y&1&&transition_in(d,1)):(d=create_if_block$6(g),d.c(),transition_in(d,1),d.m(e,null)):d&&(group_outros(),transition_out(d,1,1,()=>{d=null}),check_outros()),y&1&&toggle_class(e,"left",g[0].layout=="left"),y&1&&toggle_class(e,"right",g[0].layout=="right"),y&1&&toggle_class(e,"full",g[0].fullWidth),y&1&&toggle_class(e,"cover",g[0].coverAndCrop)},i(g){p||(transition_in(d),p=!0)},o(g){transition_out(d),p=!1},d(g){g&&detach(e),d&&d.d()}}}function instance$b(n,e,r){let{b:a={}}=e;return n.$$set=s=>{"b"in s&&r(0,a=s.b)},[a]}class ImageFromMainSite extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$b,create_fragment$f,safe_not_equal,{b:0})}}var invertedBlock_svelte_svelte_type_style_lang=(()=>`.inverted-block.svelte-g37r8{width:100%;background:#221f20;padding:40px;color:#f5f4ee}
`)();function create_fragment$e(n){let e,r,a;return r=new Text({props:{b:n[0]}}),{c(){e=element("div"),create_component(r.$$.fragment),this.h()},l(s){e=claim_element(s,"DIV",{class:!0});var u=children(e);claim_component(r.$$.fragment,u),u.forEach(detach),this.h()},h(){attr(e,"class","inverted-block svelte-g37r8")},m(s,u){insert_hydration(s,e,u),mount_component(r,e,null),a=!0},p(s,[u]){const c={};u&1&&(c.b=s[0]),r.$set(c)},i(s){a||(transition_in(r.$$.fragment,s),a=!0)},o(s){transition_out(r.$$.fragment,s),a=!1},d(s){s&&detach(e),destroy_component(r)}}}function instance$a(n,e,r){let{b:a={}}=e;return n.$$set=s=>{"b"in s&&r(0,a=s.b)},[a]}class InvertedBlock extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$a,create_fragment$e,safe_not_equal,{b:0})}}var blockBeam_svelte_svelte_type_style_lang=(()=>`svg.svelte-12vsv5 path.svelte-12vsv5{fill:none;stroke:#221f20;stroke-width:2.5px;stroke-miterlimit:10}
`)();function create_fragment$d(n){let e,r;return{c(){e=svg_element("svg"),r=svg_element("path"),this.h()},l(a){e=claim_svg_element(a,"svg",{version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,x:!0,y:!0,viewBox:!0,style:!0,"xml:space":!0,class:!0});var s=children(e);r=claim_svg_element(s,"path",{class:!0,d:!0}),children(r).forEach(detach),s.forEach(detach),this.h()},h(){attr(r,"class","st0 svelte-12vsv5"),attr(r,"d",`M323.1,136.7l-121.6,21.4 M316.2,109.3l-116,42.2 M304.3,83.3l-106.9,61.6 M287.8,60.7L193.2,140 M269.1,41
		l-79.3,94.4 M245.5,24.3L183.8,131 M219.2,12L177,127.9 M192.5,4.4l-21.4,121.4 M325,165.7H201.5 M2.4,136.7l121.6,21.4 M9.3,109.3
		l116,42.2 M21.2,83.3l106.9,61.6 M37.7,60.7l94.6,79.2 M56.4,41l79.3,94.4 M80,24.3L141.7,131 M106.3,12l42.2,115.8 M133,4.4
		l21.4,121.4 M161.9,1.8l0,123.3 M0.5,165.7H124`),attr(e,"version","1.1"),attr(e,"id","Layer_1"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),attr(e,"x","0px"),attr(e,"y","0px"),attr(e,"viewBox","0 0 326.4 167.6"),set_style(e,"enable-background","new 0 0 326.4 167.6"),attr(e,"xml:space","preserve"),attr(e,"class","svelte-12vsv5")},m(a,s){insert_hydration(a,e,s),append_hydration(e,r)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e)}}}class Block_beam extends SvelteComponent{constructor(e){super(),init$1(this,e,null,create_fragment$d,safe_not_equal,{})}}var logoBlock_svelte_svelte_type_style_lang=(()=>`.logo-block.svelte-1y9hgkm.svelte-1y9hgkm{margin-left:20px;margin-right:20px;margin-bottom:20px;width:calc(100% - 40px);border-bottom:1px solid #221f20;font-size:16px}.logo-block.svelte-1y9hgkm .top-row.svelte-1y9hgkm{display:flex}.logo-block.svelte-1y9hgkm .top-row .beam.svelte-1y9hgkm{width:160px;position:relative;top:0;left:1px;padding:0;line-height:0;display:inline-block}.logo-block.svelte-1y9hgkm .top-row .line.svelte-1y9hgkm{border-bottom:1px solid #221f20;width:100%}.logo-block.svelte-1y9hgkm .logoblock-text.svelte-1y9hgkm{padding-top:40px;padding-bottom:40px}.article .logoblock-text p{padding-left:0;padding-right:0;margin-top:0;margin-bottom:0}
`)();function create_fragment$c(n){let e,r,a,s,u,c,p,d,g,y;return s=new Block_beam({}),g=new Text({props:{b:n[0]}}),{c(){e=element("div"),r=element("div"),a=element("div"),create_component(s.$$.fragment),u=space(),c=element("div"),p=space(),d=element("div"),create_component(g.$$.fragment),this.h()},l(m){e=claim_element(m,"DIV",{class:!0});var S=children(e);r=claim_element(S,"DIV",{class:!0});var k=children(r);a=claim_element(k,"DIV",{class:!0});var L=children(a);claim_component(s.$$.fragment,L),L.forEach(detach),u=claim_space(k),c=claim_element(k,"DIV",{class:!0}),children(c).forEach(detach),k.forEach(detach),p=claim_space(S),d=claim_element(S,"DIV",{class:!0});var z=children(d);claim_component(g.$$.fragment,z),z.forEach(detach),S.forEach(detach),this.h()},h(){attr(a,"class","beam svelte-1y9hgkm"),attr(c,"class","line svelte-1y9hgkm"),attr(r,"class","top-row svelte-1y9hgkm"),attr(d,"class","logoblock-text svelte-1y9hgkm"),attr(e,"class","logo-block svelte-1y9hgkm")},m(m,S){insert_hydration(m,e,S),append_hydration(e,r),append_hydration(r,a),mount_component(s,a,null),append_hydration(r,u),append_hydration(r,c),append_hydration(e,p),append_hydration(e,d),mount_component(g,d,null),y=!0},p(m,[S]){const k={};S&1&&(k.b=m[0]),g.$set(k)},i(m){y||(transition_in(s.$$.fragment,m),transition_in(g.$$.fragment,m),y=!0)},o(m){transition_out(s.$$.fragment,m),transition_out(g.$$.fragment,m),y=!1},d(m){m&&detach(e),destroy_component(s),destroy_component(g)}}}function instance$9(n,e,r){let{b:a={}}=e;return n.$$set=s=>{"b"in s&&r(0,a=s.b)},[a]}class LogoBlock extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$9,create_fragment$c,safe_not_equal,{b:0})}}var embed_svelte_svelte_type_style_lang=(()=>`.embed.svelte-23luwt.svelte-23luwt{color:#f5f4ee;margin-bottom:20px;cursor:pointer;display:flex;justify-content:center;align-items:center;padding-bottom:20px;padding-top:20px;width:100%}.embed.svelte-23luwt .inner.svelte-23luwt{width:720px}@media (max-width: 800px){.embed.svelte-23luwt .inner.svelte-23luwt{width:480px}}.embed.svelte-23luwt .inner iframe.svelte-23luwt{width:100%}.embed.full .inner.svelte-23luwt iframe.svelte-23luwt{height:100vh}
`)();function create_if_block_2$3(n){let e,r;return{c(){e=element("iframe"),this.h()},l(a){e=claim_element(a,"IFRAME",{width:!0,height:!0,src:!0,frameborder:!0,allow:!0,class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"width","720"),attr(e,"height","480"),src_url_equal(e.src,r="https://www.youtube.com/embed/"+getVideoId(n[0].url).id)||attr(e,"src",r),attr(e,"frameborder","0"),attr(e,"allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),e.allowFullscreen=!0,attr(e,"class","svelte-23luwt")},m(a,s){insert_hydration(a,e,s)},p(a,s){s&1&&!src_url_equal(e.src,r="https://www.youtube.com/embed/"+getVideoId(a[0].url).id)&&attr(e,"src",r)},d(a){a&&detach(e)}}}function create_if_block_1$4(n){let e,r;return{c(){e=element("iframe"),this.h()},l(a){e=claim_element(a,"IFRAME",{width:!0,height:!0,src:!0,frameborder:!0,byline:!0,color:!0,allow:!0,class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"width","720"),attr(e,"height","480"),src_url_equal(e.src,r="https://player.vimeo.com/video/"+getVideoId(n[0].url).id)||attr(e,"src",r),attr(e,"frameborder","0"),attr(e,"byline","false"),attr(e,"color","#ffffff"),attr(e,"allow","autoplay; fullscreen"),e.allowFullscreen=!0,attr(e,"class","svelte-23luwt")},m(a,s){insert_hydration(a,e,s)},p(a,s){s&1&&!src_url_equal(e.src,r="https://player.vimeo.com/video/"+getVideoId(a[0].url).id)&&attr(e,"src",r)},d(a){a&&detach(e)}}}function create_if_block$5(n){let e,r,a;return r=new Blocks({props:{blocks:n[0].caption.content}}),{c(){e=element("figcaption"),create_component(r.$$.fragment)},l(s){e=claim_element(s,"FIGCAPTION",{});var u=children(e);claim_component(r.$$.fragment,u),u.forEach(detach)},m(s,u){insert_hydration(s,e,u),mount_component(r,e,null),a=!0},p(s,u){const c={};u&1&&(c.blocks=s[0].caption.content),r.$set(c)},i(s){a||(transition_in(r.$$.fragment,s),a=!0)},o(s){transition_out(r.$$.fragment,s),a=!1},d(s){s&&detach(e),destroy_component(r)}}}function create_fragment$b(n){let e,r,a=n[0].url.includes("youtube"),s,u=n[0].url.includes("vimeo"),c,p=has_1(n[0],"caption.content"),d,g,y=a&&create_if_block_2$3(n),m=u&&create_if_block_1$4(n),S=p&&create_if_block$5(n);return{c(){e=element("div"),r=element("div"),y&&y.c(),s=space(),m&&m.c(),c=space(),S&&S.c(),d=empty(),this.h()},l(k){e=claim_element(k,"DIV",{class:!0});var L=children(e);r=claim_element(L,"DIV",{class:!0});var z=children(r);y&&y.l(z),s=claim_space(z),m&&m.l(z),z.forEach(detach),L.forEach(detach),c=claim_space(k),S&&S.l(k),d=empty(),this.h()},h(){attr(r,"class","inner svelte-23luwt"),attr(e,"class","embed svelte-23luwt")},m(k,L){insert_hydration(k,e,L),append_hydration(e,r),y&&y.m(r,null),append_hydration(r,s),m&&m.m(r,null),insert_hydration(k,c,L),S&&S.m(k,L),insert_hydration(k,d,L),g=!0},p(k,[L]){L&1&&(a=k[0].url.includes("youtube")),a?y?y.p(k,L):(y=create_if_block_2$3(k),y.c(),y.m(r,s)):y&&(y.d(1),y=null),L&1&&(u=k[0].url.includes("vimeo")),u?m?m.p(k,L):(m=create_if_block_1$4(k),m.c(),m.m(r,null)):m&&(m.d(1),m=null),L&1&&(p=has_1(k[0],"caption.content")),p?S?(S.p(k,L),L&1&&transition_in(S,1)):(S=create_if_block$5(k),S.c(),transition_in(S,1),S.m(d.parentNode,d)):S&&(group_outros(),transition_out(S,1,1,()=>{S=null}),check_outros())},i(k){g||(transition_in(S),g=!0)},o(k){transition_out(S),g=!1},d(k){k&&detach(e),y&&y.d(),m&&m.d(),k&&detach(c),S&&S.d(k),k&&detach(d)}}}function instance$8(n,e,r){let{b:a={}}=e;return n.$$set=s=>{"b"in s&&r(0,a=s.b)},[a]}class Embed extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$8,create_fragment$b,safe_not_equal,{b:0})}}var divider_svelte_svelte_type_style_lang=(()=>`.divider.svelte-ibl5lr{margin-top:20px;margin-bottom:20px;height:1px;border-top:1px solid #221f20;width:100%}
`)();function create_fragment$a(n){let e;return{c(){e=element("div"),this.h()},l(r){e=claim_element(r,"DIV",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","divider svelte-ibl5lr")},m(r,a){insert_hydration(r,e,a)},p:noop$1,i:noop$1,o:noop$1,d(r){r&&detach(e)}}}function instance$7(n,e,r){let{b:a={}}=e;return n.$$set=s=>{"b"in s&&r(0,a=s.b)},[a]}class Divider extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$7,create_fragment$a,safe_not_equal,{b:0})}}var columns_svelte_svelte_type_style_lang=(()=>`.columns.svelte-1yggcq h2.svelte-1yggcq{padding-top:20px;padding-bottom:20px}.columns.svelte-1yggcq .inner.svelte-1yggcq{width:100%;column-count:2;column-fill:balance;column-width:50%}
`)();function create_if_block_1$3(n){let e,r=n[0].title+"",a,s;return{c(){e=element("h2"),a=text(r),this.h()},l(u){e=claim_element(u,"H2",{id:!0,class:!0});var c=children(e);a=claim_text(c,r),c.forEach(detach),this.h()},h(){attr(e,"id",s=slugify(n[0].title,{lower:!0})),attr(e,"class","svelte-1yggcq")},m(u,c){insert_hydration(u,e,c),append_hydration(e,a)},p(u,c){c&1&&r!==(r=u[0].title+"")&&set_data(a,r),c&1&&s!==(s=slugify(u[0].title,{lower:!0}))&&attr(e,"id",s)},d(u){u&&detach(e)}}}function create_if_block$4(n){let e,r,a;return r=new Blocks({props:{blocks:n[0].columnContent.content}}),{c(){e=element("div"),create_component(r.$$.fragment),this.h()},l(s){e=claim_element(s,"DIV",{class:!0});var u=children(e);claim_component(r.$$.fragment,u),u.forEach(detach),this.h()},h(){attr(e,"class","inner svelte-1yggcq")},m(s,u){insert_hydration(s,e,u),mount_component(r,e,null),a=!0},p(s,u){const c={};u&1&&(c.blocks=s[0].columnContent.content),r.$set(c)},i(s){a||(transition_in(r.$$.fragment,s),a=!0)},o(s){transition_out(r.$$.fragment,s),a=!1},d(s){s&&detach(e),destroy_component(r)}}}function create_fragment$9(n){let e,r,a=has_1(n[0],"columnContent.content"),s,u=n[0].title&&create_if_block_1$3(n),c=a&&create_if_block$4(n);return{c(){e=element("div"),u&&u.c(),r=space(),c&&c.c(),this.h()},l(p){e=claim_element(p,"DIV",{class:!0});var d=children(e);u&&u.l(d),r=claim_space(d),c&&c.l(d),d.forEach(detach),this.h()},h(){attr(e,"class","columns svelte-1yggcq")},m(p,d){insert_hydration(p,e,d),u&&u.m(e,null),append_hydration(e,r),c&&c.m(e,null),s=!0},p(p,[d]){p[0].title?u?u.p(p,d):(u=create_if_block_1$3(p),u.c(),u.m(e,r)):u&&(u.d(1),u=null),d&1&&(a=has_1(p[0],"columnContent.content")),a?c?(c.p(p,d),d&1&&transition_in(c,1)):(c=create_if_block$4(p),c.c(),transition_in(c,1),c.m(e,null)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros())},i(p){s||(transition_in(c),s=!0)},o(p){transition_out(c),s=!1},d(p){p&&detach(e),u&&u.d(),c&&c.d()}}}function instance$6(n,e,r){let{b:a={}}=e;return n.$$set=s=>{"b"in s&&r(0,a=s.b)},[a]}class Columns extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$6,create_fragment$9,safe_not_equal,{b:0})}}var donationWidget_svelte_svelte_type_style_lang=(()=>`.donation-widget.svelte-g1dluc{margin-top:20px;height:600px;background:red;width:100%}.gl-widget__frequency-selection-container{height:200px;background:yellow}.gl-widget__input-group{height:200px;background:green}.gl-widget__payment{height:200px;background:blue}.gl-widget__frequency-buttons{height:100%!important}
`)();function create_fragment$8(n){let e,r,a,s,u;return{c(){e=element("script"),a=space(),s=element("div"),u=element("div"),this.h()},l(c){const p=query_selector_all('[data-svelte="svelte-1cxe6br"]',document.head);e=claim_element(p,"SCRIPT",{src:!0});var d=children(e);d.forEach(detach),p.forEach(detach),a=claim_space(c),s=claim_element(c,"DIV",{class:!0});var g=children(s);u=claim_element(g,"DIV",{id:!0,class:!0}),children(u).forEach(detach),g.forEach(detach),this.h()},h(){src_url_equal(e.src,r="https://secure.givelively.org/widgets/simple_donation/the-eyebeam-atelier-inc/donate-to-eyebeam.js?show_suggested_amount_buttons=false&show_in_honor_of=false&address_required=false&has_required_custom_question=false")||attr(e,"src",r),attr(u,"id","give-lively-widget"),attr(u,"class","gl-simple-donation-widget"),attr(s,"class","donation-widget svelte-g1dluc")},m(c,p){append_hydration(document.head,e),insert_hydration(c,a,p),insert_hydration(c,s,p),append_hydration(s,u)},p:noop$1,i:noop$1,o:noop$1,d(c){detach(e),c&&detach(a),c&&detach(s)}}}function instance$5(n,e,r){let{b:a={}}=e;return n.$$set=s=>{"b"in s&&r(0,a=s.b)},[a]}class DonationWidget extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$5,create_fragment$8,safe_not_equal,{b:0})}}var applicationButton_svelte_svelte_type_style_lang=(()=>`.application-button-small.svelte-1dlavbd.svelte-1dlavbd{margin-top:0;margin-bottom:40px;display:inline-block;width:100%}.application-button-small.svelte-1dlavbd .application-button-inner.svelte-1dlavbd{margin:20px;display:inline-block}.application-button-small.svelte-1dlavbd .application-button-inner .button.svelte-1dlavbd{background:#dedcd5;padding:15px;display:flex;align-items:center;text-decoration:none}.application-button-small.svelte-1dlavbd .application-button-inner .button .circle.svelte-1dlavbd{width:20px;height:20px;border-radius:50%;background:#221f20}.application-button-small.svelte-1dlavbd .application-button-inner .button .applications-text.svelte-1dlavbd{margin-left:10px;font-size:14px}.application-button-small.svelte-1dlavbd .application-button-inner .button.svelte-1dlavbd:hover{background:#221f20;color:#dedcd5}.application-button-small.svelte-1dlavbd .application-button-inner .button:hover .circle.svelte-1dlavbd{background:#dedcd5}.application-button-small.svelte-1dlavbd .application-button-inner .date.svelte-1dlavbd{margin-top:8px;font-style:italic}.application-button-large.svelte-1dlavbd.svelte-1dlavbd{width:100%;background:#221f20;color:#f5f4ee;height:220px;padding:20px;display:flex}@media (max-width: 800px){.application-button-large.svelte-1dlavbd.svelte-1dlavbd{flex-wrap:wrap}}.application-button-large.svelte-1dlavbd .column.svelte-1dlavbd{height:100%}@media (max-width: 800px){.application-button-large.svelte-1dlavbd .column.svelte-1dlavbd{height:auto}}.application-button-large.svelte-1dlavbd .column.first.svelte-1dlavbd{width:80%;display:flex;flex-direction:column;justify-content:space-between}@media (max-width: 800px){.application-button-large.svelte-1dlavbd .column.first.svelte-1dlavbd{width:100%}}.application-button-large.svelte-1dlavbd .column.second.svelte-1dlavbd{width:220px}@media (max-width: 800px){.application-button-large.svelte-1dlavbd .column.second.svelte-1dlavbd{width:100%}}.application-button-large.svelte-1dlavbd .top.svelte-1dlavbd{display:flex;font-size:14px}.application-button-large.svelte-1dlavbd .top .col.second.svelte-1dlavbd{margin-left:10px}.application-button-large.svelte-1dlavbd .circle.svelte-1dlavbd{width:20px;height:20px;background:#f5f4ee;border-radius:50%;float:left;margin-top:2px}.application-button-large.svelte-1dlavbd .headline.svelte-1dlavbd{font-size:12px;letter-spacing:1px}.application-button-large.svelte-1dlavbd .date.svelte-1dlavbd{font-style:italic}.application-button-large.svelte-1dlavbd .text.svelte-1dlavbd{padding-right:40px;font-size:16px}@media (max-width: 800px){.application-button-large.svelte-1dlavbd .text.svelte-1dlavbd{display:none}}.application-button-large.svelte-1dlavbd .apply-now.svelte-1dlavbd{border:1px solid #f5f4ee;height:100%;display:flex;justify-content:center;align-items:center;cursor:pointer;user-select:none;color:#f5f4ee;text-decoration:none;font-size:16px}.application-button-large.svelte-1dlavbd .apply-now.svelte-1dlavbd:hover{background:#f5f4ee;color:#221f20}.article .application-button-large .text p{margin-bottom:0;margin-left:0;margin-right:0}
`)();function create_else_block$2(n){let e,r,a,s,u,c,p=n[0].shortText+"",d,g,y,m=n[0].applicationEndDate&&create_if_block_4$1(),S=n[0].applicationEndDate&&create_if_block_3$1(n);return{c(){e=element("div"),r=element("div"),a=element("a"),m&&m.c(),s=space(),u=element("div"),c=element("div"),d=text(p),g=space(),S&&S.c(),this.h()},l(k){e=claim_element(k,"DIV",{class:!0});var L=children(e);r=claim_element(L,"DIV",{class:!0});var z=children(r);a=claim_element(z,"A",{href:!0,target:!0,class:!0});var Y=children(a);m&&m.l(Y),s=claim_space(Y),u=claim_element(Y,"DIV",{class:!0});var j=children(u);c=claim_element(j,"DIV",{class:!0});var T=children(c);d=claim_text(T,p),T.forEach(detach),g=claim_space(j),S&&S.l(j),j.forEach(detach),Y.forEach(detach),z.forEach(detach),L.forEach(detach),this.h()},h(){attr(c,"class","short-text"),attr(u,"class","applications-text svelte-1dlavbd"),attr(a,"href",y=n[0].url),attr(a,"target","_blank"),attr(a,"class","button svelte-1dlavbd"),attr(r,"class","application-button-inner svelte-1dlavbd"),attr(e,"class","application-button-small svelte-1dlavbd")},m(k,L){insert_hydration(k,e,L),append_hydration(e,r),append_hydration(r,a),m&&m.m(a,null),append_hydration(a,s),append_hydration(a,u),append_hydration(u,c),append_hydration(c,d),append_hydration(u,g),S&&S.m(u,null)},p(k,L){k[0].applicationEndDate?m||(m=create_if_block_4$1(),m.c(),m.m(a,s)):m&&(m.d(1),m=null),L&1&&p!==(p=k[0].shortText+"")&&set_data(d,p),k[0].applicationEndDate?S?S.p(k,L):(S=create_if_block_3$1(k),S.c(),S.m(u,null)):S&&(S.d(1),S=null),L&1&&y!==(y=k[0].url)&&attr(a,"href",y)},i:noop$1,o:noop$1,d(k){k&&detach(e),m&&m.d(),S&&S.d()}}}function create_if_block$3(n){let e,r,a,s,u,c,p,d,g,y,m,S=has_1(n[0],"longText.content"),k,L,z,Y=n[0].shortText+"",j,T,H,R=n[0].applicationEndDate&&create_if_block_2$2(n),F=S&&create_if_block_1$2(n);return{c(){e=element("div"),r=element("div"),a=element("div"),s=element("div"),u=element("div"),c=space(),p=element("div"),d=element("div"),g=text("APPLICATIONS ARE OPEN"),y=space(),R&&R.c(),m=space(),F&&F.c(),k=space(),L=element("div"),z=element("a"),j=text(Y),this.h()},l(O){e=claim_element(O,"DIV",{class:!0});var P=children(e);r=claim_element(P,"DIV",{class:!0});var ie=children(r);a=claim_element(ie,"DIV",{class:!0});var ae=children(a);s=claim_element(ae,"DIV",{class:!0});var M=children(s);u=claim_element(M,"DIV",{class:!0}),children(u).forEach(detach),M.forEach(detach),c=claim_space(ae),p=claim_element(ae,"DIV",{class:!0});var I=children(p);d=claim_element(I,"DIV",{class:!0});var X=children(d);g=claim_text(X,"APPLICATIONS ARE OPEN"),X.forEach(detach),y=claim_space(I),R&&R.l(I),I.forEach(detach),ae.forEach(detach),m=claim_space(ie),F&&F.l(ie),ie.forEach(detach),k=claim_space(P),L=claim_element(P,"DIV",{class:!0});var W=children(L);z=claim_element(W,"A",{href:!0,target:!0,class:!0});var fe=children(z);j=claim_text(fe,Y),fe.forEach(detach),W.forEach(detach),P.forEach(detach),this.h()},h(){attr(u,"class","circle svelte-1dlavbd"),attr(s,"class","col first"),attr(d,"class","headline svelte-1dlavbd"),attr(p,"class","col second svelte-1dlavbd"),attr(a,"class","top svelte-1dlavbd"),attr(r,"class","column first svelte-1dlavbd"),attr(z,"href",T=n[0].url),attr(z,"target","_blank"),attr(z,"class","apply-now svelte-1dlavbd"),attr(L,"class","column second svelte-1dlavbd"),attr(e,"class","application-button-large svelte-1dlavbd")},m(O,P){insert_hydration(O,e,P),append_hydration(e,r),append_hydration(r,a),append_hydration(a,s),append_hydration(s,u),append_hydration(a,c),append_hydration(a,p),append_hydration(p,d),append_hydration(d,g),append_hydration(p,y),R&&R.m(p,null),append_hydration(r,m),F&&F.m(r,null),append_hydration(e,k),append_hydration(e,L),append_hydration(L,z),append_hydration(z,j),H=!0},p(O,P){O[0].applicationEndDate?R?R.p(O,P):(R=create_if_block_2$2(O),R.c(),R.m(p,null)):R&&(R.d(1),R=null),P&1&&(S=has_1(O[0],"longText.content")),S?F?(F.p(O,P),P&1&&transition_in(F,1)):(F=create_if_block_1$2(O),F.c(),transition_in(F,1),F.m(r,null)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros()),(!H||P&1)&&Y!==(Y=O[0].shortText+"")&&set_data(j,Y),(!H||P&1&&T!==(T=O[0].url))&&attr(z,"href",T)},i(O){H||(transition_in(F),H=!0)},o(O){transition_out(F),H=!1},d(O){O&&detach(e),R&&R.d(),F&&F.d()}}}function create_if_block_4$1(n){let e;return{c(){e=element("div"),this.h()},l(r){e=claim_element(r,"DIV",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","circle svelte-1dlavbd")},m(r,a){insert_hydration(r,e,a)},d(r){r&&detach(e)}}}function create_if_block_3$1(n){let e,r,a=longFormatDate(n[0].applicationEndDate)+"",s;return{c(){e=element("div"),r=text("Applications Due by "),s=text(a),this.h()},l(u){e=claim_element(u,"DIV",{class:!0});var c=children(e);r=claim_text(c,"Applications Due by "),s=claim_text(c,a),c.forEach(detach),this.h()},h(){attr(e,"class","date svelte-1dlavbd")},m(u,c){insert_hydration(u,e,c),append_hydration(e,r),append_hydration(e,s)},p(u,c){c&1&&a!==(a=longFormatDate(u[0].applicationEndDate)+"")&&set_data(s,a)},d(u){u&&detach(e)}}}function create_if_block_2$2(n){let e,r,a=longFormatDate(n[0].applicationEndDate)+"",s;return{c(){e=element("div"),r=text("Due by "),s=text(a),this.h()},l(u){e=claim_element(u,"DIV",{class:!0});var c=children(e);r=claim_text(c,"Due by "),s=claim_text(c,a),c.forEach(detach),this.h()},h(){attr(e,"class","date svelte-1dlavbd")},m(u,c){insert_hydration(u,e,c),append_hydration(e,r),append_hydration(e,s)},p(u,c){c&1&&a!==(a=longFormatDate(u[0].applicationEndDate)+"")&&set_data(s,a)},d(u){u&&detach(e)}}}function create_if_block_1$2(n){let e,r,a;return r=new Blocks({props:{blocks:n[0].longText.content}}),{c(){e=element("div"),create_component(r.$$.fragment),this.h()},l(s){e=claim_element(s,"DIV",{class:!0});var u=children(e);claim_component(r.$$.fragment,u),u.forEach(detach),this.h()},h(){attr(e,"class","text svelte-1dlavbd")},m(s,u){insert_hydration(s,e,u),mount_component(r,e,null),a=!0},p(s,u){const c={};u&1&&(c.blocks=s[0].longText.content),r.$set(c)},i(s){a||(transition_in(r.$$.fragment,s),a=!0)},o(s){transition_out(r.$$.fragment,s),a=!1},d(s){s&&detach(e),destroy_component(r)}}}function create_fragment$7(n){let e,r,a,s;const u=[create_if_block$3,create_else_block$2],c=[];function p(d,g){return d[0].size=="large"?0:1}return e=p(n),r=c[e]=u[e](n),{c(){r.c(),a=empty()},l(d){r.l(d),a=empty()},m(d,g){c[e].m(d,g),insert_hydration(d,a,g),s=!0},p(d,[g]){let y=e;e=p(d),e===y?c[e].p(d,g):(group_outros(),transition_out(c[y],1,1,()=>{c[y]=null}),check_outros(),r=c[e],r?r.p(d,g):(r=c[e]=u[e](d),r.c()),transition_in(r,1),r.m(a.parentNode,a))},i(d){s||(transition_in(r),s=!0)},o(d){transition_out(r),s=!1},d(d){c[e].d(d),d&&detach(a)}}}function instance$4(n,e,r){let{b:a={}}=e;return n.$$set=s=>{"b"in s&&r(0,a=s.b)},[a]}class ApplicationButton extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$4,create_fragment$7,safe_not_equal,{b:0})}}var arrowDown_svelte_svelte_type_style_lang=(()=>`svg.svelte-hhwbji path.svelte-hhwbji{fill:#f5f4ee}
`)();function create_fragment$6(n){let e,r;return{c(){e=svg_element("svg"),r=svg_element("path"),this.h()},l(a){e=claim_svg_element(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var s=children(e);r=claim_svg_element(s,"path",{d:!0,class:!0}),children(r).forEach(detach),s.forEach(detach),this.h()},h(){attr(r,"d","M4.78393 7.78516L0.640486 0.608508L8.92737 0.608508L4.78393 7.78516Z"),attr(r,"class","svelte-hhwbji"),attr(e,"width","9"),attr(e,"height","8"),attr(e,"viewBox","0 0 9 8"),attr(e,"fill","none"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","svelte-hhwbji")},m(a,s){insert_hydration(a,e,s),append_hydration(e,r)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e)}}}class Arrow_down extends SvelteComponent{constructor(e){super(),init$1(this,e,null,create_fragment$6,safe_not_equal,{})}}var arrowLeft_svelte_svelte_type_style_lang=(()=>`svg.svelte-bl0yym path.svelte-bl0yym{fill:#221f20}
`)();function create_fragment$5(n){let e,r;return{c(){e=svg_element("svg"),r=svg_element("path"),this.h()},l(a){e=claim_svg_element(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var s=children(e);r=claim_svg_element(s,"path",{d:!0,class:!0}),children(r).forEach(detach),s.forEach(detach),this.h()},h(){attr(r,"d","M-0.000488072 5.06677L7.17615 9.45473L7.17615 0.678818L-0.000488072 5.06677Z"),attr(r,"class","svelte-bl0yym"),attr(e,"width","8"),attr(e,"height","10"),attr(e,"viewBox","0 0 8 10"),attr(e,"fill","none"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","svelte-bl0yym")},m(a,s){insert_hydration(a,e,s),append_hydration(e,r)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e)}}}class Arrow_left extends SvelteComponent{constructor(e){super(),init$1(this,e,null,create_fragment$5,safe_not_equal,{})}}var qa_svelte_svelte_type_style_lang=(()=>`.qa.svelte-nx2f1v.svelte-nx2f1v{width:100%;display:inline-block}.qa.svelte-nx2f1v .question.svelte-nx2f1v{width:100%;display:flex;justify-content:space-between;border-bottom:1px solid #221f20;cursor:pointer}.qa.svelte-nx2f1v .question .text.svelte-nx2f1v{font-style:italic;user-select:none;padding-top:10px;padding-bottom:10px;font-size:14px}.qa.svelte-nx2f1v .question .icon.svelte-nx2f1v{position:relative;top:6px}.qa.svelte-nx2f1v .answer.svelte-nx2f1v{border-bottom:1px solid #221f20}
`)();function create_else_block$1(n){let e,r;return e=new Arrow_left({}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_2$1(n){let e,r;return e=new Arrow_down({}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block$2(n){let e,r=has_1(n[0],"answer.content"),a,s=r&&create_if_block_1$1(n);return{c(){e=element("div"),s&&s.c(),this.h()},l(u){e=claim_element(u,"DIV",{class:!0});var c=children(e);s&&s.l(c),c.forEach(detach),this.h()},h(){attr(e,"class","answer svelte-nx2f1v")},m(u,c){insert_hydration(u,e,c),s&&s.m(e,null),a=!0},p(u,c){c&1&&(r=has_1(u[0],"answer.content")),r?s?(s.p(u,c),c&1&&transition_in(s,1)):(s=create_if_block_1$1(u),s.c(),transition_in(s,1),s.m(e,null)):s&&(group_outros(),transition_out(s,1,1,()=>{s=null}),check_outros())},i(u){a||(transition_in(s),a=!0)},o(u){transition_out(s),a=!1},d(u){u&&detach(e),s&&s.d()}}}function create_if_block_1$1(n){let e,r;return e=new Blocks({props:{blocks:n[0].answer.content}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.blocks=a[0].answer.content),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_fragment$4(n){let e,r,a,s=n[0].question+"",u,c,p,d,g,y,m,S,k;const L=[create_if_block_2$1,create_else_block$1],z=[];function Y(T,H){return T[1]?0:1}d=Y(n),g=z[d]=L[d](n);let j=n[1]&&create_if_block$2(n);return{c(){e=element("div"),r=element("div"),a=element("div"),u=text(s),c=space(),p=element("div"),g.c(),y=space(),j&&j.c(),this.h()},l(T){e=claim_element(T,"DIV",{class:!0});var H=children(e);r=claim_element(H,"DIV",{class:!0});var R=children(r);a=claim_element(R,"DIV",{class:!0});var F=children(a);u=claim_text(F,s),F.forEach(detach),c=claim_space(R),p=claim_element(R,"DIV",{class:!0});var O=children(p);g.l(O),O.forEach(detach),R.forEach(detach),y=claim_space(H),j&&j.l(H),H.forEach(detach),this.h()},h(){attr(a,"class","text svelte-nx2f1v"),attr(p,"class","icon svelte-nx2f1v"),attr(r,"class","question svelte-nx2f1v"),attr(e,"class","qa svelte-nx2f1v")},m(T,H){insert_hydration(T,e,H),append_hydration(e,r),append_hydration(r,a),append_hydration(a,u),append_hydration(r,c),append_hydration(r,p),z[d].m(p,null),append_hydration(e,y),j&&j.m(e,null),m=!0,S||(k=listen$2(r,"click",n[2]),S=!0)},p(T,[H]){(!m||H&1)&&s!==(s=T[0].question+"")&&set_data(u,s);let R=d;d=Y(T),d!==R&&(group_outros(),transition_out(z[R],1,1,()=>{z[R]=null}),check_outros(),g=z[d],g||(g=z[d]=L[d](T),g.c()),transition_in(g,1),g.m(p,null)),T[1]?j?(j.p(T,H),H&2&&transition_in(j,1)):(j=create_if_block$2(T),j.c(),transition_in(j,1),j.m(e,null)):j&&(group_outros(),transition_out(j,1,1,()=>{j=null}),check_outros())},i(T){m||(transition_in(g),transition_in(j),m=!0)},o(T){transition_out(g),transition_out(j),m=!1},d(T){T&&detach(e),z[d].d(),j&&j.d(),S=!1,k()}}}function instance$3(n,e,r){let{item:a={}}=e,s=!1;const u=()=>{r(1,s=!s)};return n.$$set=c=>{"item"in c&&r(0,a=c.item)},[a,s,u]}class Qa extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$3,create_fragment$4,safe_not_equal,{item:0})}}var faq_svelte_svelte_type_style_lang=(()=>`.faq.svelte-1lh5ive.svelte-1lh5ive{display:inline-block;width:100%;padding:20px;margin-bottom:40px}.faq.svelte-1lh5ive h2.svelte-1lh5ive{margin-left:0;margin-right:0}@media (max-width: 800px){.faq.svelte-1lh5ive.svelte-1lh5ive{padding-left:0;padding-right:0}}.faq.svelte-1lh5ive .faq-inner.svelte-1lh5ive{margin-top:1em}
`)();function get_each_context$1(n,e,r){const a=n.slice();return a[1]=e[r],a}function create_each_block$1(n){let e,r;return e=new Qa({props:{item:n[1]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.item=a[1]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_fragment$3(n){let e,r,a=n[0].title+"",s,u,c,p,d,g=n[0].questionAnswer,y=[];for(let S=0;S<g.length;S+=1)y[S]=create_each_block$1(get_each_context$1(n,g,S));const m=S=>transition_out(y[S],1,1,()=>{y[S]=null});return{c(){e=element("div"),r=element("h2"),s=text(a),c=space(),p=element("div");for(let S=0;S<y.length;S+=1)y[S].c();this.h()},l(S){e=claim_element(S,"DIV",{class:!0});var k=children(e);r=claim_element(k,"H2",{id:!0,class:!0});var L=children(r);s=claim_text(L,a),L.forEach(detach),c=claim_space(k),p=claim_element(k,"DIV",{class:!0});var z=children(p);for(let Y=0;Y<y.length;Y+=1)y[Y].l(z);z.forEach(detach),k.forEach(detach),this.h()},h(){attr(r,"id",u=slugify(n[0].title,{lower:!0})),attr(r,"class","svelte-1lh5ive"),attr(p,"class","faq-inner svelte-1lh5ive"),attr(e,"class","faq svelte-1lh5ive")},m(S,k){insert_hydration(S,e,k),append_hydration(e,r),append_hydration(r,s),append_hydration(e,c),append_hydration(e,p);for(let L=0;L<y.length;L+=1)y[L].m(p,null);d=!0},p(S,[k]){if((!d||k&1)&&a!==(a=S[0].title+"")&&set_data(s,a),(!d||k&1&&u!==(u=slugify(S[0].title,{lower:!0})))&&attr(r,"id",u),k&1){g=S[0].questionAnswer;let L;for(L=0;L<g.length;L+=1){const z=get_each_context$1(S,g,L);y[L]?(y[L].p(z,k),transition_in(y[L],1)):(y[L]=create_each_block$1(z),y[L].c(),transition_in(y[L],1),y[L].m(p,null))}for(group_outros(),L=g.length;L<y.length;L+=1)m(L);check_outros()}},i(S){if(!d){for(let k=0;k<g.length;k+=1)transition_in(y[k]);d=!0}},o(S){y=y.filter(Boolean);for(let k=0;k<y.length;k+=1)transition_out(y[k]);d=!1},d(S){S&&detach(e),destroy_each(y,S)}}}function instance$2(n,e,r){let{b:a={}}=e;return n.$$set=s=>{"b"in s&&r(0,a=s.b)},[a]}class Faq extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$2,create_fragment$3,safe_not_equal,{b:0})}}var playArrow_svelte_svelte_type_style_lang=(()=>`svg.svelte-192w1ja.svelte-192w1ja{height:15px}svg.svelte-192w1ja path.svelte-192w1ja{fill:#221f20}
`)();function create_fragment$2(n){let e,r;return{c(){e=svg_element("svg"),r=svg_element("path"),this.h()},l(a){e=claim_svg_element(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var s=children(e);r=claim_svg_element(s,"path",{d:!0,class:!0}),children(r).forEach(detach),s.forEach(detach),this.h()},h(){attr(r,"d","M0.123047 34.0552V0L20.5614 17.0276L0.123047 34.0552Z"),attr(r,"class","svelte-192w1ja"),attr(e,"width","21"),attr(e,"height","35"),attr(e,"viewBox","0 0 21 35"),attr(e,"fill","none"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","svelte-192w1ja")},m(a,s){insert_hydration(a,e,s),append_hydration(e,r)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e)}}}class Play_arrow extends SvelteComponent{constructor(e){super(),init$1(this,e,null,create_fragment$2,safe_not_equal,{})}}var video_svelte_svelte_type_style_lang=(()=>`.video-block.svelte-139dsg8.svelte-139dsg8{text-decoration:none;width:100%;position:relative;display:block;height:400px;margin-bottom:20px}.video-block.svelte-139dsg8 img.svelte-139dsg8{display:block;width:100%;height:100%;position:absolute;top:0;left:0}.video-block.svelte-139dsg8 .title.svelte-139dsg8{display:block;position:absolute;top:10px;left:80px;z-index:10;color:#f5f4ee;font-size:32px;line-height:1.2em}.video-block.svelte-139dsg8 .icon.svelte-139dsg8{position:absolute;top:10px;left:10px;z-index:100;width:70px;height:70px;border-radius:50%;background:#f5f4ee;color:#f5f4ee;line-height:1.2em;display:flex;justify-content:center;align-items:center}
`)();function create_catch_block(n){return{c:noop$1,l:noop$1,m:noop$1,p:noop$1,i:noop$1,o:noop$1,d:noop$1}}function create_then_block(n){let e,r,a,s,u,c,p=n[0].title+"",d,g,y=n[0].mainImage&&create_if_block$1(n);return s=new Play_arrow({}),{c(){e=element("a"),y&&y.c(),r=space(),a=element("div"),create_component(s.$$.fragment),u=space(),c=element("div"),d=text(p),this.h()},l(m){e=claim_element(m,"A",{href:!0,class:!0});var S=children(e);y&&y.l(S),r=claim_space(S),a=claim_element(S,"DIV",{class:!0});var k=children(a);claim_component(s.$$.fragment,k),k.forEach(detach),u=claim_space(S),c=claim_element(S,"DIV",{class:!0});var L=children(c);d=claim_text(L,p),L.forEach(detach),S.forEach(detach),this.h()},h(){attr(a,"class","icon svelte-139dsg8"),attr(c,"class","title svelte-139dsg8"),attr(e,"href","/videos/"+get_1(n[0],"slug.current")),attr(e,"class","video-block svelte-139dsg8")},m(m,S){insert_hydration(m,e,S),y&&y.m(e,null),append_hydration(e,r),append_hydration(e,a),mount_component(s,a,null),append_hydration(e,u),append_hydration(e,c),append_hydration(c,d),g=!0},p(m,S){m[0].mainImage&&y.p(m,S)},i(m){g||(transition_in(s.$$.fragment,m),g=!0)},o(m){transition_out(s.$$.fragment,m),g=!1},d(m){m&&detach(e),y&&y.d(),destroy_component(s)}}}function create_if_block$1(n){let e,r,a;return{c(){e=element("img"),this.h()},l(s){e=claim_element(s,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){attr(e,"class","main-image svelte-139dsg8"),attr(e,"alt",r=n[0].title),src_url_equal(e.src,a=urlFor(n[0].mainImage).quality(90).width(400).url())||attr(e,"src",a)},m(s,u){insert_hydration(s,e,u)},p:noop$1,d(s){s&&detach(e)}}}function create_pending_block(n){return{c:noop$1,l:noop$1,m:noop$1,p:noop$1,i:noop$1,o:noop$1,d:noop$1}}function create_fragment$1(n){let e,r,a={ctx:n,current:null,token:null,hasCatch:!1,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:0,blocks:[,,,]};return handle_promise(n[0],a),{c(){e=empty(),a.block.c()},l(s){e=empty(),a.block.l(s)},m(s,u){insert_hydration(s,e,u),a.block.m(s,a.anchor=u),a.mount=()=>e.parentNode,a.anchor=e,r=!0},p(s,[u]){n=s,update_await_block_branch(a,n,u)},i(s){r||(transition_in(a.block),r=!0)},o(s){for(let u=0;u<3;u+=1){const c=a.blocks[u];transition_out(c)}r=!1},d(s){s&&detach(e),a.block.d(s),a.token=null,a=null}}}function instance$1(n,e,r){let{b:a={}}=e;const s=loadData("*[_id == $id][0]",{id:a.videoPost._ref});return n.$$set=u=>{"b"in u&&r(1,a=u.b)},[s,a]}class Video extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$1,create_fragment$1,safe_not_equal,{b:1})}}function get_each_context(n,e,r){const a=n.slice();return a[2]=e[r],a}function create_if_block_9(n){let e,r,a,s;const u=[create_if_block_10,create_if_block_11,create_else_block_1],c=[];function p(d,g){return d[2].style=="logoBlock"?0:d[2].style=="invertedBlock"?1:2}return e=p(n),r=c[e]=u[e](n),{c(){r.c(),a=empty()},l(d){r.l(d),a=empty()},m(d,g){c[e].m(d,g),insert_hydration(d,a,g),s=!0},p(d,g){let y=e;e=p(d),e===y?c[e].p(d,g):(group_outros(),transition_out(c[y],1,1,()=>{c[y]=null}),check_outros(),r=c[e],r?r.p(d,g):(r=c[e]=u[e](d),r.c()),transition_in(r,1),r.m(a.parentNode,a))},i(d){s||(transition_in(r),s=!0)},o(d){transition_out(r),s=!1},d(d){c[e].d(d),d&&detach(a)}}}function create_else_block_1(n){let e,r;return e=new Text({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_11(n){let e,r;return e=new InvertedBlock({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_10(n){let e,r;return e=new LogoBlock({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_7(n){let e,r,a,s;const u=[create_if_block_8,create_else_block],c=[];function p(d,g){return d[1]?0:1}return e=p(n),r=c[e]=u[e](n),{c(){r.c(),a=empty()},l(d){r.l(d),a=empty()},m(d,g){c[e].m(d,g),insert_hydration(d,a,g),s=!0},p(d,g){let y=e;e=p(d),e===y?c[e].p(d,g):(group_outros(),transition_out(c[y],1,1,()=>{c[y]=null}),check_outros(),r=c[e],r?r.p(d,g):(r=c[e]=u[e](d),r.c()),transition_in(r,1),r.m(a.parentNode,a))},i(d){s||(transition_in(r),s=!0)},o(d){transition_out(r),s=!1},d(d){c[e].d(d),d&&detach(a)}}}function create_else_block(n){let e,r;return e=new Image({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_8(n){let e,r;return e=new ImageFromMainSite({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_6(n){let e,r;return e=new Embed({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_5(n){let e,r;return e=new Divider({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_4(n){let e,r;return e=new Columns({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_3(n){let e,r;return e=new DonationWidget({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_2(n){let e,r;return e=new ApplicationButton({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block_1(n){let e,r;return e=new Faq({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_if_block(n){let e,r;return e=new Video({props:{b:n[2]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,s){mount_component(e,a,s),r=!0},p(a,s){const u={};s&1&&(u.b=a[2]),e.$set(u)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_each_block(n){let e,r,a,s,u,c,p,d,g,y,m=n[2]._type=="block"&&create_if_block_9(n),S=n[2]._type=="image"&&create_if_block_7(n),k=n[2]._type=="embedBlock"&&create_if_block_6(n),L=n[2]._type=="dividerBlock"&&create_if_block_5(n),z=n[2]._type=="columnsBlock"&&create_if_block_4(n),Y=n[2]._type=="donationWidget"&&create_if_block_3(n),j=n[2]._type=="applicationButton"&&create_if_block_2(n),T=n[2]._type=="faq"&&create_if_block_1(n),H=n[2]._type=="videoBlock"&&create_if_block(n);return{c(){m&&m.c(),e=space(),S&&S.c(),r=space(),k&&k.c(),a=space(),L&&L.c(),s=space(),z&&z.c(),u=space(),Y&&Y.c(),c=space(),j&&j.c(),p=space(),T&&T.c(),d=space(),H&&H.c(),g=empty()},l(R){m&&m.l(R),e=claim_space(R),S&&S.l(R),r=claim_space(R),k&&k.l(R),a=claim_space(R),L&&L.l(R),s=claim_space(R),z&&z.l(R),u=claim_space(R),Y&&Y.l(R),c=claim_space(R),j&&j.l(R),p=claim_space(R),T&&T.l(R),d=claim_space(R),H&&H.l(R),g=empty()},m(R,F){m&&m.m(R,F),insert_hydration(R,e,F),S&&S.m(R,F),insert_hydration(R,r,F),k&&k.m(R,F),insert_hydration(R,a,F),L&&L.m(R,F),insert_hydration(R,s,F),z&&z.m(R,F),insert_hydration(R,u,F),Y&&Y.m(R,F),insert_hydration(R,c,F),j&&j.m(R,F),insert_hydration(R,p,F),T&&T.m(R,F),insert_hydration(R,d,F),H&&H.m(R,F),insert_hydration(R,g,F),y=!0},p(R,F){R[2]._type=="block"?m?(m.p(R,F),F&1&&transition_in(m,1)):(m=create_if_block_9(R),m.c(),transition_in(m,1),m.m(e.parentNode,e)):m&&(group_outros(),transition_out(m,1,1,()=>{m=null}),check_outros()),R[2]._type=="image"?S?(S.p(R,F),F&1&&transition_in(S,1)):(S=create_if_block_7(R),S.c(),transition_in(S,1),S.m(r.parentNode,r)):S&&(group_outros(),transition_out(S,1,1,()=>{S=null}),check_outros()),R[2]._type=="embedBlock"?k?(k.p(R,F),F&1&&transition_in(k,1)):(k=create_if_block_6(R),k.c(),transition_in(k,1),k.m(a.parentNode,a)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros()),R[2]._type=="dividerBlock"?L?(L.p(R,F),F&1&&transition_in(L,1)):(L=create_if_block_5(R),L.c(),transition_in(L,1),L.m(s.parentNode,s)):L&&(group_outros(),transition_out(L,1,1,()=>{L=null}),check_outros()),R[2]._type=="columnsBlock"?z?(z.p(R,F),F&1&&transition_in(z,1)):(z=create_if_block_4(R),z.c(),transition_in(z,1),z.m(u.parentNode,u)):z&&(group_outros(),transition_out(z,1,1,()=>{z=null}),check_outros()),R[2]._type=="donationWidget"?Y?(Y.p(R,F),F&1&&transition_in(Y,1)):(Y=create_if_block_3(R),Y.c(),transition_in(Y,1),Y.m(c.parentNode,c)):Y&&(group_outros(),transition_out(Y,1,1,()=>{Y=null}),check_outros()),R[2]._type=="applicationButton"?j?(j.p(R,F),F&1&&transition_in(j,1)):(j=create_if_block_2(R),j.c(),transition_in(j,1),j.m(p.parentNode,p)):j&&(group_outros(),transition_out(j,1,1,()=>{j=null}),check_outros()),R[2]._type=="faq"?T?(T.p(R,F),F&1&&transition_in(T,1)):(T=create_if_block_1(R),T.c(),transition_in(T,1),T.m(d.parentNode,d)):T&&(group_outros(),transition_out(T,1,1,()=>{T=null}),check_outros()),R[2]._type=="videoBlock"?H?(H.p(R,F),F&1&&transition_in(H,1)):(H=create_if_block(R),H.c(),transition_in(H,1),H.m(g.parentNode,g)):H&&(group_outros(),transition_out(H,1,1,()=>{H=null}),check_outros())},i(R){y||(transition_in(m),transition_in(S),transition_in(k),transition_in(L),transition_in(z),transition_in(Y),transition_in(j),transition_in(T),transition_in(H),y=!0)},o(R){transition_out(m),transition_out(S),transition_out(k),transition_out(L),transition_out(z),transition_out(Y),transition_out(j),transition_out(T),transition_out(H),y=!1},d(R){m&&m.d(R),R&&detach(e),S&&S.d(R),R&&detach(r),k&&k.d(R),R&&detach(a),L&&L.d(R),R&&detach(s),z&&z.d(R),R&&detach(u),Y&&Y.d(R),R&&detach(c),j&&j.d(R),R&&detach(p),T&&T.d(R),R&&detach(d),H&&H.d(R),R&&detach(g)}}}function create_fragment(n){let e,r,a=n[0],s=[];for(let c=0;c<a.length;c+=1)s[c]=create_each_block(get_each_context(n,a,c));const u=c=>transition_out(s[c],1,1,()=>{s[c]=null});return{c(){for(let c=0;c<s.length;c+=1)s[c].c();e=empty()},l(c){for(let p=0;p<s.length;p+=1)s[p].l(c);e=empty()},m(c,p){for(let d=0;d<s.length;d+=1)s[d].m(c,p);insert_hydration(c,e,p),r=!0},p(c,[p]){if(p&3){a=c[0];let d;for(d=0;d<a.length;d+=1){const g=get_each_context(c,a,d);s[d]?(s[d].p(g,p),transition_in(s[d],1)):(s[d]=create_each_block(g),s[d].c(),transition_in(s[d],1),s[d].m(e.parentNode,e))}for(group_outros(),d=a.length;d<s.length;d+=1)u(d);check_outros()}},i(c){if(!r){for(let p=0;p<a.length;p+=1)transition_in(s[p]);r=!0}},o(c){s=s.filter(Boolean);for(let p=0;p<s.length;p+=1)transition_out(s[p]);r=!1},d(c){destroy_each(s,c),c&&detach(e)}}}function instance(n,e,r){let{blocks:a=[]}=e,{mainSite:s=!1}=e;return n.$$set=u=>{"blocks"in u&&r(0,a=u.blocks),"mainSite"in u&&r(1,s=u.mainSite)},[a,s]}class Blocks extends SvelteComponent{constructor(e){super(),init$1(this,e,instance,create_fragment,safe_not_equal,{blocks:0,mainSite:1})}}var base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=n.indexOf("=");r===-1&&(r=e);var a=r===e?0:4-r%4;return[r,a]}function byteLength(n){var e=getLens(n),r=e[0],a=e[1];return(r+a)*3/4-a}function _byteLength(n,e,r){return(e+r)*3/4-r}function toByteArray(n){var e,r=getLens(n),a=r[0],s=r[1],u=new Arr(_byteLength(n,a,s)),c=0,p=s>0?a-4:a,d;for(d=0;d<p;d+=4)e=revLookup[n.charCodeAt(d)]<<18|revLookup[n.charCodeAt(d+1)]<<12|revLookup[n.charCodeAt(d+2)]<<6|revLookup[n.charCodeAt(d+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=e&255;return s===2&&(e=revLookup[n.charCodeAt(d)]<<2|revLookup[n.charCodeAt(d+1)]>>4,u[c++]=e&255),s===1&&(e=revLookup[n.charCodeAt(d)]<<10|revLookup[n.charCodeAt(d+1)]<<4|revLookup[n.charCodeAt(d+2)]>>2,u[c++]=e>>8&255,u[c++]=e&255),u}function tripletToBase64(n){return lookup[n>>18&63]+lookup[n>>12&63]+lookup[n>>6&63]+lookup[n&63]}function encodeChunk(n,e,r){for(var a,s=[],u=e;u<r;u+=3)a=(n[u]<<16&16711680)+(n[u+1]<<8&65280)+(n[u+2]&255),s.push(tripletToBase64(a));return s.join("")}function fromByteArray(n){for(var e,r=n.length,a=r%3,s=[],u=16383,c=0,p=r-a;c<p;c+=u)s.push(encodeChunk(n,c,c+u>p?p:c+u));return a===1?(e=n[r-1],s.push(lookup[e>>2]+lookup[e<<4&63]+"==")):a===2&&(e=(n[r-2]<<8)+n[r-1],s.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),s.join("")}var sha256$1={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(n){return typeof n=="object"&&n.buffer&&n.buffer.constructor===ArrayBuffer});var createOutputMethod=function(n,e){return function(r){return new Sha256(e,!0).update(r)[n]()}},createMethod=function(n){var e=createOutputMethod("hex",n);NODE_JS&&(e=nodeWrap(e,n)),e.create=function(){return new Sha256(n)},e.update=function(s){return e.create().update(s)};for(var r=0;r<OUTPUT_TYPES.length;++r){var a=OUTPUT_TYPES[r];e[a]=createOutputMethod(a,n)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(n){if(typeof n=="string")return crypto.createHash(algorithm).update(n,"utf8").digest("hex");if(n==null)throw new Error(ERROR);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(n)).digest("hex"):method(n)};return nodeMethod},createHmacOutputMethod=function(n,e){return function(r,a){return new HmacSha256(r,e,!0).update(a)[n]()}},createHmacMethod=function(n){var e=createHmacOutputMethod("hex",n);e.create=function(s){return new HmacSha256(s,n)},e.update=function(s,u){return e.create(s).update(u)};for(var r=0;r<OUTPUT_TYPES.length;++r){var a=OUTPUT_TYPES[r];e[a]=createHmacOutputMethod(a,n)}return e};function Sha256(n,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=n}Sha256.prototype.update=function(n){if(!this.finalized){var e,r=typeof n;if(r!=="string"){if(r==="object"){if(n===null)throw new Error(ERROR);if(ARRAY_BUFFER&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(n)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var a,s=0,u,c=n.length,p=this.blocks;s<c;){if(this.hashed&&(this.hashed=!1,p[0]=this.block,p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0),e)for(u=this.start;s<c&&u<64;++s)p[u>>2]|=n[s]<<SHIFT[u++&3];else for(u=this.start;s<c&&u<64;++s)a=n.charCodeAt(s),a<128?p[u>>2]|=a<<SHIFT[u++&3]:a<2048?(p[u>>2]|=(192|a>>6)<<SHIFT[u++&3],p[u>>2]|=(128|a&63)<<SHIFT[u++&3]):a<55296||a>=57344?(p[u>>2]|=(224|a>>12)<<SHIFT[u++&3],p[u>>2]|=(128|a>>6&63)<<SHIFT[u++&3],p[u>>2]|=(128|a&63)<<SHIFT[u++&3]):(a=65536+((a&1023)<<10|n.charCodeAt(++s)&1023),p[u>>2]|=(240|a>>18)<<SHIFT[u++&3],p[u>>2]|=(128|a>>12&63)<<SHIFT[u++&3],p[u>>2]|=(128|a>>6&63)<<SHIFT[u++&3],p[u>>2]|=(128|a&63)<<SHIFT[u++&3]);this.lastByteIndex=u,this.bytes+=u-this.start,u>=64?(this.block=p[16],this.start=u-64,this.hash(),this.hashed=!0):this.start=u}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var n=this.blocks,e=this.lastByteIndex;n[16]=this.block,n[e>>2]|=EXTRA[e&3],this.block=n[16],e>=56&&(this.hashed||this.hash(),n[0]=this.block,n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),n[14]=this.hBytes<<3|this.bytes>>>29,n[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var n=this.h0,e=this.h1,r=this.h2,a=this.h3,s=this.h4,u=this.h5,c=this.h6,p=this.h7,d=this.blocks,g,y,m,S,k,L,z,Y,j,T,H;for(g=16;g<64;++g)k=d[g-15],y=(k>>>7|k<<25)^(k>>>18|k<<14)^k>>>3,k=d[g-2],m=(k>>>17|k<<15)^(k>>>19|k<<13)^k>>>10,d[g]=d[g-16]+y+d[g-7]+m<<0;for(H=e&r,g=0;g<64;g+=4)this.first?(this.is224?(Y=300032,k=d[0]-1413257819,p=k-150054599<<0,a=k+24177077<<0):(Y=704751109,k=d[0]-210244248,p=k-1521486534<<0,a=k+143694565<<0),this.first=!1):(y=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),m=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),Y=n&e,S=Y^n&r^H,z=s&u^~s&c,k=p+m+z+K[g]+d[g],L=y+S,p=a+k<<0,a=k+L<<0),y=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),m=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),j=a&n,S=j^a&e^Y,z=p&s^~p&u,k=c+m+z+K[g+1]+d[g+1],L=y+S,c=r+k<<0,r=k+L<<0,y=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),m=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),T=r&a,S=T^r&n^j,z=c&p^~c&s,k=u+m+z+K[g+2]+d[g+2],L=y+S,u=e+k<<0,e=k+L<<0,y=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),m=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),H=e&r,S=H^e&a^T,z=u&c^~u&p,k=s+m+z+K[g+3]+d[g+3],L=y+S,s=n+k<<0,n=k+L<<0;this.h0=this.h0+n<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+a<<0,this.h4=this.h4+s<<0,this.h5=this.h5+u<<0,this.h6=this.h6+c<<0,this.h7=this.h7+p<<0},Sha256.prototype.hex=function(){this.finalize();var n=this.h0,e=this.h1,r=this.h2,a=this.h3,s=this.h4,u=this.h5,c=this.h6,p=this.h7,d=HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15];return this.is224||(d+=HEX_CHARS[p>>28&15]+HEX_CHARS[p>>24&15]+HEX_CHARS[p>>20&15]+HEX_CHARS[p>>16&15]+HEX_CHARS[p>>12&15]+HEX_CHARS[p>>8&15]+HEX_CHARS[p>>4&15]+HEX_CHARS[p&15]),d},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var n=this.h0,e=this.h1,r=this.h2,a=this.h3,s=this.h4,u=this.h5,c=this.h6,p=this.h7,d=[n>>24&255,n>>16&255,n>>8&255,n&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,a>>24&255,a>>16&255,a>>8&255,a&255,s>>24&255,s>>16&255,s>>8&255,s&255,u>>24&255,u>>16&255,u>>8&255,u&255,c>>24&255,c>>16&255,c>>8&255,c&255];return this.is224||d.push(p>>24&255,p>>16&255,p>>8&255,p&255),d},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var n=new ArrayBuffer(this.is224?28:32),e=new DataView(n);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),n};function HmacSha256(n,e,r){var a,s=typeof n;if(s==="string"){var u=[],c=n.length,p=0,d;for(a=0;a<c;++a)d=n.charCodeAt(a),d<128?u[p++]=d:d<2048?(u[p++]=192|d>>6,u[p++]=128|d&63):d<55296||d>=57344?(u[p++]=224|d>>12,u[p++]=128|d>>6&63,u[p++]=128|d&63):(d=65536+((d&1023)<<10|n.charCodeAt(++a)&1023),u[p++]=240|d>>18,u[p++]=128|d>>12&63,u[p++]=128|d>>6&63,u[p++]=128|d&63);n=u}else if(s==="object"){if(n===null)throw new Error(ERROR);if(ARRAY_BUFFER&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(n)))throw new Error(ERROR)}else throw new Error(ERROR);n.length>64&&(n=new Sha256(e,!0).update(n).array());var g=[],y=[];for(a=0;a<64;++a){var m=n[a]||0;g[a]=92^m,y[a]=54^m}Sha256.call(this,e,r),this.update(y),this.oKeyPad=g,this.inner=!0,this.sharedMemory=r}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var n=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(n),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);var sha256=sha256$1.exports;if(typeof Promise=="undefined")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var loggedPromiseDeprecation=!1;function logPromiseDeprecation(){loggedPromiseDeprecation||(loggedPromiseDeprecation=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}function Keycloak(n){if(!(this instanceof Keycloak))return new Keycloak(n);for(var e=this,r,a=[],s,u={enable:!0,callbackList:[],interval:5},c=document.getElementsByTagName("script"),p=0;p<c.length;p++)(c[p].src.indexOf("keycloak.js")!==-1||c[p].src.indexOf("keycloak.min.js")!==-1)&&c[p].src.indexOf("version=")!==-1&&(e.iframeVersion=c[p].src.substring(c[p].src.indexOf("version=")+8).split("&")[0]);var d=!0,g=Ue(console.info),y=Ue(console.warn);e.init=function(x){e.authenticated=!1,s=Ne();var U=["default","cordova","cordova-native"];if(x&&U.indexOf(x.adapter)>-1?r=Ce(x.adapter):x&&typeof x.adapter=="object"?r=x.adapter:window.Cordova||window.cordova?r=Ce("cordova"):r=Ce(),x){if(typeof x.useNonce!="undefined"&&(d=x.useNonce),typeof x.checkLoginIframe!="undefined"&&(u.enable=x.checkLoginIframe),x.checkLoginIframeInterval&&(u.interval=x.checkLoginIframeInterval),x.onLoad==="login-required"&&(e.loginRequired=!0),x.responseMode)if(x.responseMode==="query"||x.responseMode==="fragment")e.responseMode=x.responseMode;else throw"Invalid value for responseMode";if(x.flow){switch(x.flow){case"standard":e.responseType="code";break;case"implicit":e.responseType="id_token token";break;case"hybrid":e.responseType="code id_token token";break;default:throw"Invalid value for flow"}e.flow=x.flow}if(x.timeSkew!=null&&(e.timeSkew=x.timeSkew),x.redirectUri&&(e.redirectUri=x.redirectUri),x.silentCheckSsoRedirectUri&&(e.silentCheckSsoRedirectUri=x.silentCheckSsoRedirectUri),typeof x.silentCheckSsoFallback=="boolean"?e.silentCheckSsoFallback=x.silentCheckSsoFallback:e.silentCheckSsoFallback=!0,x.pkceMethod){if(x.pkceMethod!=="S256")throw"Invalid value for pkceMethod";e.pkceMethod=x.pkceMethod}typeof x.enableLogging=="boolean"?e.enableLogging=x.enableLogging:e.enableLogging=!1,typeof x.scope=="string"&&(e.scope=x.scope),typeof x.messageReceiveTimeout=="number"&&x.messageReceiveTimeout>0?e.messageReceiveTimeout=x.messageReceiveTimeout:e.messageReceiveTimeout=1e4}e.responseMode||(e.responseMode="fragment"),e.responseType||(e.responseType="code",e.flow="standard");var Q=I(),te=I();te.promise.then(function(){e.onReady&&e.onReady(e.authenticated),Q.setSuccess(e.authenticated)}).catch(function(ve){Q.setError(ve)});var J=H();function G(){var ve=function(Be){Be||(Se.prompt="none"),e.login(Se).then(function(){te.setSuccess()}).catch(function(Ze){te.setError(Ze)})},ue=function(){var Be=document.createElement("iframe"),Ze=e.createLoginUrl({prompt:"none",redirectUri:e.silentCheckSsoRedirectUri});Be.setAttribute("src",Ze),Be.setAttribute("title","keycloak-silent-check-sso"),Be.style.display="none",document.body.appendChild(Be);var it=function(q){if(!(q.origin!==window.location.origin||Be.contentWindow!==q.source)){var ne=ie(q.data);T(ne,te),document.body.removeChild(Be),window.removeEventListener("message",it)}};window.addEventListener("message",it)},Se={};switch(x.onLoad){case"check-sso":u.enable?W().then(function(){se().then(function(Be){Be?te.setSuccess():e.silentCheckSsoRedirectUri?ue():ve(!1)}).catch(function(Be){te.setError(Be)})}):e.silentCheckSsoRedirectUri?ue():ve(!1);break;case"login-required":ve(!0);break;default:throw"Invalid value for onLoad"}}function re(){var ve=ie(window.location.href);if(ve&&window.history.replaceState(window.history.state,null,ve.newUrl),ve&&ve.valid)return W().then(function(){T(ve,te)}).catch(function(ue){te.setError(ue)});x?x.token&&x.refreshToken?(F(x.token,x.refreshToken,x.idToken),u.enable?W().then(function(){se().then(function(ue){ue?(e.onAuthSuccess&&e.onAuthSuccess(),te.setSuccess(),fe()):te.setSuccess()}).catch(function(ue){te.setError(ue)})}):e.updateToken(-1).then(function(){e.onAuthSuccess&&e.onAuthSuccess(),te.setSuccess()}).catch(function(ue){e.onAuthError&&e.onAuthError(),x.onLoad?G():te.setError(ue)})):x.onLoad?G():te.setSuccess():te.setSuccess()}function oe(){var ve=I(),ue=function(){(document.readyState==="interactive"||document.readyState==="complete")&&(document.removeEventListener("readystatechange",ue),ve.setSuccess())};return document.addEventListener("readystatechange",ue),ue(),ve.promise}return J.then(function(){oe().then($e).then(re).catch(function(ve){Q.setError(ve)})}),J.catch(function(ve){Q.setError(ve)}),Q.promise},e.login=function(x){return r.login(x)};function m(x){var U=null,Q=window.crypto||window.msCrypto;if(Q&&Q.getRandomValues&&window.Uint8Array)return U=new Uint8Array(x),Q.getRandomValues(U),U;U=new Array(x);for(var te=0;te<U.length;te++)U[te]=Math.floor(256*Math.random());return U}function S(x){return k(x,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function k(x,U){for(var Q=m(x),te=new Array(x),J=0;J<x;J++)te[J]=U.charCodeAt(Q[J]%U.length);return String.fromCharCode.apply(null,te)}function L(x,U){switch(x){case"S256":var Q=new Uint8Array(sha256.arrayBuffer(U)),te=base64Js.fromByteArray(Q).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return te;default:throw"Invalid value for pkceMethod"}}function z(x){var U={id_token:{acr:x}};return JSON.stringify(U)}e.createLoginUrl=function(x){var U=P(),Q=P(),te=r.redirectUri(x),J={state:U,nonce:Q,redirectUri:encodeURIComponent(te)};x&&x.prompt&&(J.prompt=x.prompt);var G;x&&x.action=="register"?G=e.endpoints.register():G=e.endpoints.authorize();var re=x&&x.scope||e.scope;re?re.indexOf("openid")===-1&&(re="openid "+re):re="openid";var oe=G+"?client_id="+encodeURIComponent(e.clientId)+"&redirect_uri="+encodeURIComponent(te)+"&state="+encodeURIComponent(U)+"&response_mode="+encodeURIComponent(e.responseMode)+"&response_type="+encodeURIComponent(e.responseType)+"&scope="+encodeURIComponent(re);if(d&&(oe=oe+"&nonce="+encodeURIComponent(Q)),x&&x.prompt&&(oe+="&prompt="+encodeURIComponent(x.prompt)),x&&x.maxAge&&(oe+="&max_age="+encodeURIComponent(x.maxAge)),x&&x.loginHint&&(oe+="&login_hint="+encodeURIComponent(x.loginHint)),x&&x.idpHint&&(oe+="&kc_idp_hint="+encodeURIComponent(x.idpHint)),x&&x.action&&x.action!="register"&&(oe+="&kc_action="+encodeURIComponent(x.action)),x&&x.locale&&(oe+="&ui_locales="+encodeURIComponent(x.locale)),x&&x.acr){var ve=z(x.acr);oe+="&claims="+encodeURIComponent(ve)}if(e.pkceMethod){var ue=S(96);J.pkceCodeVerifier=ue;var Se=L(e.pkceMethod,ue);oe+="&code_challenge="+Se,oe+="&code_challenge_method="+e.pkceMethod}return s.add(J),oe},e.logout=function(x){return r.logout(x)},e.createLogoutUrl=function(x){var U=e.endpoints.logout()+"?post_logout_redirect_uri="+encodeURIComponent(r.redirectUri(x,!1))+"&id_token_hint="+encodeURIComponent(e.idToken);return U},e.register=function(x){return r.register(x)},e.createRegisterUrl=function(x){return x||(x={}),x.action="register",e.createLoginUrl(x)},e.createAccountUrl=function(x){var U=Y(),Q=void 0;return typeof U!="undefined"&&(Q=U+"/account?referrer="+encodeURIComponent(e.clientId)+"&referrer_uri="+encodeURIComponent(r.redirectUri(x))),Q},e.accountManagement=function(){return r.accountManagement()},e.hasRealmRole=function(x){var U=e.realmAccess;return!!U&&U.roles.indexOf(x)>=0},e.hasResourceRole=function(x,U){if(!e.resourceAccess)return!1;var Q=e.resourceAccess[U||e.clientId];return!!Q&&Q.roles.indexOf(x)>=0},e.loadUserProfile=function(){var x=Y()+"/account",U=new XMLHttpRequest;U.open("GET",x,!0),U.setRequestHeader("Accept","application/json"),U.setRequestHeader("Authorization","bearer "+e.token);var Q=I();return U.onreadystatechange=function(){U.readyState==4&&(U.status==200?(e.profile=JSON.parse(U.responseText),Q.setSuccess(e.profile)):Q.setError())},U.send(),Q.promise},e.loadUserInfo=function(){var x=e.endpoints.userinfo(),U=new XMLHttpRequest;U.open("GET",x,!0),U.setRequestHeader("Accept","application/json"),U.setRequestHeader("Authorization","bearer "+e.token);var Q=I();return U.onreadystatechange=function(){U.readyState==4&&(U.status==200?(e.userInfo=JSON.parse(U.responseText),Q.setSuccess(e.userInfo)):Q.setError())},U.send(),Q.promise},e.isTokenExpired=function(x){if(!e.tokenParsed||!e.refreshToken&&e.flow!="implicit")throw"Not authenticated";if(e.timeSkew==null)return g("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var U=e.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+e.timeSkew;if(x){if(isNaN(x))throw"Invalid minValidity";U-=x}return U<0},e.updateToken=function(x){var U=I();if(!e.refreshToken)return U.setError(),U.promise;x=x||5;var Q=function(){var J=!1;if(x==-1?(J=!0,g("[KEYCLOAK] Refreshing token: forced refresh")):(!e.tokenParsed||e.isTokenExpired(x))&&(J=!0,g("[KEYCLOAK] Refreshing token: token expired")),!J)U.setSuccess(!1);else{var G="grant_type=refresh_token&refresh_token="+e.refreshToken,re=e.endpoints.token();if(a.push(U),a.length==1){var oe=new XMLHttpRequest;oe.open("POST",re,!0),oe.setRequestHeader("Content-type","application/x-www-form-urlencoded"),oe.withCredentials=!0,G+="&client_id="+encodeURIComponent(e.clientId);var ve=new Date().getTime();oe.onreadystatechange=function(){if(oe.readyState==4)if(oe.status==200){g("[KEYCLOAK] Token refreshed"),ve=(ve+new Date().getTime())/2;var ue=JSON.parse(oe.responseText);F(ue.access_token,ue.refresh_token,ue.id_token,ve),e.onAuthRefreshSuccess&&e.onAuthRefreshSuccess();for(var Se=a.pop();Se!=null;Se=a.pop())Se.setSuccess(!0)}else{y("[KEYCLOAK] Failed to refresh token"),oe.status==400&&e.clearToken(),e.onAuthRefreshError&&e.onAuthRefreshError();for(var Se=a.pop();Se!=null;Se=a.pop())Se.setError(!0)}},oe.send(G)}}};if(u.enable){var te=se();te.then(function(){Q()}).catch(function(J){U.setError(J)})}else Q();return U.promise},e.clearToken=function(){e.token&&(F(null,null,null),e.onAuthLogout&&e.onAuthLogout(),e.loginRequired&&e.login())};function Y(){if(typeof e.authServerUrl!="undefined")return e.authServerUrl.charAt(e.authServerUrl.length-1)=="/"?e.authServerUrl+"realms/"+encodeURIComponent(e.realm):e.authServerUrl+"/realms/"+encodeURIComponent(e.realm)}function j(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function T(x,U){var Q=x.code,te=x.error,J=x.prompt,G=new Date().getTime();if(x.kc_action_status&&e.onActionUpdate&&e.onActionUpdate(x.kc_action_status),te){if(J!="none"){var re={error:te,error_description:x.error_description};e.onAuthError&&e.onAuthError(re),U&&U.setError(re)}else U&&U.setSuccess();return}else e.flow!="standard"&&(x.access_token||x.id_token)&&Se(x.access_token,null,x.id_token,!0);if(e.flow!="implicit"&&Q){var oe="code="+Q+"&grant_type=authorization_code",ve=e.endpoints.token(),ue=new XMLHttpRequest;ue.open("POST",ve,!0),ue.setRequestHeader("Content-type","application/x-www-form-urlencoded"),oe+="&client_id="+encodeURIComponent(e.clientId),oe+="&redirect_uri="+x.redirectUri,x.pkceCodeVerifier&&(oe+="&code_verifier="+x.pkceCodeVerifier),ue.withCredentials=!0,ue.onreadystatechange=function(){if(ue.readyState==4)if(ue.status==200){var Be=JSON.parse(ue.responseText);Se(Be.access_token,Be.refresh_token,Be.id_token,e.flow==="standard"),fe()}else e.onAuthError&&e.onAuthError(),U&&U.setError()},ue.send(oe)}function Se(Be,Ze,it,q){G=(G+new Date().getTime())/2,F(Be,Ze,it,G),d&&(e.tokenParsed&&e.tokenParsed.nonce!=x.storedNonce||e.refreshTokenParsed&&e.refreshTokenParsed.nonce!=x.storedNonce||e.idTokenParsed&&e.idTokenParsed.nonce!=x.storedNonce)?(g("[KEYCLOAK] Invalid nonce, clearing token"),e.clearToken(),U&&U.setError()):q&&(e.onAuthSuccess&&e.onAuthSuccess(),U&&U.setSuccess())}}function H(x){var U=I(),Q;n?typeof n=="string"&&(Q=n):Q="keycloak.json";function te(ue){ue?e.endpoints={authorize:function(){return ue.authorization_endpoint},token:function(){return ue.token_endpoint},logout:function(){if(!ue.end_session_endpoint)throw"Not supported by the OIDC server";return ue.end_session_endpoint},checkSessionIframe:function(){if(!ue.check_session_iframe)throw"Not supported by the OIDC server";return ue.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!ue.userinfo_endpoint)throw"Not supported by the OIDC server";return ue.userinfo_endpoint}}:e.endpoints={authorize:function(){return Y()+"/protocol/openid-connect/auth"},token:function(){return Y()+"/protocol/openid-connect/token"},logout:function(){return Y()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var Se=Y()+"/protocol/openid-connect/login-status-iframe.html";return e.iframeVersion&&(Se=Se+"?version="+e.iframeVersion),Se},thirdPartyCookiesIframe:function(){var Se=Y()+"/protocol/openid-connect/3p-cookies/step1.html";return e.iframeVersion&&(Se=Se+"?version="+e.iframeVersion),Se},register:function(){return Y()+"/protocol/openid-connect/registrations"},userinfo:function(){return Y()+"/protocol/openid-connect/userinfo"}}}if(Q){var J=new XMLHttpRequest;J.open("GET",Q,!0),J.setRequestHeader("Accept","application/json"),J.onreadystatechange=function(){if(J.readyState==4)if(J.status==200||R(J)){var ue=JSON.parse(J.responseText);e.authServerUrl=ue["auth-server-url"],e.realm=ue.realm,e.clientId=ue.resource,te(null),U.setSuccess()}else U.setError()},J.send()}else{if(!n.clientId)throw"clientId missing";e.clientId=n.clientId;var G=n.oidcProvider;if(G)if(typeof G=="string"){var ve;G.charAt(G.length-1)=="/"?ve=G+".well-known/openid-configuration":ve=G+"/.well-known/openid-configuration";var J=new XMLHttpRequest;J.open("GET",ve,!0),J.setRequestHeader("Accept","application/json"),J.onreadystatechange=function(){if(J.readyState==4)if(J.status==200||R(J)){var Se=JSON.parse(J.responseText);te(Se),U.setSuccess()}else U.setError()},J.send()}else te(G),U.setSuccess();else{if(!n.url){for(var re=document.getElementsByTagName("script"),oe=0;oe<re.length;oe++)if(re[oe].src.match(/.*keycloak\.js/)){n.url=re[oe].src.substr(0,re[oe].src.indexOf("/js/keycloak.js"));break}}if(!n.realm)throw"realm missing";e.authServerUrl=n.url,e.realm=n.realm,te(null),U.setSuccess()}}return U.promise}function R(x){return x.status==0&&x.responseText&&x.responseURL.startsWith("file:")}function F(x,U,Q,te){if(e.tokenTimeoutHandle&&(clearTimeout(e.tokenTimeoutHandle),e.tokenTimeoutHandle=null),U?(e.refreshToken=U,e.refreshTokenParsed=O(U)):(delete e.refreshToken,delete e.refreshTokenParsed),Q?(e.idToken=Q,e.idTokenParsed=O(Q)):(delete e.idToken,delete e.idTokenParsed),x){if(e.token=x,e.tokenParsed=O(x),e.sessionId=e.tokenParsed.session_state,e.authenticated=!0,e.subject=e.tokenParsed.sub,e.realmAccess=e.tokenParsed.realm_access,e.resourceAccess=e.tokenParsed.resource_access,te&&(e.timeSkew=Math.floor(te/1e3)-e.tokenParsed.iat),e.timeSkew!=null&&(g("[KEYCLOAK] Estimated time difference between browser and server is "+e.timeSkew+" seconds"),e.onTokenExpired)){var J=(e.tokenParsed.exp-new Date().getTime()/1e3+e.timeSkew)*1e3;g("[KEYCLOAK] Token expires in "+Math.round(J/1e3)+" s"),J<=0?e.onTokenExpired():e.tokenTimeoutHandle=setTimeout(e.onTokenExpired,J)}}else delete e.token,delete e.tokenParsed,delete e.subject,delete e.realmAccess,delete e.resourceAccess,e.authenticated=!1}function O(x){switch(x=x.split(".")[1],x=x.replace(/-/g,"+"),x=x.replace(/_/g,"/"),x.length%4){case 0:break;case 2:x+="==";break;case 3:x+="=";break;default:throw"Invalid token"}return x=decodeURIComponent(escape(atob(x))),x=JSON.parse(x),x}function P(){var x="0123456789abcdef",U=k(36,x).split("");U[14]="4",U[19]=x.substr(U[19]&3|8,1),U[8]=U[13]=U[18]=U[23]="-";var Q=U.join("");return Q}function ie(x){var U=ae(x);if(!!U){var Q=s.get(U.state);return Q&&(U.valid=!0,U.redirectUri=Q.redirectUri,U.storedNonce=Q.nonce,U.prompt=Q.prompt,U.pkceCodeVerifier=Q.pkceCodeVerifier),U}}function ae(x){var U;switch(e.flow){case"standard":U=["code","state","session_state","kc_action_status"];break;case"implicit":U=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":U=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"];break}U.push("error"),U.push("error_description"),U.push("error_uri");var Q=x.indexOf("?"),te=x.indexOf("#"),J,G;if(e.responseMode==="query"&&Q!==-1?(J=x.substring(0,Q),G=M(x.substring(Q+1,te!==-1?te:x.length),U),G.paramsString!==""&&(J+="?"+G.paramsString),te!==-1&&(J+=x.substring(te))):e.responseMode==="fragment"&&te!==-1&&(J=x.substring(0,te),G=M(x.substring(te+1),U),G.paramsString!==""&&(J+="#"+G.paramsString)),G&&G.oauthParams){if(e.flow==="standard"||e.flow==="hybrid"){if((G.oauthParams.code||G.oauthParams.error)&&G.oauthParams.state)return G.oauthParams.newUrl=J,G.oauthParams}else if(e.flow==="implicit"&&(G.oauthParams.access_token||G.oauthParams.error)&&G.oauthParams.state)return G.oauthParams.newUrl=J,G.oauthParams}}function M(x,U){for(var Q=x.split("&"),te={paramsString:"",oauthParams:{}},J=0;J<Q.length;J++){var G=Q[J].indexOf("="),re=Q[J].slice(0,G);U.indexOf(re)!==-1?te.oauthParams[re]=Q[J].slice(G+1):(te.paramsString!==""&&(te.paramsString+="&"),te.paramsString+=Q[J])}return te}function I(){var x={setSuccess:function(U){x.resolve(U)},setError:function(U){x.reject(U)}};return x.promise=new Promise(function(U,Q){x.resolve=U,x.reject=Q}),x.promise.success=function(U){return logPromiseDeprecation(),this.then(function(te){U(te)}),this},x.promise.error=function(U){return logPromiseDeprecation(),this.catch(function(te){U(te)}),this},x}function X(x,U,Q){var te=null,J=new Promise(function(G,re){te=setTimeout(function(){re({error:Q||"Promise is not settled within timeout of "+U+"ms"})},U)});return Promise.race([x,J]).finally(function(){clearTimeout(te)})}function W(){var x=I();if(!u.enable||u.iframe)return x.setSuccess(),x.promise;var U=document.createElement("iframe");u.iframe=U,U.onload=function(){var J=e.endpoints.authorize();J.charAt(0)==="/"?u.iframeOrigin=j():u.iframeOrigin=J.substring(0,J.indexOf("/",8)),x.setSuccess()};var Q=e.endpoints.checkSessionIframe();U.setAttribute("src",Q),U.setAttribute("title","keycloak-session-iframe"),U.style.display="none",document.body.appendChild(U);var te=function(J){if(!(J.origin!==u.iframeOrigin||u.iframe.contentWindow!==J.source)&&(J.data=="unchanged"||J.data=="changed"||J.data=="error")){J.data!="unchanged"&&e.clearToken();for(var G=u.callbackList.splice(0,u.callbackList.length),re=G.length-1;re>=0;--re){var oe=G[re];J.data=="error"?oe.setError():oe.setSuccess(J.data=="unchanged")}}};return window.addEventListener("message",te,!1),x.promise}function fe(){u.enable&&e.token&&setTimeout(function(){se().then(function(x){x&&fe()})},u.interval*1e3)}function se(){var x=I();if(u.iframe&&u.iframeOrigin){var U=e.clientId+" "+(e.sessionId?e.sessionId:"");u.callbackList.push(x);var Q=u.iframeOrigin;u.callbackList.length==1&&u.iframe.contentWindow.postMessage(U,Q)}else x.setSuccess();return x.promise}function $e(){var x=I();if(u.enable||e.silentCheckSsoRedirectUri){var U=document.createElement("iframe");U.setAttribute("src",e.endpoints.thirdPartyCookiesIframe()),U.setAttribute("title","keycloak-3p-check-iframe"),U.style.display="none",document.body.appendChild(U);var Q=function(te){U.contentWindow===te.source&&(te.data!=="supported"&&te.data!=="unsupported"||(te.data==="unsupported"&&(u.enable=!1,e.silentCheckSsoFallback&&(e.silentCheckSsoRedirectUri=!1),y("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(U),window.removeEventListener("message",Q),x.setSuccess()))};window.addEventListener("message",Q,!1)}else x.setSuccess();return X(x.promise,e.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function Ce(x){if(!x||x=="default")return{login:function(G){return window.location.replace(e.createLoginUrl(G)),I().promise},logout:function(G){return window.location.replace(e.createLogoutUrl(G)),I().promise},register:function(G){return window.location.replace(e.createRegisterUrl(G)),I().promise},accountManagement:function(){var G=e.createAccountUrl();if(typeof G!="undefined")window.location.href=G;else throw"Not supported by the OIDC server";return I().promise},redirectUri:function(G,re){return G&&G.redirectUri?G.redirectUri:e.redirectUri?e.redirectUri:location.href}};if(x=="cordova"){u.enable=!1;var U=function(G,re,oe){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(G,re,oe):window.open(G,re,oe)},Q=function(G){return G&&G.cordovaOptions?Object.keys(G.cordovaOptions).reduce(function(re,oe){return re[oe]=G.cordovaOptions[oe],re},{}):{}},te=function(G){return Object.keys(G).reduce(function(re,oe){return re.push(oe+"="+G[oe]),re},[]).join(",")},J=function(G){var re=Q(G);return re.location="no",G&&G.prompt=="none"&&(re.hidden="yes"),te(re)};return{login:function(G){var re=I(),oe=J(G),ve=e.createLoginUrl(G),ue=U(ve,"_blank",oe),Se=!1,Be=!1,Ze=function(){Be=!0,ue.close()};return ue.addEventListener("loadstart",function(it){if(it.url.indexOf("http://localhost")==0){var q=ie(it.url);T(q,re),Ze(),Se=!0}}),ue.addEventListener("loaderror",function(it){if(!Se)if(it.url.indexOf("http://localhost")==0){var q=ie(it.url);T(q,re),Ze(),Se=!0}else re.setError(),Ze()}),ue.addEventListener("exit",function(it){Be||re.setError({reason:"closed_by_user"})}),re.promise},logout:function(G){var re=I(),oe=e.createLogoutUrl(G),ve=U(oe,"_blank","location=no,hidden=yes,clearcache=yes"),ue;return ve.addEventListener("loadstart",function(Se){Se.url.indexOf("http://localhost")==0&&ve.close()}),ve.addEventListener("loaderror",function(Se){Se.url.indexOf("http://localhost")==0||(ue=!0),ve.close()}),ve.addEventListener("exit",function(Se){ue?re.setError():(e.clearToken(),re.setSuccess())}),re.promise},register:function(G){var re=I(),oe=e.createRegisterUrl(),ve=J(G),ue=U(oe,"_blank",ve);return ue.addEventListener("loadstart",function(Se){if(Se.url.indexOf("http://localhost")==0){ue.close();var Be=ie(Se.url);T(Be,re)}}),re.promise},accountManagement:function(){var G=e.createAccountUrl();if(typeof G!="undefined"){var re=U(G,"_blank","location=no");re.addEventListener("loadstart",function(oe){oe.url.indexOf("http://localhost")==0&&re.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(G){return"http://localhost"}}}if(x=="cordova-native")return u.enable=!1,{login:function(G){var re=I(),oe=e.createLoginUrl(G);return universalLinks.subscribe("keycloak",function(ve){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var ue=ie(ve.url);T(ue,re)}),window.cordova.plugins.browsertab.openUrl(oe),re.promise},logout:function(G){var re=I(),oe=e.createLogoutUrl(G);return universalLinks.subscribe("keycloak",function(ve){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),e.clearToken(),re.setSuccess()}),window.cordova.plugins.browsertab.openUrl(oe),re.promise},register:function(G){var re=I(),oe=e.createRegisterUrl(G);return universalLinks.subscribe("keycloak",function(ve){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var ue=ie(ve.url);T(ue,re)}),window.cordova.plugins.browsertab.openUrl(oe),re.promise},accountManagement:function(){var G=e.createAccountUrl();if(typeof G!="undefined")window.cordova.plugins.browsertab.openUrl(G);else throw"Not supported by the OIDC server"},redirectUri:function(G){return G&&G.redirectUri?G.redirectUri:e.redirectUri?e.redirectUri:"http://localhost"}};throw"invalid adapter type: "+x}var Ie=function(){if(!(this instanceof Ie))return new Ie;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var x=this;function U(){for(var Q=new Date().getTime(),te=0;te<localStorage.length;te++){var J=localStorage.key(te);if(J&&J.indexOf("kc-callback-")==0){var G=localStorage.getItem(J);if(G)try{var re=JSON.parse(G).expires;(!re||re<Q)&&localStorage.removeItem(J)}catch{localStorage.removeItem(J)}}}}x.get=function(Q){if(!!Q){var te="kc-callback-"+Q,J=localStorage.getItem(te);return J&&(localStorage.removeItem(te),J=JSON.parse(J)),U(),J}},x.add=function(Q){U();var te="kc-callback-"+Q.state;Q.expires=new Date().getTime()+60*60*1e3,localStorage.setItem(te,JSON.stringify(Q))}},Fe=function(){if(!(this instanceof Fe))return new Fe;var x=this;x.get=function(J){if(!!J){var G=Q("kc-callback-"+J);if(te("kc-callback-"+J,"",U(-100)),G)return JSON.parse(G)}},x.add=function(J){te("kc-callback-"+J.state,JSON.stringify(J),U(60))},x.removeItem=function(J){te(J,"",U(-100))};var U=function(J){var G=new Date;return G.setTime(G.getTime()+J*60*1e3),G},Q=function(J){for(var G=J+"=",re=document.cookie.split(";"),oe=0;oe<re.length;oe++){for(var ve=re[oe];ve.charAt(0)==" ";)ve=ve.substring(1);if(ve.indexOf(G)==0)return ve.substring(G.length,ve.length)}return""},te=function(J,G,re){var oe=J+"="+G+"; expires="+re.toUTCString()+"; ";document.cookie=oe}};function Ne(){try{return new Ie}catch{}return new Fe}function Ue(x){return function(){e.enableLogging&&x.apply(console,Array.prototype.slice.call(arguments))}}}/*! js-cookie v3.0.1 | MIT */function assign(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)n[a]=r[a]}return n}var defaultConverter={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(n,e){function r(s,u,c){if(typeof document!="undefined"){c=assign({},e,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var p="";for(var d in c)!c[d]||(p+="; "+d,c[d]!==!0&&(p+="="+c[d].split(";")[0]));return document.cookie=s+"="+n.write(u,s)+p}}function a(s){if(!(typeof document=="undefined"||arguments.length&&!s)){for(var u=document.cookie?document.cookie.split("; "):[],c={},p=0;p<u.length;p++){var d=u[p].split("="),g=d.slice(1).join("=");try{var y=decodeURIComponent(d[0]);if(c[y]=n.read(g,y),s===y)break}catch{}}return s?c[s]:c}}return Object.create({set:r,get:a,remove:function(s,u){r(s,"",assign({},u,{expires:-1}))},withAttributes:function(s){return init(this.converter,assign({},this.attributes,s))},withConverter:function(s){return init(assign({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var api=init(defaultConverter,{path:"/"});const isAuthenticated=writable(!1),profile=writable(!1);let keycloak={};const configureAuthClient=async()=>new Promise((n,e)=>{keycloak=new Keycloak({url:"https://hello.undersco.re/auth/",realm:"undersco_re",clientId:"underscore_openeyebeam"}),keycloak.init({}).then(r=>{isAuthenticated.set(r),r?(console.log("Authenticated"),api.set("open-eyebeam-logged-in",!0),keycloak.loadUserProfile().then(async a=>{console.log("p",a);const s=await updateUser(a);profile.set(s)}).catch(()=>{errorLogger("Failed to load user profile")}).finally(()=>{n()})):n()}).catch(r=>{console.log("error in auth ->",r),e(r)})}),login=async()=>{keycloak.login({redirectUri:window.location.origin})},logout=()=>{api.remove("open-eyebeam-logged-in"),keycloak.logout({redirectUri:window.location.origin})},updateUser=n=>new Promise(async(e,r)=>{const a=new Headers;a.append("Content-Type","application/json");const s={method:"POST",headers:a,body:JSON.stringify(n),redirect:"follow"},u=await fetch("/api/update-user",s);if(!u.ok){const p=`An error has occured: ${u.status}`;throw new Error(p)}const c=await u.json();e(c)});var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var r,a="4.17.21",s=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",p="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",g=500,y="__lodash_placeholder__",m=1,S=2,k=4,L=1,z=2,Y=1,j=2,T=4,H=8,R=16,F=32,O=64,P=128,ie=256,ae=512,M=30,I="...",X=800,W=16,fe=1,se=2,$e=3,Ce=1/0,Ie=9007199254740991,Fe=17976931348623157e292,Ne=0/0,Ue=4294967295,x=Ue-1,U=Ue>>>1,Q=[["ary",P],["bind",Y],["bindKey",j],["curry",H],["curryRight",R],["flip",ae],["partial",F],["partialRight",O],["rearg",ie]],te="[object Arguments]",J="[object Array]",G="[object AsyncFunction]",re="[object Boolean]",oe="[object Date]",ve="[object DOMException]",ue="[object Error]",Se="[object Function]",Be="[object GeneratorFunction]",Ze="[object Map]",it="[object Number]",q="[object Null]",ne="[object Object]",he="[object Promise]",le="[object Proxy]",ye="[object RegExp]",pe="[object Set]",Ee="[object String]",ze="[object Symbol]",Pe="[object Undefined]",Me="[object WeakMap]",Ge="[object WeakSet]",we="[object ArrayBuffer]",je="[object DataView]",Ct="[object Float32Array]",Qt="[object Float64Array]",ct="[object Int8Array]",ot="[object Int16Array]",mt="[object Int32Array]",Vt="[object Uint8Array]",cr="[object Uint8ClampedArray]",Tt="[object Uint16Array]",fr="[object Uint32Array]",ft=/\b__p \+= '';/g,Gr=/\b(__p \+=) '' \+/g,er=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cn=/&(?:amp|lt|gt|quot|#39);/g,fn=/[&<>"']/g,dn=RegExp(cn.source),Yr=RegExp(fn.source),$r=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,Qe=/<%=([\s\S]+?)%>/g,_t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bt=/^\w*$/,dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tt=/[\\^$.*+?()[\]{}|]/g,Bt=RegExp(tt.source),Ot=/^\s+/,dr=/\s/,Hs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ns=/\{\n\/\* \[wrapped with (.+)\] \*/,js=/,? & /,Ws=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bs=/[()=,{}\[\]\/\s]/,zs=/\\(\\)?/g,Gs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fa=/\w*$/,Ys=/^[-+]0x[0-9a-f]+$/i,Xs=/^0b[01]+$/i,Vs=/^\[object .+?Constructor\]$/,Ks=/^0o[0-7]+$/i,Zs=/^(?:0|[1-9]\d*)$/,Js=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hn=/($^)/,Qs=/['\n\r\u2028\u2029\\]/g,pn="\\ud800-\\udfff",eu="\\u0300-\\u036f",tu="\\ufe20-\\ufe2f",ru="\\u20d0-\\u20ff",da=eu+tu+ru,ha="\\u2700-\\u27bf",pa="a-z\\xdf-\\xf6\\xf8-\\xff",nu="\\xac\\xb1\\xd7\\xf7",iu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",au="\\u2000-\\u206f",ou=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",va="A-Z\\xc0-\\xd6\\xd8-\\xde",ga="\\ufe0e\\ufe0f",ma=nu+iu+au+ou,ti="['\u2019]",su="["+pn+"]",_a="["+ma+"]",vn="["+da+"]",ba="\\d+",uu="["+ha+"]",ya="["+pa+"]",wa="[^"+pn+ma+ba+ha+pa+va+"]",ri="\\ud83c[\\udffb-\\udfff]",lu="(?:"+vn+"|"+ri+")",$a="[^"+pn+"]",ni="(?:\\ud83c[\\udde6-\\uddff]){2}",ii="[\\ud800-\\udbff][\\udc00-\\udfff]",Rr="["+va+"]",Sa="\\u200d",xa="(?:"+ya+"|"+wa+")",cu="(?:"+Rr+"|"+wa+")",Ea="(?:"+ti+"(?:d|ll|m|re|s|t|ve))?",ka="(?:"+ti+"(?:D|LL|M|RE|S|T|VE))?",Ca=lu+"?",Ta="["+ga+"]?",fu="(?:"+Sa+"(?:"+[$a,ni,ii].join("|")+")"+Ta+Ca+")*",du="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Oa=Ta+Ca+fu,pu="(?:"+[uu,ni,ii].join("|")+")"+Oa,vu="(?:"+[$a+vn+"?",vn,ni,ii,su].join("|")+")",gu=RegExp(ti,"g"),mu=RegExp(vn,"g"),ai=RegExp(ri+"(?="+ri+")|"+vu+Oa,"g"),_u=RegExp([Rr+"?"+ya+"+"+Ea+"(?="+[_a,Rr,"$"].join("|")+")",cu+"+"+ka+"(?="+[_a,Rr+xa,"$"].join("|")+")",Rr+"?"+xa+"+"+Ea,Rr+"+"+ka,hu,du,ba,pu].join("|"),"g"),bu=RegExp("["+Sa+pn+da+ga+"]"),yu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$u=-1,Ve={};Ve[Ct]=Ve[Qt]=Ve[ct]=Ve[ot]=Ve[mt]=Ve[Vt]=Ve[cr]=Ve[Tt]=Ve[fr]=!0,Ve[te]=Ve[J]=Ve[we]=Ve[re]=Ve[je]=Ve[oe]=Ve[ue]=Ve[Se]=Ve[Ze]=Ve[it]=Ve[ne]=Ve[ye]=Ve[pe]=Ve[Ee]=Ve[Me]=!1;var Xe={};Xe[te]=Xe[J]=Xe[we]=Xe[je]=Xe[re]=Xe[oe]=Xe[Ct]=Xe[Qt]=Xe[ct]=Xe[ot]=Xe[mt]=Xe[Ze]=Xe[it]=Xe[ne]=Xe[ye]=Xe[pe]=Xe[Ee]=Xe[ze]=Xe[Vt]=Xe[cr]=Xe[Tt]=Xe[fr]=!0,Xe[ue]=Xe[Se]=Xe[Me]=!1;var Su={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},xu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Eu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ku={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cu=parseFloat,Tu=parseInt,Aa=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ou=typeof self=="object"&&self&&self.Object===Object&&self,ht=Aa||Ou||Function("return this")(),oi=e&&!e.nodeType&&e,Sr=oi&&!0&&n&&!n.nodeType&&n,Ia=Sr&&Sr.exports===oi,si=Ia&&Aa.process,Mt=function(){try{var A=Sr&&Sr.require&&Sr.require("util").types;return A||si&&si.binding&&si.binding("util")}catch{}}(),Ra=Mt&&Mt.isArrayBuffer,Pa=Mt&&Mt.isDate,Da=Mt&&Mt.isMap,Ua=Mt&&Mt.isRegExp,Ma=Mt&&Mt.isSet,La=Mt&&Mt.isTypedArray;function At(A,B,N){switch(N.length){case 0:return A.call(B);case 1:return A.call(B,N[0]);case 2:return A.call(B,N[0],N[1]);case 3:return A.call(B,N[0],N[1],N[2])}return A.apply(B,N)}function Au(A,B,N,de){for(var xe=-1,He=A==null?0:A.length;++xe<He;){var st=A[xe];B(de,st,N(st),A)}return de}function Lt(A,B){for(var N=-1,de=A==null?0:A.length;++N<de&&B(A[N],N,A)!==!1;);return A}function Iu(A,B){for(var N=A==null?0:A.length;N--&&B(A[N],N,A)!==!1;);return A}function Fa(A,B){for(var N=-1,de=A==null?0:A.length;++N<de;)if(!B(A[N],N,A))return!1;return!0}function hr(A,B){for(var N=-1,de=A==null?0:A.length,xe=0,He=[];++N<de;){var st=A[N];B(st,N,A)&&(He[xe++]=st)}return He}function gn(A,B){var N=A==null?0:A.length;return!!N&&Pr(A,B,0)>-1}function ui(A,B,N){for(var de=-1,xe=A==null?0:A.length;++de<xe;)if(N(B,A[de]))return!0;return!1}function Ke(A,B){for(var N=-1,de=A==null?0:A.length,xe=Array(de);++N<de;)xe[N]=B(A[N],N,A);return xe}function pr(A,B){for(var N=-1,de=B.length,xe=A.length;++N<de;)A[xe+N]=B[N];return A}function li(A,B,N,de){var xe=-1,He=A==null?0:A.length;for(de&&He&&(N=A[++xe]);++xe<He;)N=B(N,A[xe],xe,A);return N}function Ru(A,B,N,de){var xe=A==null?0:A.length;for(de&&xe&&(N=A[--xe]);xe--;)N=B(N,A[xe],xe,A);return N}function ci(A,B){for(var N=-1,de=A==null?0:A.length;++N<de;)if(B(A[N],N,A))return!0;return!1}var Pu=fi("length");function Du(A){return A.split("")}function Uu(A){return A.match(Ws)||[]}function Ha(A,B,N){var de;return N(A,function(xe,He,st){if(B(xe,He,st))return de=He,!1}),de}function mn(A,B,N,de){for(var xe=A.length,He=N+(de?1:-1);de?He--:++He<xe;)if(B(A[He],He,A))return He;return-1}function Pr(A,B,N){return B===B?Yu(A,B,N):mn(A,Na,N)}function Mu(A,B,N,de){for(var xe=N-1,He=A.length;++xe<He;)if(de(A[xe],B))return xe;return-1}function Na(A){return A!==A}function ja(A,B){var N=A==null?0:A.length;return N?hi(A,B)/N:Ne}function fi(A){return function(B){return B==null?r:B[A]}}function di(A){return function(B){return A==null?r:A[B]}}function qa(A,B,N,de,xe){return xe(A,function(He,st,Ye){N=de?(de=!1,He):B(N,He,st,Ye)}),N}function Lu(A,B){var N=A.length;for(A.sort(B);N--;)A[N]=A[N].value;return A}function hi(A,B){for(var N,de=-1,xe=A.length;++de<xe;){var He=B(A[de]);He!==r&&(N=N===r?He:N+He)}return N}function pi(A,B){for(var N=-1,de=Array(A);++N<A;)de[N]=B(N);return de}function Fu(A,B){return Ke(B,function(N){return[N,A[N]]})}function Wa(A){return A&&A.slice(0,Ya(A)+1).replace(Ot,"")}function It(A){return function(B){return A(B)}}function vi(A,B){return Ke(B,function(N){return A[N]})}function Xr(A,B){return A.has(B)}function Ba(A,B){for(var N=-1,de=A.length;++N<de&&Pr(B,A[N],0)>-1;);return N}function za(A,B){for(var N=A.length;N--&&Pr(B,A[N],0)>-1;);return N}function Hu(A,B){for(var N=A.length,de=0;N--;)A[N]===B&&++de;return de}var Nu=di(Su),ju=di(xu);function qu(A){return"\\"+ku[A]}function Wu(A,B){return A==null?r:A[B]}function Dr(A){return bu.test(A)}function Bu(A){return yu.test(A)}function zu(A){for(var B,N=[];!(B=A.next()).done;)N.push(B.value);return N}function gi(A){var B=-1,N=Array(A.size);return A.forEach(function(de,xe){N[++B]=[xe,de]}),N}function Ga(A,B){return function(N){return A(B(N))}}function vr(A,B){for(var N=-1,de=A.length,xe=0,He=[];++N<de;){var st=A[N];(st===B||st===y)&&(A[N]=y,He[xe++]=N)}return He}function _n(A){var B=-1,N=Array(A.size);return A.forEach(function(de){N[++B]=de}),N}function Gu(A){var B=-1,N=Array(A.size);return A.forEach(function(de){N[++B]=[de,de]}),N}function Yu(A,B,N){for(var de=N-1,xe=A.length;++de<xe;)if(A[de]===B)return de;return-1}function Xu(A,B,N){for(var de=N+1;de--;)if(A[de]===B)return de;return de}function Ur(A){return Dr(A)?Ku(A):Pu(A)}function zt(A){return Dr(A)?Zu(A):Du(A)}function Ya(A){for(var B=A.length;B--&&dr.test(A.charAt(B)););return B}var Vu=di(Eu);function Ku(A){for(var B=ai.lastIndex=0;ai.test(A);)++B;return B}function Zu(A){return A.match(ai)||[]}function Ju(A){return A.match(_u)||[]}var Qu=function A(B){B=B==null?ht:Mr.defaults(ht.Object(),B,Mr.pick(ht,wu));var N=B.Array,de=B.Date,xe=B.Error,He=B.Function,st=B.Math,Ye=B.Object,mi=B.RegExp,el=B.String,Ft=B.TypeError,bn=N.prototype,tl=He.prototype,Lr=Ye.prototype,yn=B["__core-js_shared__"],wn=tl.toString,We=Lr.hasOwnProperty,rl=0,Xa=function(){var t=/[^.]+$/.exec(yn&&yn.keys&&yn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),$n=Lr.toString,nl=wn.call(Ye),il=ht._,al=mi("^"+wn.call(We).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sn=Ia?B.Buffer:r,gr=B.Symbol,xn=B.Uint8Array,Va=Sn?Sn.allocUnsafe:r,En=Ga(Ye.getPrototypeOf,Ye),Ka=Ye.create,Za=Lr.propertyIsEnumerable,kn=bn.splice,Ja=gr?gr.isConcatSpreadable:r,Vr=gr?gr.iterator:r,xr=gr?gr.toStringTag:r,Cn=function(){try{var t=Or(Ye,"defineProperty");return t({},"",{}),t}catch{}}(),ol=B.clearTimeout!==ht.clearTimeout&&B.clearTimeout,sl=de&&de.now!==ht.Date.now&&de.now,ul=B.setTimeout!==ht.setTimeout&&B.setTimeout,Tn=st.ceil,On=st.floor,_i=Ye.getOwnPropertySymbols,ll=Sn?Sn.isBuffer:r,eo=B.isFinite,cl=bn.join,fl=Ga(Ye.keys,Ye),ut=st.max,vt=st.min,dl=de.now,hl=B.parseInt,to=st.random,pl=bn.reverse,bi=Or(B,"DataView"),Kr=Or(B,"Map"),yi=Or(B,"Promise"),Fr=Or(B,"Set"),Zr=Or(B,"WeakMap"),Jr=Or(Ye,"create"),An=Zr&&new Zr,Hr={},vl=Ar(bi),gl=Ar(Kr),ml=Ar(yi),_l=Ar(Fr),bl=Ar(Zr),In=gr?gr.prototype:r,Qr=In?In.valueOf:r,ro=In?In.toString:r;function b(t){if(et(t)&&!ke(t)&&!(t instanceof De)){if(t instanceof Ht)return t;if(We.call(t,"__wrapped__"))return is(t)}return new Ht(t)}var Nr=function(){function t(){}return function(o){if(!Je(o))return{};if(Ka)return Ka(o);t.prototype=o;var l=new t;return t.prototype=r,l}}();function Rn(){}function Ht(t,o){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=r}b.templateSettings={escape:$r,evaluate:at,interpolate:Qe,variable:"",imports:{_:b}},b.prototype=Rn.prototype,b.prototype.constructor=b,Ht.prototype=Nr(Rn.prototype),Ht.prototype.constructor=Ht;function De(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ue,this.__views__=[]}function yl(){var t=new De(this.__wrapped__);return t.__actions__=St(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=St(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=St(this.__views__),t}function wl(){if(this.__filtered__){var t=new De(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function $l(){var t=this.__wrapped__.value(),o=this.__dir__,l=ke(t),f=o<0,v=l?t.length:0,$=Dc(0,v,this.__views__),E=$.start,C=$.end,D=C-E,V=f?C:E-1,Z=this.__iteratees__,ee=Z.length,ce=0,ge=vt(D,this.__takeCount__);if(!l||!f&&v==D&&ge==D)return Co(t,this.__actions__);var _e=[];e:for(;D--&&ce<ge;){V+=o;for(var Oe=-1,be=t[V];++Oe<ee;){var Re=Z[Oe],Le=Re.iteratee,Dt=Re.type,$t=Le(be);if(Dt==se)be=$t;else if(!$t){if(Dt==fe)continue e;break e}}_e[ce++]=be}return _e}De.prototype=Nr(Rn.prototype),De.prototype.constructor=De;function Er(t){var o=-1,l=t==null?0:t.length;for(this.clear();++o<l;){var f=t[o];this.set(f[0],f[1])}}function Sl(){this.__data__=Jr?Jr(null):{},this.size=0}function xl(t){var o=this.has(t)&&delete this.__data__[t];return this.size-=o?1:0,o}function El(t){var o=this.__data__;if(Jr){var l=o[t];return l===d?r:l}return We.call(o,t)?o[t]:r}function kl(t){var o=this.__data__;return Jr?o[t]!==r:We.call(o,t)}function Cl(t,o){var l=this.__data__;return this.size+=this.has(t)?0:1,l[t]=Jr&&o===r?d:o,this}Er.prototype.clear=Sl,Er.prototype.delete=xl,Er.prototype.get=El,Er.prototype.has=kl,Er.prototype.set=Cl;function tr(t){var o=-1,l=t==null?0:t.length;for(this.clear();++o<l;){var f=t[o];this.set(f[0],f[1])}}function Tl(){this.__data__=[],this.size=0}function Ol(t){var o=this.__data__,l=Pn(o,t);if(l<0)return!1;var f=o.length-1;return l==f?o.pop():kn.call(o,l,1),--this.size,!0}function Al(t){var o=this.__data__,l=Pn(o,t);return l<0?r:o[l][1]}function Il(t){return Pn(this.__data__,t)>-1}function Rl(t,o){var l=this.__data__,f=Pn(l,t);return f<0?(++this.size,l.push([t,o])):l[f][1]=o,this}tr.prototype.clear=Tl,tr.prototype.delete=Ol,tr.prototype.get=Al,tr.prototype.has=Il,tr.prototype.set=Rl;function rr(t){var o=-1,l=t==null?0:t.length;for(this.clear();++o<l;){var f=t[o];this.set(f[0],f[1])}}function Pl(){this.size=0,this.__data__={hash:new Er,map:new(Kr||tr),string:new Er}}function Dl(t){var o=zn(this,t).delete(t);return this.size-=o?1:0,o}function Ul(t){return zn(this,t).get(t)}function Ml(t){return zn(this,t).has(t)}function Ll(t,o){var l=zn(this,t),f=l.size;return l.set(t,o),this.size+=l.size==f?0:1,this}rr.prototype.clear=Pl,rr.prototype.delete=Dl,rr.prototype.get=Ul,rr.prototype.has=Ml,rr.prototype.set=Ll;function kr(t){var o=-1,l=t==null?0:t.length;for(this.__data__=new rr;++o<l;)this.add(t[o])}function Fl(t){return this.__data__.set(t,d),this}function Hl(t){return this.__data__.has(t)}kr.prototype.add=kr.prototype.push=Fl,kr.prototype.has=Hl;function Gt(t){var o=this.__data__=new tr(t);this.size=o.size}function Nl(){this.__data__=new tr,this.size=0}function jl(t){var o=this.__data__,l=o.delete(t);return this.size=o.size,l}function ql(t){return this.__data__.get(t)}function Wl(t){return this.__data__.has(t)}function Bl(t,o){var l=this.__data__;if(l instanceof tr){var f=l.__data__;if(!Kr||f.length<s-1)return f.push([t,o]),this.size=++l.size,this;l=this.__data__=new rr(f)}return l.set(t,o),this.size=l.size,this}Gt.prototype.clear=Nl,Gt.prototype.delete=jl,Gt.prototype.get=ql,Gt.prototype.has=Wl,Gt.prototype.set=Bl;function no(t,o){var l=ke(t),f=!l&&Ir(t),v=!l&&!f&&wr(t),$=!l&&!f&&!v&&Br(t),E=l||f||v||$,C=E?pi(t.length,el):[],D=C.length;for(var V in t)(o||We.call(t,V))&&!(E&&(V=="length"||v&&(V=="offset"||V=="parent")||$&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||or(V,D)))&&C.push(V);return C}function io(t){var o=t.length;return o?t[Ii(0,o-1)]:r}function zl(t,o){return Gn(St(t),Cr(o,0,t.length))}function Gl(t){return Gn(St(t))}function wi(t,o,l){(l!==r&&!Yt(t[o],l)||l===r&&!(o in t))&&nr(t,o,l)}function en(t,o,l){var f=t[o];(!(We.call(t,o)&&Yt(f,l))||l===r&&!(o in t))&&nr(t,o,l)}function Pn(t,o){for(var l=t.length;l--;)if(Yt(t[l][0],o))return l;return-1}function Yl(t,o,l,f){return mr(t,function(v,$,E){o(f,v,l(v),E)}),f}function ao(t,o){return t&&Zt(o,lt(o),t)}function Xl(t,o){return t&&Zt(o,Et(o),t)}function nr(t,o,l){o=="__proto__"&&Cn?Cn(t,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):t[o]=l}function $i(t,o){for(var l=-1,f=o.length,v=N(f),$=t==null;++l<f;)v[l]=$?r:ra(t,o[l]);return v}function Cr(t,o,l){return t===t&&(l!==r&&(t=t<=l?t:l),o!==r&&(t=t>=o?t:o)),t}function Nt(t,o,l,f,v,$){var E,C=o&m,D=o&S,V=o&k;if(l&&(E=v?l(t,f,v,$):l(t)),E!==r)return E;if(!Je(t))return t;var Z=ke(t);if(Z){if(E=Mc(t),!C)return St(t,E)}else{var ee=gt(t),ce=ee==Se||ee==Be;if(wr(t))return Ao(t,C);if(ee==ne||ee==te||ce&&!v){if(E=D||ce?{}:Vo(t),!C)return D?Ec(t,Xl(E,t)):xc(t,ao(E,t))}else{if(!Xe[ee])return v?t:{};E=Lc(t,ee,C)}}$||($=new Gt);var ge=$.get(t);if(ge)return ge;$.set(t,E),xs(t)?t.forEach(function(be){E.add(Nt(be,o,l,be,t,$))}):$s(t)&&t.forEach(function(be,Re){E.set(Re,Nt(be,o,l,Re,t,$))});var _e=V?D?qi:ji:D?Et:lt,Oe=Z?r:_e(t);return Lt(Oe||t,function(be,Re){Oe&&(Re=be,be=t[Re]),en(E,Re,Nt(be,o,l,Re,t,$))}),E}function Vl(t){var o=lt(t);return function(l){return oo(l,t,o)}}function oo(t,o,l){var f=l.length;if(t==null)return!f;for(t=Ye(t);f--;){var v=l[f],$=o[v],E=t[v];if(E===r&&!(v in t)||!$(E))return!1}return!0}function so(t,o,l){if(typeof t!="function")throw new Ft(c);return un(function(){t.apply(r,l)},o)}function tn(t,o,l,f){var v=-1,$=gn,E=!0,C=t.length,D=[],V=o.length;if(!C)return D;l&&(o=Ke(o,It(l))),f?($=ui,E=!1):o.length>=s&&($=Xr,E=!1,o=new kr(o));e:for(;++v<C;){var Z=t[v],ee=l==null?Z:l(Z);if(Z=f||Z!==0?Z:0,E&&ee===ee){for(var ce=V;ce--;)if(o[ce]===ee)continue e;D.push(Z)}else $(o,ee,f)||D.push(Z)}return D}var mr=Uo(Kt),uo=Uo(xi,!0);function Kl(t,o){var l=!0;return mr(t,function(f,v,$){return l=!!o(f,v,$),l}),l}function Dn(t,o,l){for(var f=-1,v=t.length;++f<v;){var $=t[f],E=o($);if(E!=null&&(C===r?E===E&&!Pt(E):l(E,C)))var C=E,D=$}return D}function Zl(t,o,l,f){var v=t.length;for(l=Te(l),l<0&&(l=-l>v?0:v+l),f=f===r||f>v?v:Te(f),f<0&&(f+=v),f=l>f?0:ks(f);l<f;)t[l++]=o;return t}function lo(t,o){var l=[];return mr(t,function(f,v,$){o(f,v,$)&&l.push(f)}),l}function pt(t,o,l,f,v){var $=-1,E=t.length;for(l||(l=Hc),v||(v=[]);++$<E;){var C=t[$];o>0&&l(C)?o>1?pt(C,o-1,l,f,v):pr(v,C):f||(v[v.length]=C)}return v}var Si=Mo(),co=Mo(!0);function Kt(t,o){return t&&Si(t,o,lt)}function xi(t,o){return t&&co(t,o,lt)}function Un(t,o){return hr(o,function(l){return sr(t[l])})}function Tr(t,o){o=br(o,t);for(var l=0,f=o.length;t!=null&&l<f;)t=t[Jt(o[l++])];return l&&l==f?t:r}function fo(t,o,l){var f=o(t);return ke(t)?f:pr(f,l(t))}function yt(t){return t==null?t===r?Pe:q:xr&&xr in Ye(t)?Pc(t):Gc(t)}function Ei(t,o){return t>o}function Jl(t,o){return t!=null&&We.call(t,o)}function Ql(t,o){return t!=null&&o in Ye(t)}function ec(t,o,l){return t>=vt(o,l)&&t<ut(o,l)}function ki(t,o,l){for(var f=l?ui:gn,v=t[0].length,$=t.length,E=$,C=N($),D=1/0,V=[];E--;){var Z=t[E];E&&o&&(Z=Ke(Z,It(o))),D=vt(Z.length,D),C[E]=!l&&(o||v>=120&&Z.length>=120)?new kr(E&&Z):r}Z=t[0];var ee=-1,ce=C[0];e:for(;++ee<v&&V.length<D;){var ge=Z[ee],_e=o?o(ge):ge;if(ge=l||ge!==0?ge:0,!(ce?Xr(ce,_e):f(V,_e,l))){for(E=$;--E;){var Oe=C[E];if(!(Oe?Xr(Oe,_e):f(t[E],_e,l)))continue e}ce&&ce.push(_e),V.push(ge)}}return V}function tc(t,o,l,f){return Kt(t,function(v,$,E){o(f,l(v),$,E)}),f}function rn(t,o,l){o=br(o,t),t=Qo(t,o);var f=t==null?t:t[Jt(qt(o))];return f==null?r:At(f,t,l)}function ho(t){return et(t)&&yt(t)==te}function rc(t){return et(t)&&yt(t)==we}function nc(t){return et(t)&&yt(t)==oe}function nn(t,o,l,f,v){return t===o?!0:t==null||o==null||!et(t)&&!et(o)?t!==t&&o!==o:ic(t,o,l,f,nn,v)}function ic(t,o,l,f,v,$){var E=ke(t),C=ke(o),D=E?J:gt(t),V=C?J:gt(o);D=D==te?ne:D,V=V==te?ne:V;var Z=D==ne,ee=V==ne,ce=D==V;if(ce&&wr(t)){if(!wr(o))return!1;E=!0,Z=!1}if(ce&&!Z)return $||($=new Gt),E||Br(t)?Go(t,o,l,f,v,$):Ic(t,o,D,l,f,v,$);if(!(l&L)){var ge=Z&&We.call(t,"__wrapped__"),_e=ee&&We.call(o,"__wrapped__");if(ge||_e){var Oe=ge?t.value():t,be=_e?o.value():o;return $||($=new Gt),v(Oe,be,l,f,$)}}return ce?($||($=new Gt),Rc(t,o,l,f,v,$)):!1}function ac(t){return et(t)&&gt(t)==Ze}function Ci(t,o,l,f){var v=l.length,$=v,E=!f;if(t==null)return!$;for(t=Ye(t);v--;){var C=l[v];if(E&&C[2]?C[1]!==t[C[0]]:!(C[0]in t))return!1}for(;++v<$;){C=l[v];var D=C[0],V=t[D],Z=C[1];if(E&&C[2]){if(V===r&&!(D in t))return!1}else{var ee=new Gt;if(f)var ce=f(V,Z,D,t,o,ee);if(!(ce===r?nn(Z,V,L|z,f,ee):ce))return!1}}return!0}function po(t){if(!Je(t)||jc(t))return!1;var o=sr(t)?al:Vs;return o.test(Ar(t))}function oc(t){return et(t)&&yt(t)==ye}function sc(t){return et(t)&&gt(t)==pe}function uc(t){return et(t)&&Jn(t.length)&&!!Ve[yt(t)]}function vo(t){return typeof t=="function"?t:t==null?kt:typeof t=="object"?ke(t)?_o(t[0],t[1]):mo(t):Ls(t)}function Ti(t){if(!sn(t))return fl(t);var o=[];for(var l in Ye(t))We.call(t,l)&&l!="constructor"&&o.push(l);return o}function lc(t){if(!Je(t))return zc(t);var o=sn(t),l=[];for(var f in t)f=="constructor"&&(o||!We.call(t,f))||l.push(f);return l}function Oi(t,o){return t<o}function go(t,o){var l=-1,f=xt(t)?N(t.length):[];return mr(t,function(v,$,E){f[++l]=o(v,$,E)}),f}function mo(t){var o=Bi(t);return o.length==1&&o[0][2]?Zo(o[0][0],o[0][1]):function(l){return l===t||Ci(l,t,o)}}function _o(t,o){return Gi(t)&&Ko(o)?Zo(Jt(t),o):function(l){var f=ra(l,t);return f===r&&f===o?na(l,t):nn(o,f,L|z)}}function Mn(t,o,l,f,v){t!==o&&Si(o,function($,E){if(v||(v=new Gt),Je($))cc(t,o,E,l,Mn,f,v);else{var C=f?f(Xi(t,E),$,E+"",t,o,v):r;C===r&&(C=$),wi(t,E,C)}},Et)}function cc(t,o,l,f,v,$,E){var C=Xi(t,l),D=Xi(o,l),V=E.get(D);if(V){wi(t,l,V);return}var Z=$?$(C,D,l+"",t,o,E):r,ee=Z===r;if(ee){var ce=ke(D),ge=!ce&&wr(D),_e=!ce&&!ge&&Br(D);Z=D,ce||ge||_e?ke(C)?Z=C:rt(C)?Z=St(C):ge?(ee=!1,Z=Ao(D,!0)):_e?(ee=!1,Z=Io(D,!0)):Z=[]:ln(D)||Ir(D)?(Z=C,Ir(C)?Z=Cs(C):(!Je(C)||sr(C))&&(Z=Vo(D))):ee=!1}ee&&(E.set(D,Z),v(Z,D,f,$,E),E.delete(D)),wi(t,l,Z)}function bo(t,o){var l=t.length;if(!!l)return o+=o<0?l:0,or(o,l)?t[o]:r}function yo(t,o,l){o.length?o=Ke(o,function($){return ke($)?function(E){return Tr(E,$.length===1?$[0]:$)}:$}):o=[kt];var f=-1;o=Ke(o,It(me()));var v=go(t,function($,E,C){var D=Ke(o,function(V){return V($)});return{criteria:D,index:++f,value:$}});return Lu(v,function($,E){return Sc($,E,l)})}function fc(t,o){return wo(t,o,function(l,f){return na(t,f)})}function wo(t,o,l){for(var f=-1,v=o.length,$={};++f<v;){var E=o[f],C=Tr(t,E);l(C,E)&&an($,br(E,t),C)}return $}function dc(t){return function(o){return Tr(o,t)}}function Ai(t,o,l,f){var v=f?Mu:Pr,$=-1,E=o.length,C=t;for(t===o&&(o=St(o)),l&&(C=Ke(t,It(l)));++$<E;)for(var D=0,V=o[$],Z=l?l(V):V;(D=v(C,Z,D,f))>-1;)C!==t&&kn.call(C,D,1),kn.call(t,D,1);return t}function $o(t,o){for(var l=t?o.length:0,f=l-1;l--;){var v=o[l];if(l==f||v!==$){var $=v;or(v)?kn.call(t,v,1):Di(t,v)}}return t}function Ii(t,o){return t+On(to()*(o-t+1))}function hc(t,o,l,f){for(var v=-1,$=ut(Tn((o-t)/(l||1)),0),E=N($);$--;)E[f?$:++v]=t,t+=l;return E}function Ri(t,o){var l="";if(!t||o<1||o>Ie)return l;do o%2&&(l+=t),o=On(o/2),o&&(t+=t);while(o);return l}function Ae(t,o){return Vi(Jo(t,o,kt),t+"")}function pc(t){return io(zr(t))}function vc(t,o){var l=zr(t);return Gn(l,Cr(o,0,l.length))}function an(t,o,l,f){if(!Je(t))return t;o=br(o,t);for(var v=-1,$=o.length,E=$-1,C=t;C!=null&&++v<$;){var D=Jt(o[v]),V=l;if(D==="__proto__"||D==="constructor"||D==="prototype")return t;if(v!=E){var Z=C[D];V=f?f(Z,D,C):r,V===r&&(V=Je(Z)?Z:or(o[v+1])?[]:{})}en(C,D,V),C=C[D]}return t}var So=An?function(t,o){return An.set(t,o),t}:kt,gc=Cn?function(t,o){return Cn(t,"toString",{configurable:!0,enumerable:!1,value:aa(o),writable:!0})}:kt;function mc(t){return Gn(zr(t))}function jt(t,o,l){var f=-1,v=t.length;o<0&&(o=-o>v?0:v+o),l=l>v?v:l,l<0&&(l+=v),v=o>l?0:l-o>>>0,o>>>=0;for(var $=N(v);++f<v;)$[f]=t[f+o];return $}function _c(t,o){var l;return mr(t,function(f,v,$){return l=o(f,v,$),!l}),!!l}function Ln(t,o,l){var f=0,v=t==null?f:t.length;if(typeof o=="number"&&o===o&&v<=U){for(;f<v;){var $=f+v>>>1,E=t[$];E!==null&&!Pt(E)&&(l?E<=o:E<o)?f=$+1:v=$}return v}return Pi(t,o,kt,l)}function Pi(t,o,l,f){var v=0,$=t==null?0:t.length;if($===0)return 0;o=l(o);for(var E=o!==o,C=o===null,D=Pt(o),V=o===r;v<$;){var Z=On((v+$)/2),ee=l(t[Z]),ce=ee!==r,ge=ee===null,_e=ee===ee,Oe=Pt(ee);if(E)var be=f||_e;else V?be=_e&&(f||ce):C?be=_e&&ce&&(f||!ge):D?be=_e&&ce&&!ge&&(f||!Oe):ge||Oe?be=!1:be=f?ee<=o:ee<o;be?v=Z+1:$=Z}return vt($,x)}function xo(t,o){for(var l=-1,f=t.length,v=0,$=[];++l<f;){var E=t[l],C=o?o(E):E;if(!l||!Yt(C,D)){var D=C;$[v++]=E===0?0:E}}return $}function Eo(t){return typeof t=="number"?t:Pt(t)?Ne:+t}function Rt(t){if(typeof t=="string")return t;if(ke(t))return Ke(t,Rt)+"";if(Pt(t))return ro?ro.call(t):"";var o=t+"";return o=="0"&&1/t==-Ce?"-0":o}function _r(t,o,l){var f=-1,v=gn,$=t.length,E=!0,C=[],D=C;if(l)E=!1,v=ui;else if($>=s){var V=o?null:Oc(t);if(V)return _n(V);E=!1,v=Xr,D=new kr}else D=o?[]:C;e:for(;++f<$;){var Z=t[f],ee=o?o(Z):Z;if(Z=l||Z!==0?Z:0,E&&ee===ee){for(var ce=D.length;ce--;)if(D[ce]===ee)continue e;o&&D.push(ee),C.push(Z)}else v(D,ee,l)||(D!==C&&D.push(ee),C.push(Z))}return C}function Di(t,o){return o=br(o,t),t=Qo(t,o),t==null||delete t[Jt(qt(o))]}function ko(t,o,l,f){return an(t,o,l(Tr(t,o)),f)}function Fn(t,o,l,f){for(var v=t.length,$=f?v:-1;(f?$--:++$<v)&&o(t[$],$,t););return l?jt(t,f?0:$,f?$+1:v):jt(t,f?$+1:0,f?v:$)}function Co(t,o){var l=t;return l instanceof De&&(l=l.value()),li(o,function(f,v){return v.func.apply(v.thisArg,pr([f],v.args))},l)}function Ui(t,o,l){var f=t.length;if(f<2)return f?_r(t[0]):[];for(var v=-1,$=N(f);++v<f;)for(var E=t[v],C=-1;++C<f;)C!=v&&($[v]=tn($[v]||E,t[C],o,l));return _r(pt($,1),o,l)}function To(t,o,l){for(var f=-1,v=t.length,$=o.length,E={};++f<v;){var C=f<$?o[f]:r;l(E,t[f],C)}return E}function Mi(t){return rt(t)?t:[]}function Li(t){return typeof t=="function"?t:kt}function br(t,o){return ke(t)?t:Gi(t,o)?[t]:ns(qe(t))}var bc=Ae;function yr(t,o,l){var f=t.length;return l=l===r?f:l,!o&&l>=f?t:jt(t,o,l)}var Oo=ol||function(t){return ht.clearTimeout(t)};function Ao(t,o){if(o)return t.slice();var l=t.length,f=Va?Va(l):new t.constructor(l);return t.copy(f),f}function Fi(t){var o=new t.constructor(t.byteLength);return new xn(o).set(new xn(t)),o}function yc(t,o){var l=o?Fi(t.buffer):t.buffer;return new t.constructor(l,t.byteOffset,t.byteLength)}function wc(t){var o=new t.constructor(t.source,fa.exec(t));return o.lastIndex=t.lastIndex,o}function $c(t){return Qr?Ye(Qr.call(t)):{}}function Io(t,o){var l=o?Fi(t.buffer):t.buffer;return new t.constructor(l,t.byteOffset,t.length)}function Ro(t,o){if(t!==o){var l=t!==r,f=t===null,v=t===t,$=Pt(t),E=o!==r,C=o===null,D=o===o,V=Pt(o);if(!C&&!V&&!$&&t>o||$&&E&&D&&!C&&!V||f&&E&&D||!l&&D||!v)return 1;if(!f&&!$&&!V&&t<o||V&&l&&v&&!f&&!$||C&&l&&v||!E&&v||!D)return-1}return 0}function Sc(t,o,l){for(var f=-1,v=t.criteria,$=o.criteria,E=v.length,C=l.length;++f<E;){var D=Ro(v[f],$[f]);if(D){if(f>=C)return D;var V=l[f];return D*(V=="desc"?-1:1)}}return t.index-o.index}function Po(t,o,l,f){for(var v=-1,$=t.length,E=l.length,C=-1,D=o.length,V=ut($-E,0),Z=N(D+V),ee=!f;++C<D;)Z[C]=o[C];for(;++v<E;)(ee||v<$)&&(Z[l[v]]=t[v]);for(;V--;)Z[C++]=t[v++];return Z}function Do(t,o,l,f){for(var v=-1,$=t.length,E=-1,C=l.length,D=-1,V=o.length,Z=ut($-C,0),ee=N(Z+V),ce=!f;++v<Z;)ee[v]=t[v];for(var ge=v;++D<V;)ee[ge+D]=o[D];for(;++E<C;)(ce||v<$)&&(ee[ge+l[E]]=t[v++]);return ee}function St(t,o){var l=-1,f=t.length;for(o||(o=N(f));++l<f;)o[l]=t[l];return o}function Zt(t,o,l,f){var v=!l;l||(l={});for(var $=-1,E=o.length;++$<E;){var C=o[$],D=f?f(l[C],t[C],C,l,t):r;D===r&&(D=t[C]),v?nr(l,C,D):en(l,C,D)}return l}function xc(t,o){return Zt(t,zi(t),o)}function Ec(t,o){return Zt(t,Yo(t),o)}function Hn(t,o){return function(l,f){var v=ke(l)?Au:Yl,$=o?o():{};return v(l,t,me(f,2),$)}}function jr(t){return Ae(function(o,l){var f=-1,v=l.length,$=v>1?l[v-1]:r,E=v>2?l[2]:r;for($=t.length>3&&typeof $=="function"?(v--,$):r,E&&wt(l[0],l[1],E)&&($=v<3?r:$,v=1),o=Ye(o);++f<v;){var C=l[f];C&&t(o,C,f,$)}return o})}function Uo(t,o){return function(l,f){if(l==null)return l;if(!xt(l))return t(l,f);for(var v=l.length,$=o?v:-1,E=Ye(l);(o?$--:++$<v)&&f(E[$],$,E)!==!1;);return l}}function Mo(t){return function(o,l,f){for(var v=-1,$=Ye(o),E=f(o),C=E.length;C--;){var D=E[t?C:++v];if(l($[D],D,$)===!1)break}return o}}function kc(t,o,l){var f=o&Y,v=on(t);function $(){var E=this&&this!==ht&&this instanceof $?v:t;return E.apply(f?l:this,arguments)}return $}function Lo(t){return function(o){o=qe(o);var l=Dr(o)?zt(o):r,f=l?l[0]:o.charAt(0),v=l?yr(l,1).join(""):o.slice(1);return f[t]()+v}}function qr(t){return function(o){return li(Us(Ds(o).replace(gu,"")),t,"")}}function on(t){return function(){var o=arguments;switch(o.length){case 0:return new t;case 1:return new t(o[0]);case 2:return new t(o[0],o[1]);case 3:return new t(o[0],o[1],o[2]);case 4:return new t(o[0],o[1],o[2],o[3]);case 5:return new t(o[0],o[1],o[2],o[3],o[4]);case 6:return new t(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new t(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var l=Nr(t.prototype),f=t.apply(l,o);return Je(f)?f:l}}function Cc(t,o,l){var f=on(t);function v(){for(var $=arguments.length,E=N($),C=$,D=Wr(v);C--;)E[C]=arguments[C];var V=$<3&&E[0]!==D&&E[$-1]!==D?[]:vr(E,D);if($-=V.length,$<l)return qo(t,o,Nn,v.placeholder,r,E,V,r,r,l-$);var Z=this&&this!==ht&&this instanceof v?f:t;return At(Z,this,E)}return v}function Fo(t){return function(o,l,f){var v=Ye(o);if(!xt(o)){var $=me(l,3);o=lt(o),l=function(C){return $(v[C],C,v)}}var E=t(o,l,f);return E>-1?v[$?o[E]:E]:r}}function Ho(t){return ar(function(o){var l=o.length,f=l,v=Ht.prototype.thru;for(t&&o.reverse();f--;){var $=o[f];if(typeof $!="function")throw new Ft(c);if(v&&!E&&Bn($)=="wrapper")var E=new Ht([],!0)}for(f=E?f:l;++f<l;){$=o[f];var C=Bn($),D=C=="wrapper"?Wi($):r;D&&Yi(D[0])&&D[1]==(P|H|F|ie)&&!D[4].length&&D[9]==1?E=E[Bn(D[0])].apply(E,D[3]):E=$.length==1&&Yi($)?E[C]():E.thru($)}return function(){var V=arguments,Z=V[0];if(E&&V.length==1&&ke(Z))return E.plant(Z).value();for(var ee=0,ce=l?o[ee].apply(this,V):Z;++ee<l;)ce=o[ee].call(this,ce);return ce}})}function Nn(t,o,l,f,v,$,E,C,D,V){var Z=o&P,ee=o&Y,ce=o&j,ge=o&(H|R),_e=o&ae,Oe=ce?r:on(t);function be(){for(var Re=arguments.length,Le=N(Re),Dt=Re;Dt--;)Le[Dt]=arguments[Dt];if(ge)var $t=Wr(be),Ut=Hu(Le,$t);if(f&&(Le=Po(Le,f,v,ge)),$&&(Le=Do(Le,$,E,ge)),Re-=Ut,ge&&Re<V){var nt=vr(Le,$t);return qo(t,o,Nn,be.placeholder,l,Le,nt,C,D,V-Re)}var Xt=ee?l:this,lr=ce?Xt[t]:t;return Re=Le.length,C?Le=Yc(Le,C):_e&&Re>1&&Le.reverse(),Z&&D<Re&&(Le.length=D),this&&this!==ht&&this instanceof be&&(lr=Oe||on(lr)),lr.apply(Xt,Le)}return be}function No(t,o){return function(l,f){return tc(l,t,o(f),{})}}function jn(t,o){return function(l,f){var v;if(l===r&&f===r)return o;if(l!==r&&(v=l),f!==r){if(v===r)return f;typeof l=="string"||typeof f=="string"?(l=Rt(l),f=Rt(f)):(l=Eo(l),f=Eo(f)),v=t(l,f)}return v}}function Hi(t){return ar(function(o){return o=Ke(o,It(me())),Ae(function(l){var f=this;return t(o,function(v){return At(v,f,l)})})})}function qn(t,o){o=o===r?" ":Rt(o);var l=o.length;if(l<2)return l?Ri(o,t):o;var f=Ri(o,Tn(t/Ur(o)));return Dr(o)?yr(zt(f),0,t).join(""):f.slice(0,t)}function Tc(t,o,l,f){var v=o&Y,$=on(t);function E(){for(var C=-1,D=arguments.length,V=-1,Z=f.length,ee=N(Z+D),ce=this&&this!==ht&&this instanceof E?$:t;++V<Z;)ee[V]=f[V];for(;D--;)ee[V++]=arguments[++C];return At(ce,v?l:this,ee)}return E}function jo(t){return function(o,l,f){return f&&typeof f!="number"&&wt(o,l,f)&&(l=f=r),o=ur(o),l===r?(l=o,o=0):l=ur(l),f=f===r?o<l?1:-1:ur(f),hc(o,l,f,t)}}function Wn(t){return function(o,l){return typeof o=="string"&&typeof l=="string"||(o=Wt(o),l=Wt(l)),t(o,l)}}function qo(t,o,l,f,v,$,E,C,D,V){var Z=o&H,ee=Z?E:r,ce=Z?r:E,ge=Z?$:r,_e=Z?r:$;o|=Z?F:O,o&=~(Z?O:F),o&T||(o&=~(Y|j));var Oe=[t,o,v,ge,ee,_e,ce,C,D,V],be=l.apply(r,Oe);return Yi(t)&&es(be,Oe),be.placeholder=f,ts(be,t,o)}function Ni(t){var o=st[t];return function(l,f){if(l=Wt(l),f=f==null?0:vt(Te(f),292),f&&eo(l)){var v=(qe(l)+"e").split("e"),$=o(v[0]+"e"+(+v[1]+f));return v=(qe($)+"e").split("e"),+(v[0]+"e"+(+v[1]-f))}return o(l)}}var Oc=Fr&&1/_n(new Fr([,-0]))[1]==Ce?function(t){return new Fr(t)}:ua;function Wo(t){return function(o){var l=gt(o);return l==Ze?gi(o):l==pe?Gu(o):Fu(o,t(o))}}function ir(t,o,l,f,v,$,E,C){var D=o&j;if(!D&&typeof t!="function")throw new Ft(c);var V=f?f.length:0;if(V||(o&=~(F|O),f=v=r),E=E===r?E:ut(Te(E),0),C=C===r?C:Te(C),V-=v?v.length:0,o&O){var Z=f,ee=v;f=v=r}var ce=D?r:Wi(t),ge=[t,o,l,f,v,Z,ee,$,E,C];if(ce&&Bc(ge,ce),t=ge[0],o=ge[1],l=ge[2],f=ge[3],v=ge[4],C=ge[9]=ge[9]===r?D?0:t.length:ut(ge[9]-V,0),!C&&o&(H|R)&&(o&=~(H|R)),!o||o==Y)var _e=kc(t,o,l);else o==H||o==R?_e=Cc(t,o,C):(o==F||o==(Y|F))&&!v.length?_e=Tc(t,o,l,f):_e=Nn.apply(r,ge);var Oe=ce?So:es;return ts(Oe(_e,ge),t,o)}function Bo(t,o,l,f){return t===r||Yt(t,Lr[l])&&!We.call(f,l)?o:t}function zo(t,o,l,f,v,$){return Je(t)&&Je(o)&&($.set(o,t),Mn(t,o,r,zo,$),$.delete(o)),t}function Ac(t){return ln(t)?r:t}function Go(t,o,l,f,v,$){var E=l&L,C=t.length,D=o.length;if(C!=D&&!(E&&D>C))return!1;var V=$.get(t),Z=$.get(o);if(V&&Z)return V==o&&Z==t;var ee=-1,ce=!0,ge=l&z?new kr:r;for($.set(t,o),$.set(o,t);++ee<C;){var _e=t[ee],Oe=o[ee];if(f)var be=E?f(Oe,_e,ee,o,t,$):f(_e,Oe,ee,t,o,$);if(be!==r){if(be)continue;ce=!1;break}if(ge){if(!ci(o,function(Re,Le){if(!Xr(ge,Le)&&(_e===Re||v(_e,Re,l,f,$)))return ge.push(Le)})){ce=!1;break}}else if(!(_e===Oe||v(_e,Oe,l,f,$))){ce=!1;break}}return $.delete(t),$.delete(o),ce}function Ic(t,o,l,f,v,$,E){switch(l){case je:if(t.byteLength!=o.byteLength||t.byteOffset!=o.byteOffset)return!1;t=t.buffer,o=o.buffer;case we:return!(t.byteLength!=o.byteLength||!$(new xn(t),new xn(o)));case re:case oe:case it:return Yt(+t,+o);case ue:return t.name==o.name&&t.message==o.message;case ye:case Ee:return t==o+"";case Ze:var C=gi;case pe:var D=f&L;if(C||(C=_n),t.size!=o.size&&!D)return!1;var V=E.get(t);if(V)return V==o;f|=z,E.set(t,o);var Z=Go(C(t),C(o),f,v,$,E);return E.delete(t),Z;case ze:if(Qr)return Qr.call(t)==Qr.call(o)}return!1}function Rc(t,o,l,f,v,$){var E=l&L,C=ji(t),D=C.length,V=ji(o),Z=V.length;if(D!=Z&&!E)return!1;for(var ee=D;ee--;){var ce=C[ee];if(!(E?ce in o:We.call(o,ce)))return!1}var ge=$.get(t),_e=$.get(o);if(ge&&_e)return ge==o&&_e==t;var Oe=!0;$.set(t,o),$.set(o,t);for(var be=E;++ee<D;){ce=C[ee];var Re=t[ce],Le=o[ce];if(f)var Dt=E?f(Le,Re,ce,o,t,$):f(Re,Le,ce,t,o,$);if(!(Dt===r?Re===Le||v(Re,Le,l,f,$):Dt)){Oe=!1;break}be||(be=ce=="constructor")}if(Oe&&!be){var $t=t.constructor,Ut=o.constructor;$t!=Ut&&"constructor"in t&&"constructor"in o&&!(typeof $t=="function"&&$t instanceof $t&&typeof Ut=="function"&&Ut instanceof Ut)&&(Oe=!1)}return $.delete(t),$.delete(o),Oe}function ar(t){return Vi(Jo(t,r,ss),t+"")}function ji(t){return fo(t,lt,zi)}function qi(t){return fo(t,Et,Yo)}var Wi=An?function(t){return An.get(t)}:ua;function Bn(t){for(var o=t.name+"",l=Hr[o],f=We.call(Hr,o)?l.length:0;f--;){var v=l[f],$=v.func;if($==null||$==t)return v.name}return o}function Wr(t){var o=We.call(b,"placeholder")?b:t;return o.placeholder}function me(){var t=b.iteratee||oa;return t=t===oa?vo:t,arguments.length?t(arguments[0],arguments[1]):t}function zn(t,o){var l=t.__data__;return Nc(o)?l[typeof o=="string"?"string":"hash"]:l.map}function Bi(t){for(var o=lt(t),l=o.length;l--;){var f=o[l],v=t[f];o[l]=[f,v,Ko(v)]}return o}function Or(t,o){var l=Wu(t,o);return po(l)?l:r}function Pc(t){var o=We.call(t,xr),l=t[xr];try{t[xr]=r;var f=!0}catch{}var v=$n.call(t);return f&&(o?t[xr]=l:delete t[xr]),v}var zi=_i?function(t){return t==null?[]:(t=Ye(t),hr(_i(t),function(o){return Za.call(t,o)}))}:la,Yo=_i?function(t){for(var o=[];t;)pr(o,zi(t)),t=En(t);return o}:la,gt=yt;(bi&&gt(new bi(new ArrayBuffer(1)))!=je||Kr&&gt(new Kr)!=Ze||yi&&gt(yi.resolve())!=he||Fr&&gt(new Fr)!=pe||Zr&&gt(new Zr)!=Me)&&(gt=function(t){var o=yt(t),l=o==ne?t.constructor:r,f=l?Ar(l):"";if(f)switch(f){case vl:return je;case gl:return Ze;case ml:return he;case _l:return pe;case bl:return Me}return o});function Dc(t,o,l){for(var f=-1,v=l.length;++f<v;){var $=l[f],E=$.size;switch($.type){case"drop":t+=E;break;case"dropRight":o-=E;break;case"take":o=vt(o,t+E);break;case"takeRight":t=ut(t,o-E);break}}return{start:t,end:o}}function Uc(t){var o=t.match(Ns);return o?o[1].split(js):[]}function Xo(t,o,l){o=br(o,t);for(var f=-1,v=o.length,$=!1;++f<v;){var E=Jt(o[f]);if(!($=t!=null&&l(t,E)))break;t=t[E]}return $||++f!=v?$:(v=t==null?0:t.length,!!v&&Jn(v)&&or(E,v)&&(ke(t)||Ir(t)))}function Mc(t){var o=t.length,l=new t.constructor(o);return o&&typeof t[0]=="string"&&We.call(t,"index")&&(l.index=t.index,l.input=t.input),l}function Vo(t){return typeof t.constructor=="function"&&!sn(t)?Nr(En(t)):{}}function Lc(t,o,l){var f=t.constructor;switch(o){case we:return Fi(t);case re:case oe:return new f(+t);case je:return yc(t,l);case Ct:case Qt:case ct:case ot:case mt:case Vt:case cr:case Tt:case fr:return Io(t,l);case Ze:return new f;case it:case Ee:return new f(t);case ye:return wc(t);case pe:return new f;case ze:return $c(t)}}function Fc(t,o){var l=o.length;if(!l)return t;var f=l-1;return o[f]=(l>1?"& ":"")+o[f],o=o.join(l>2?", ":" "),t.replace(Hs,`{
/* [wrapped with `+o+`] */
`)}function Hc(t){return ke(t)||Ir(t)||!!(Ja&&t&&t[Ja])}function or(t,o){var l=typeof t;return o=o==null?Ie:o,!!o&&(l=="number"||l!="symbol"&&Zs.test(t))&&t>-1&&t%1==0&&t<o}function wt(t,o,l){if(!Je(l))return!1;var f=typeof o;return(f=="number"?xt(l)&&or(o,l.length):f=="string"&&o in l)?Yt(l[o],t):!1}function Gi(t,o){if(ke(t))return!1;var l=typeof t;return l=="number"||l=="symbol"||l=="boolean"||t==null||Pt(t)?!0:bt.test(t)||!_t.test(t)||o!=null&&t in Ye(o)}function Nc(t){var o=typeof t;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?t!=="__proto__":t===null}function Yi(t){var o=Bn(t),l=b[o];if(typeof l!="function"||!(o in De.prototype))return!1;if(t===l)return!0;var f=Wi(l);return!!f&&t===f[0]}function jc(t){return!!Xa&&Xa in t}var qc=yn?sr:ca;function sn(t){var o=t&&t.constructor,l=typeof o=="function"&&o.prototype||Lr;return t===l}function Ko(t){return t===t&&!Je(t)}function Zo(t,o){return function(l){return l==null?!1:l[t]===o&&(o!==r||t in Ye(l))}}function Wc(t){var o=Kn(t,function(f){return l.size===g&&l.clear(),f}),l=o.cache;return o}function Bc(t,o){var l=t[1],f=o[1],v=l|f,$=v<(Y|j|P),E=f==P&&l==H||f==P&&l==ie&&t[7].length<=o[8]||f==(P|ie)&&o[7].length<=o[8]&&l==H;if(!($||E))return t;f&Y&&(t[2]=o[2],v|=l&Y?0:T);var C=o[3];if(C){var D=t[3];t[3]=D?Po(D,C,o[4]):C,t[4]=D?vr(t[3],y):o[4]}return C=o[5],C&&(D=t[5],t[5]=D?Do(D,C,o[6]):C,t[6]=D?vr(t[5],y):o[6]),C=o[7],C&&(t[7]=C),f&P&&(t[8]=t[8]==null?o[8]:vt(t[8],o[8])),t[9]==null&&(t[9]=o[9]),t[0]=o[0],t[1]=v,t}function zc(t){var o=[];if(t!=null)for(var l in Ye(t))o.push(l);return o}function Gc(t){return $n.call(t)}function Jo(t,o,l){return o=ut(o===r?t.length-1:o,0),function(){for(var f=arguments,v=-1,$=ut(f.length-o,0),E=N($);++v<$;)E[v]=f[o+v];v=-1;for(var C=N(o+1);++v<o;)C[v]=f[v];return C[o]=l(E),At(t,this,C)}}function Qo(t,o){return o.length<2?t:Tr(t,jt(o,0,-1))}function Yc(t,o){for(var l=t.length,f=vt(o.length,l),v=St(t);f--;){var $=o[f];t[f]=or($,l)?v[$]:r}return t}function Xi(t,o){if(!(o==="constructor"&&typeof t[o]=="function")&&o!="__proto__")return t[o]}var es=rs(So),un=ul||function(t,o){return ht.setTimeout(t,o)},Vi=rs(gc);function ts(t,o,l){var f=o+"";return Vi(t,Fc(f,Xc(Uc(f),l)))}function rs(t){var o=0,l=0;return function(){var f=dl(),v=W-(f-l);if(l=f,v>0){if(++o>=X)return arguments[0]}else o=0;return t.apply(r,arguments)}}function Gn(t,o){var l=-1,f=t.length,v=f-1;for(o=o===r?f:o;++l<o;){var $=Ii(l,v),E=t[$];t[$]=t[l],t[l]=E}return t.length=o,t}var ns=Wc(function(t){var o=[];return t.charCodeAt(0)===46&&o.push(""),t.replace(dt,function(l,f,v,$){o.push(v?$.replace(zs,"$1"):f||l)}),o});function Jt(t){if(typeof t=="string"||Pt(t))return t;var o=t+"";return o=="0"&&1/t==-Ce?"-0":o}function Ar(t){if(t!=null){try{return wn.call(t)}catch{}try{return t+""}catch{}}return""}function Xc(t,o){return Lt(Q,function(l){var f="_."+l[0];o&l[1]&&!gn(t,f)&&t.push(f)}),t.sort()}function is(t){if(t instanceof De)return t.clone();var o=new Ht(t.__wrapped__,t.__chain__);return o.__actions__=St(t.__actions__),o.__index__=t.__index__,o.__values__=t.__values__,o}function Vc(t,o,l){(l?wt(t,o,l):o===r)?o=1:o=ut(Te(o),0);var f=t==null?0:t.length;if(!f||o<1)return[];for(var v=0,$=0,E=N(Tn(f/o));v<f;)E[$++]=jt(t,v,v+=o);return E}function Kc(t){for(var o=-1,l=t==null?0:t.length,f=0,v=[];++o<l;){var $=t[o];$&&(v[f++]=$)}return v}function Zc(){var t=arguments.length;if(!t)return[];for(var o=N(t-1),l=arguments[0],f=t;f--;)o[f-1]=arguments[f];return pr(ke(l)?St(l):[l],pt(o,1))}var Jc=Ae(function(t,o){return rt(t)?tn(t,pt(o,1,rt,!0)):[]}),Qc=Ae(function(t,o){var l=qt(o);return rt(l)&&(l=r),rt(t)?tn(t,pt(o,1,rt,!0),me(l,2)):[]}),ef=Ae(function(t,o){var l=qt(o);return rt(l)&&(l=r),rt(t)?tn(t,pt(o,1,rt,!0),r,l):[]});function tf(t,o,l){var f=t==null?0:t.length;return f?(o=l||o===r?1:Te(o),jt(t,o<0?0:o,f)):[]}function rf(t,o,l){var f=t==null?0:t.length;return f?(o=l||o===r?1:Te(o),o=f-o,jt(t,0,o<0?0:o)):[]}function nf(t,o){return t&&t.length?Fn(t,me(o,3),!0,!0):[]}function af(t,o){return t&&t.length?Fn(t,me(o,3),!0):[]}function of(t,o,l,f){var v=t==null?0:t.length;return v?(l&&typeof l!="number"&&wt(t,o,l)&&(l=0,f=v),Zl(t,o,l,f)):[]}function as(t,o,l){var f=t==null?0:t.length;if(!f)return-1;var v=l==null?0:Te(l);return v<0&&(v=ut(f+v,0)),mn(t,me(o,3),v)}function os(t,o,l){var f=t==null?0:t.length;if(!f)return-1;var v=f-1;return l!==r&&(v=Te(l),v=l<0?ut(f+v,0):vt(v,f-1)),mn(t,me(o,3),v,!0)}function ss(t){var o=t==null?0:t.length;return o?pt(t,1):[]}function sf(t){var o=t==null?0:t.length;return o?pt(t,Ce):[]}function uf(t,o){var l=t==null?0:t.length;return l?(o=o===r?1:Te(o),pt(t,o)):[]}function lf(t){for(var o=-1,l=t==null?0:t.length,f={};++o<l;){var v=t[o];f[v[0]]=v[1]}return f}function us(t){return t&&t.length?t[0]:r}function cf(t,o,l){var f=t==null?0:t.length;if(!f)return-1;var v=l==null?0:Te(l);return v<0&&(v=ut(f+v,0)),Pr(t,o,v)}function ff(t){var o=t==null?0:t.length;return o?jt(t,0,-1):[]}var df=Ae(function(t){var o=Ke(t,Mi);return o.length&&o[0]===t[0]?ki(o):[]}),hf=Ae(function(t){var o=qt(t),l=Ke(t,Mi);return o===qt(l)?o=r:l.pop(),l.length&&l[0]===t[0]?ki(l,me(o,2)):[]}),pf=Ae(function(t){var o=qt(t),l=Ke(t,Mi);return o=typeof o=="function"?o:r,o&&l.pop(),l.length&&l[0]===t[0]?ki(l,r,o):[]});function vf(t,o){return t==null?"":cl.call(t,o)}function qt(t){var o=t==null?0:t.length;return o?t[o-1]:r}function gf(t,o,l){var f=t==null?0:t.length;if(!f)return-1;var v=f;return l!==r&&(v=Te(l),v=v<0?ut(f+v,0):vt(v,f-1)),o===o?Xu(t,o,v):mn(t,Na,v,!0)}function mf(t,o){return t&&t.length?bo(t,Te(o)):r}var _f=Ae(ls);function ls(t,o){return t&&t.length&&o&&o.length?Ai(t,o):t}function bf(t,o,l){return t&&t.length&&o&&o.length?Ai(t,o,me(l,2)):t}function yf(t,o,l){return t&&t.length&&o&&o.length?Ai(t,o,r,l):t}var wf=ar(function(t,o){var l=t==null?0:t.length,f=$i(t,o);return $o(t,Ke(o,function(v){return or(v,l)?+v:v}).sort(Ro)),f});function $f(t,o){var l=[];if(!(t&&t.length))return l;var f=-1,v=[],$=t.length;for(o=me(o,3);++f<$;){var E=t[f];o(E,f,t)&&(l.push(E),v.push(f))}return $o(t,v),l}function Ki(t){return t==null?t:pl.call(t)}function Sf(t,o,l){var f=t==null?0:t.length;return f?(l&&typeof l!="number"&&wt(t,o,l)?(o=0,l=f):(o=o==null?0:Te(o),l=l===r?f:Te(l)),jt(t,o,l)):[]}function xf(t,o){return Ln(t,o)}function Ef(t,o,l){return Pi(t,o,me(l,2))}function kf(t,o){var l=t==null?0:t.length;if(l){var f=Ln(t,o);if(f<l&&Yt(t[f],o))return f}return-1}function Cf(t,o){return Ln(t,o,!0)}function Tf(t,o,l){return Pi(t,o,me(l,2),!0)}function Of(t,o){var l=t==null?0:t.length;if(l){var f=Ln(t,o,!0)-1;if(Yt(t[f],o))return f}return-1}function Af(t){return t&&t.length?xo(t):[]}function If(t,o){return t&&t.length?xo(t,me(o,2)):[]}function Rf(t){var o=t==null?0:t.length;return o?jt(t,1,o):[]}function Pf(t,o,l){return t&&t.length?(o=l||o===r?1:Te(o),jt(t,0,o<0?0:o)):[]}function Df(t,o,l){var f=t==null?0:t.length;return f?(o=l||o===r?1:Te(o),o=f-o,jt(t,o<0?0:o,f)):[]}function Uf(t,o){return t&&t.length?Fn(t,me(o,3),!1,!0):[]}function Mf(t,o){return t&&t.length?Fn(t,me(o,3)):[]}var Lf=Ae(function(t){return _r(pt(t,1,rt,!0))}),Ff=Ae(function(t){var o=qt(t);return rt(o)&&(o=r),_r(pt(t,1,rt,!0),me(o,2))}),Hf=Ae(function(t){var o=qt(t);return o=typeof o=="function"?o:r,_r(pt(t,1,rt,!0),r,o)});function Nf(t){return t&&t.length?_r(t):[]}function jf(t,o){return t&&t.length?_r(t,me(o,2)):[]}function qf(t,o){return o=typeof o=="function"?o:r,t&&t.length?_r(t,r,o):[]}function Zi(t){if(!(t&&t.length))return[];var o=0;return t=hr(t,function(l){if(rt(l))return o=ut(l.length,o),!0}),pi(o,function(l){return Ke(t,fi(l))})}function cs(t,o){if(!(t&&t.length))return[];var l=Zi(t);return o==null?l:Ke(l,function(f){return At(o,r,f)})}var Wf=Ae(function(t,o){return rt(t)?tn(t,o):[]}),Bf=Ae(function(t){return Ui(hr(t,rt))}),zf=Ae(function(t){var o=qt(t);return rt(o)&&(o=r),Ui(hr(t,rt),me(o,2))}),Gf=Ae(function(t){var o=qt(t);return o=typeof o=="function"?o:r,Ui(hr(t,rt),r,o)}),Yf=Ae(Zi);function Xf(t,o){return To(t||[],o||[],en)}function Vf(t,o){return To(t||[],o||[],an)}var Kf=Ae(function(t){var o=t.length,l=o>1?t[o-1]:r;return l=typeof l=="function"?(t.pop(),l):r,cs(t,l)});function fs(t){var o=b(t);return o.__chain__=!0,o}function Zf(t,o){return o(t),t}function Yn(t,o){return o(t)}var Jf=ar(function(t){var o=t.length,l=o?t[0]:0,f=this.__wrapped__,v=function($){return $i($,t)};return o>1||this.__actions__.length||!(f instanceof De)||!or(l)?this.thru(v):(f=f.slice(l,+l+(o?1:0)),f.__actions__.push({func:Yn,args:[v],thisArg:r}),new Ht(f,this.__chain__).thru(function($){return o&&!$.length&&$.push(r),$}))});function Qf(){return fs(this)}function ed(){return new Ht(this.value(),this.__chain__)}function td(){this.__values__===r&&(this.__values__=Es(this.value()));var t=this.__index__>=this.__values__.length,o=t?r:this.__values__[this.__index__++];return{done:t,value:o}}function rd(){return this}function nd(t){for(var o,l=this;l instanceof Rn;){var f=is(l);f.__index__=0,f.__values__=r,o?v.__wrapped__=f:o=f;var v=f;l=l.__wrapped__}return v.__wrapped__=t,o}function id(){var t=this.__wrapped__;if(t instanceof De){var o=t;return this.__actions__.length&&(o=new De(this)),o=o.reverse(),o.__actions__.push({func:Yn,args:[Ki],thisArg:r}),new Ht(o,this.__chain__)}return this.thru(Ki)}function ad(){return Co(this.__wrapped__,this.__actions__)}var od=Hn(function(t,o,l){We.call(t,l)?++t[l]:nr(t,l,1)});function sd(t,o,l){var f=ke(t)?Fa:Kl;return l&&wt(t,o,l)&&(o=r),f(t,me(o,3))}function ud(t,o){var l=ke(t)?hr:lo;return l(t,me(o,3))}var ld=Fo(as),cd=Fo(os);function fd(t,o){return pt(Xn(t,o),1)}function dd(t,o){return pt(Xn(t,o),Ce)}function hd(t,o,l){return l=l===r?1:Te(l),pt(Xn(t,o),l)}function ds(t,o){var l=ke(t)?Lt:mr;return l(t,me(o,3))}function hs(t,o){var l=ke(t)?Iu:uo;return l(t,me(o,3))}var pd=Hn(function(t,o,l){We.call(t,l)?t[l].push(o):nr(t,l,[o])});function vd(t,o,l,f){t=xt(t)?t:zr(t),l=l&&!f?Te(l):0;var v=t.length;return l<0&&(l=ut(v+l,0)),Qn(t)?l<=v&&t.indexOf(o,l)>-1:!!v&&Pr(t,o,l)>-1}var gd=Ae(function(t,o,l){var f=-1,v=typeof o=="function",$=xt(t)?N(t.length):[];return mr(t,function(E){$[++f]=v?At(o,E,l):rn(E,o,l)}),$}),md=Hn(function(t,o,l){nr(t,l,o)});function Xn(t,o){var l=ke(t)?Ke:go;return l(t,me(o,3))}function _d(t,o,l,f){return t==null?[]:(ke(o)||(o=o==null?[]:[o]),l=f?r:l,ke(l)||(l=l==null?[]:[l]),yo(t,o,l))}var bd=Hn(function(t,o,l){t[l?0:1].push(o)},function(){return[[],[]]});function yd(t,o,l){var f=ke(t)?li:qa,v=arguments.length<3;return f(t,me(o,4),l,v,mr)}function wd(t,o,l){var f=ke(t)?Ru:qa,v=arguments.length<3;return f(t,me(o,4),l,v,uo)}function $d(t,o){var l=ke(t)?hr:lo;return l(t,Zn(me(o,3)))}function Sd(t){var o=ke(t)?io:pc;return o(t)}function xd(t,o,l){(l?wt(t,o,l):o===r)?o=1:o=Te(o);var f=ke(t)?zl:vc;return f(t,o)}function Ed(t){var o=ke(t)?Gl:mc;return o(t)}function kd(t){if(t==null)return 0;if(xt(t))return Qn(t)?Ur(t):t.length;var o=gt(t);return o==Ze||o==pe?t.size:Ti(t).length}function Cd(t,o,l){var f=ke(t)?ci:_c;return l&&wt(t,o,l)&&(o=r),f(t,me(o,3))}var Td=Ae(function(t,o){if(t==null)return[];var l=o.length;return l>1&&wt(t,o[0],o[1])?o=[]:l>2&&wt(o[0],o[1],o[2])&&(o=[o[0]]),yo(t,pt(o,1),[])}),Vn=sl||function(){return ht.Date.now()};function Od(t,o){if(typeof o!="function")throw new Ft(c);return t=Te(t),function(){if(--t<1)return o.apply(this,arguments)}}function ps(t,o,l){return o=l?r:o,o=t&&o==null?t.length:o,ir(t,P,r,r,r,r,o)}function vs(t,o){var l;if(typeof o!="function")throw new Ft(c);return t=Te(t),function(){return--t>0&&(l=o.apply(this,arguments)),t<=1&&(o=r),l}}var Ji=Ae(function(t,o,l){var f=Y;if(l.length){var v=vr(l,Wr(Ji));f|=F}return ir(t,f,o,l,v)}),gs=Ae(function(t,o,l){var f=Y|j;if(l.length){var v=vr(l,Wr(gs));f|=F}return ir(o,f,t,l,v)});function ms(t,o,l){o=l?r:o;var f=ir(t,H,r,r,r,r,r,o);return f.placeholder=ms.placeholder,f}function _s(t,o,l){o=l?r:o;var f=ir(t,R,r,r,r,r,r,o);return f.placeholder=_s.placeholder,f}function bs(t,o,l){var f,v,$,E,C,D,V=0,Z=!1,ee=!1,ce=!0;if(typeof t!="function")throw new Ft(c);o=Wt(o)||0,Je(l)&&(Z=!!l.leading,ee="maxWait"in l,$=ee?ut(Wt(l.maxWait)||0,o):$,ce="trailing"in l?!!l.trailing:ce);function ge(nt){var Xt=f,lr=v;return f=v=r,V=nt,E=t.apply(lr,Xt),E}function _e(nt){return V=nt,C=un(Re,o),Z?ge(nt):E}function Oe(nt){var Xt=nt-D,lr=nt-V,Fs=o-Xt;return ee?vt(Fs,$-lr):Fs}function be(nt){var Xt=nt-D,lr=nt-V;return D===r||Xt>=o||Xt<0||ee&&lr>=$}function Re(){var nt=Vn();if(be(nt))return Le(nt);C=un(Re,Oe(nt))}function Le(nt){return C=r,ce&&f?ge(nt):(f=v=r,E)}function Dt(){C!==r&&Oo(C),V=0,f=D=v=C=r}function $t(){return C===r?E:Le(Vn())}function Ut(){var nt=Vn(),Xt=be(nt);if(f=arguments,v=this,D=nt,Xt){if(C===r)return _e(D);if(ee)return Oo(C),C=un(Re,o),ge(D)}return C===r&&(C=un(Re,o)),E}return Ut.cancel=Dt,Ut.flush=$t,Ut}var Ad=Ae(function(t,o){return so(t,1,o)}),Id=Ae(function(t,o,l){return so(t,Wt(o)||0,l)});function Rd(t){return ir(t,ae)}function Kn(t,o){if(typeof t!="function"||o!=null&&typeof o!="function")throw new Ft(c);var l=function(){var f=arguments,v=o?o.apply(this,f):f[0],$=l.cache;if($.has(v))return $.get(v);var E=t.apply(this,f);return l.cache=$.set(v,E)||$,E};return l.cache=new(Kn.Cache||rr),l}Kn.Cache=rr;function Zn(t){if(typeof t!="function")throw new Ft(c);return function(){var o=arguments;switch(o.length){case 0:return!t.call(this);case 1:return!t.call(this,o[0]);case 2:return!t.call(this,o[0],o[1]);case 3:return!t.call(this,o[0],o[1],o[2])}return!t.apply(this,o)}}function Pd(t){return vs(2,t)}var Dd=bc(function(t,o){o=o.length==1&&ke(o[0])?Ke(o[0],It(me())):Ke(pt(o,1),It(me()));var l=o.length;return Ae(function(f){for(var v=-1,$=vt(f.length,l);++v<$;)f[v]=o[v].call(this,f[v]);return At(t,this,f)})}),Qi=Ae(function(t,o){var l=vr(o,Wr(Qi));return ir(t,F,r,o,l)}),ys=Ae(function(t,o){var l=vr(o,Wr(ys));return ir(t,O,r,o,l)}),Ud=ar(function(t,o){return ir(t,ie,r,r,r,o)});function Md(t,o){if(typeof t!="function")throw new Ft(c);return o=o===r?o:Te(o),Ae(t,o)}function Ld(t,o){if(typeof t!="function")throw new Ft(c);return o=o==null?0:ut(Te(o),0),Ae(function(l){var f=l[o],v=yr(l,0,o);return f&&pr(v,f),At(t,this,v)})}function Fd(t,o,l){var f=!0,v=!0;if(typeof t!="function")throw new Ft(c);return Je(l)&&(f="leading"in l?!!l.leading:f,v="trailing"in l?!!l.trailing:v),bs(t,o,{leading:f,maxWait:o,trailing:v})}function Hd(t){return ps(t,1)}function Nd(t,o){return Qi(Li(o),t)}function jd(){if(!arguments.length)return[];var t=arguments[0];return ke(t)?t:[t]}function qd(t){return Nt(t,k)}function Wd(t,o){return o=typeof o=="function"?o:r,Nt(t,k,o)}function Bd(t){return Nt(t,m|k)}function zd(t,o){return o=typeof o=="function"?o:r,Nt(t,m|k,o)}function Gd(t,o){return o==null||oo(t,o,lt(o))}function Yt(t,o){return t===o||t!==t&&o!==o}var Yd=Wn(Ei),Xd=Wn(function(t,o){return t>=o}),Ir=ho(function(){return arguments}())?ho:function(t){return et(t)&&We.call(t,"callee")&&!Za.call(t,"callee")},ke=N.isArray,Vd=Ra?It(Ra):rc;function xt(t){return t!=null&&Jn(t.length)&&!sr(t)}function rt(t){return et(t)&&xt(t)}function Kd(t){return t===!0||t===!1||et(t)&&yt(t)==re}var wr=ll||ca,Zd=Pa?It(Pa):nc;function Jd(t){return et(t)&&t.nodeType===1&&!ln(t)}function Qd(t){if(t==null)return!0;if(xt(t)&&(ke(t)||typeof t=="string"||typeof t.splice=="function"||wr(t)||Br(t)||Ir(t)))return!t.length;var o=gt(t);if(o==Ze||o==pe)return!t.size;if(sn(t))return!Ti(t).length;for(var l in t)if(We.call(t,l))return!1;return!0}function eh(t,o){return nn(t,o)}function th(t,o,l){l=typeof l=="function"?l:r;var f=l?l(t,o):r;return f===r?nn(t,o,r,l):!!f}function ea(t){if(!et(t))return!1;var o=yt(t);return o==ue||o==ve||typeof t.message=="string"&&typeof t.name=="string"&&!ln(t)}function rh(t){return typeof t=="number"&&eo(t)}function sr(t){if(!Je(t))return!1;var o=yt(t);return o==Se||o==Be||o==G||o==le}function ws(t){return typeof t=="number"&&t==Te(t)}function Jn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ie}function Je(t){var o=typeof t;return t!=null&&(o=="object"||o=="function")}function et(t){return t!=null&&typeof t=="object"}var $s=Da?It(Da):ac;function nh(t,o){return t===o||Ci(t,o,Bi(o))}function ih(t,o,l){return l=typeof l=="function"?l:r,Ci(t,o,Bi(o),l)}function ah(t){return Ss(t)&&t!=+t}function oh(t){if(qc(t))throw new xe(u);return po(t)}function sh(t){return t===null}function uh(t){return t==null}function Ss(t){return typeof t=="number"||et(t)&&yt(t)==it}function ln(t){if(!et(t)||yt(t)!=ne)return!1;var o=En(t);if(o===null)return!0;var l=We.call(o,"constructor")&&o.constructor;return typeof l=="function"&&l instanceof l&&wn.call(l)==nl}var ta=Ua?It(Ua):oc;function lh(t){return ws(t)&&t>=-Ie&&t<=Ie}var xs=Ma?It(Ma):sc;function Qn(t){return typeof t=="string"||!ke(t)&&et(t)&&yt(t)==Ee}function Pt(t){return typeof t=="symbol"||et(t)&&yt(t)==ze}var Br=La?It(La):uc;function ch(t){return t===r}function fh(t){return et(t)&&gt(t)==Me}function dh(t){return et(t)&&yt(t)==Ge}var hh=Wn(Oi),ph=Wn(function(t,o){return t<=o});function Es(t){if(!t)return[];if(xt(t))return Qn(t)?zt(t):St(t);if(Vr&&t[Vr])return zu(t[Vr]());var o=gt(t),l=o==Ze?gi:o==pe?_n:zr;return l(t)}function ur(t){if(!t)return t===0?t:0;if(t=Wt(t),t===Ce||t===-Ce){var o=t<0?-1:1;return o*Fe}return t===t?t:0}function Te(t){var o=ur(t),l=o%1;return o===o?l?o-l:o:0}function ks(t){return t?Cr(Te(t),0,Ue):0}function Wt(t){if(typeof t=="number")return t;if(Pt(t))return Ne;if(Je(t)){var o=typeof t.valueOf=="function"?t.valueOf():t;t=Je(o)?o+"":o}if(typeof t!="string")return t===0?t:+t;t=Wa(t);var l=Xs.test(t);return l||Ks.test(t)?Tu(t.slice(2),l?2:8):Ys.test(t)?Ne:+t}function Cs(t){return Zt(t,Et(t))}function vh(t){return t?Cr(Te(t),-Ie,Ie):t===0?t:0}function qe(t){return t==null?"":Rt(t)}var gh=jr(function(t,o){if(sn(o)||xt(o)){Zt(o,lt(o),t);return}for(var l in o)We.call(o,l)&&en(t,l,o[l])}),Ts=jr(function(t,o){Zt(o,Et(o),t)}),ei=jr(function(t,o,l,f){Zt(o,Et(o),t,f)}),mh=jr(function(t,o,l,f){Zt(o,lt(o),t,f)}),_h=ar($i);function bh(t,o){var l=Nr(t);return o==null?l:ao(l,o)}var yh=Ae(function(t,o){t=Ye(t);var l=-1,f=o.length,v=f>2?o[2]:r;for(v&&wt(o[0],o[1],v)&&(f=1);++l<f;)for(var $=o[l],E=Et($),C=-1,D=E.length;++C<D;){var V=E[C],Z=t[V];(Z===r||Yt(Z,Lr[V])&&!We.call(t,V))&&(t[V]=$[V])}return t}),wh=Ae(function(t){return t.push(r,zo),At(Os,r,t)});function $h(t,o){return Ha(t,me(o,3),Kt)}function Sh(t,o){return Ha(t,me(o,3),xi)}function xh(t,o){return t==null?t:Si(t,me(o,3),Et)}function Eh(t,o){return t==null?t:co(t,me(o,3),Et)}function kh(t,o){return t&&Kt(t,me(o,3))}function Ch(t,o){return t&&xi(t,me(o,3))}function Th(t){return t==null?[]:Un(t,lt(t))}function Oh(t){return t==null?[]:Un(t,Et(t))}function ra(t,o,l){var f=t==null?r:Tr(t,o);return f===r?l:f}function Ah(t,o){return t!=null&&Xo(t,o,Jl)}function na(t,o){return t!=null&&Xo(t,o,Ql)}var Ih=No(function(t,o,l){o!=null&&typeof o.toString!="function"&&(o=$n.call(o)),t[o]=l},aa(kt)),Rh=No(function(t,o,l){o!=null&&typeof o.toString!="function"&&(o=$n.call(o)),We.call(t,o)?t[o].push(l):t[o]=[l]},me),Ph=Ae(rn);function lt(t){return xt(t)?no(t):Ti(t)}function Et(t){return xt(t)?no(t,!0):lc(t)}function Dh(t,o){var l={};return o=me(o,3),Kt(t,function(f,v,$){nr(l,o(f,v,$),f)}),l}function Uh(t,o){var l={};return o=me(o,3),Kt(t,function(f,v,$){nr(l,v,o(f,v,$))}),l}var Mh=jr(function(t,o,l){Mn(t,o,l)}),Os=jr(function(t,o,l,f){Mn(t,o,l,f)}),Lh=ar(function(t,o){var l={};if(t==null)return l;var f=!1;o=Ke(o,function($){return $=br($,t),f||(f=$.length>1),$}),Zt(t,qi(t),l),f&&(l=Nt(l,m|S|k,Ac));for(var v=o.length;v--;)Di(l,o[v]);return l});function Fh(t,o){return As(t,Zn(me(o)))}var Hh=ar(function(t,o){return t==null?{}:fc(t,o)});function As(t,o){if(t==null)return{};var l=Ke(qi(t),function(f){return[f]});return o=me(o),wo(t,l,function(f,v){return o(f,v[0])})}function Nh(t,o,l){o=br(o,t);var f=-1,v=o.length;for(v||(v=1,t=r);++f<v;){var $=t==null?r:t[Jt(o[f])];$===r&&(f=v,$=l),t=sr($)?$.call(t):$}return t}function jh(t,o,l){return t==null?t:an(t,o,l)}function qh(t,o,l,f){return f=typeof f=="function"?f:r,t==null?t:an(t,o,l,f)}var Is=Wo(lt),Rs=Wo(Et);function Wh(t,o,l){var f=ke(t),v=f||wr(t)||Br(t);if(o=me(o,4),l==null){var $=t&&t.constructor;v?l=f?new $:[]:Je(t)?l=sr($)?Nr(En(t)):{}:l={}}return(v?Lt:Kt)(t,function(E,C,D){return o(l,E,C,D)}),l}function Bh(t,o){return t==null?!0:Di(t,o)}function zh(t,o,l){return t==null?t:ko(t,o,Li(l))}function Gh(t,o,l,f){return f=typeof f=="function"?f:r,t==null?t:ko(t,o,Li(l),f)}function zr(t){return t==null?[]:vi(t,lt(t))}function Yh(t){return t==null?[]:vi(t,Et(t))}function Xh(t,o,l){return l===r&&(l=o,o=r),l!==r&&(l=Wt(l),l=l===l?l:0),o!==r&&(o=Wt(o),o=o===o?o:0),Cr(Wt(t),o,l)}function Vh(t,o,l){return o=ur(o),l===r?(l=o,o=0):l=ur(l),t=Wt(t),ec(t,o,l)}function Kh(t,o,l){if(l&&typeof l!="boolean"&&wt(t,o,l)&&(o=l=r),l===r&&(typeof o=="boolean"?(l=o,o=r):typeof t=="boolean"&&(l=t,t=r)),t===r&&o===r?(t=0,o=1):(t=ur(t),o===r?(o=t,t=0):o=ur(o)),t>o){var f=t;t=o,o=f}if(l||t%1||o%1){var v=to();return vt(t+v*(o-t+Cu("1e-"+((v+"").length-1))),o)}return Ii(t,o)}var Zh=qr(function(t,o,l){return o=o.toLowerCase(),t+(l?Ps(o):o)});function Ps(t){return ia(qe(t).toLowerCase())}function Ds(t){return t=qe(t),t&&t.replace(Js,Nu).replace(mu,"")}function Jh(t,o,l){t=qe(t),o=Rt(o);var f=t.length;l=l===r?f:Cr(Te(l),0,f);var v=l;return l-=o.length,l>=0&&t.slice(l,v)==o}function Qh(t){return t=qe(t),t&&Yr.test(t)?t.replace(fn,ju):t}function ep(t){return t=qe(t),t&&Bt.test(t)?t.replace(tt,"\\$&"):t}var tp=qr(function(t,o,l){return t+(l?"-":"")+o.toLowerCase()}),rp=qr(function(t,o,l){return t+(l?" ":"")+o.toLowerCase()}),np=Lo("toLowerCase");function ip(t,o,l){t=qe(t),o=Te(o);var f=o?Ur(t):0;if(!o||f>=o)return t;var v=(o-f)/2;return qn(On(v),l)+t+qn(Tn(v),l)}function ap(t,o,l){t=qe(t),o=Te(o);var f=o?Ur(t):0;return o&&f<o?t+qn(o-f,l):t}function op(t,o,l){t=qe(t),o=Te(o);var f=o?Ur(t):0;return o&&f<o?qn(o-f,l)+t:t}function sp(t,o,l){return l||o==null?o=0:o&&(o=+o),hl(qe(t).replace(Ot,""),o||0)}function up(t,o,l){return(l?wt(t,o,l):o===r)?o=1:o=Te(o),Ri(qe(t),o)}function lp(){var t=arguments,o=qe(t[0]);return t.length<3?o:o.replace(t[1],t[2])}var cp=qr(function(t,o,l){return t+(l?"_":"")+o.toLowerCase()});function fp(t,o,l){return l&&typeof l!="number"&&wt(t,o,l)&&(o=l=r),l=l===r?Ue:l>>>0,l?(t=qe(t),t&&(typeof o=="string"||o!=null&&!ta(o))&&(o=Rt(o),!o&&Dr(t))?yr(zt(t),0,l):t.split(o,l)):[]}var dp=qr(function(t,o,l){return t+(l?" ":"")+ia(o)});function hp(t,o,l){return t=qe(t),l=l==null?0:Cr(Te(l),0,t.length),o=Rt(o),t.slice(l,l+o.length)==o}function pp(t,o,l){var f=b.templateSettings;l&&wt(t,o,l)&&(o=r),t=qe(t),o=ei({},o,f,Bo);var v=ei({},o.imports,f.imports,Bo),$=lt(v),E=vi(v,$),C,D,V=0,Z=o.interpolate||hn,ee="__p += '",ce=mi((o.escape||hn).source+"|"+Z.source+"|"+(Z===Qe?Gs:hn).source+"|"+(o.evaluate||hn).source+"|$","g"),ge="//# sourceURL="+(We.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$u+"]")+`
`;t.replace(ce,function(be,Re,Le,Dt,$t,Ut){return Le||(Le=Dt),ee+=t.slice(V,Ut).replace(Qs,qu),Re&&(C=!0,ee+=`' +
__e(`+Re+`) +
'`),$t&&(D=!0,ee+=`';
`+$t+`;
__p += '`),Le&&(ee+=`' +
((__t = (`+Le+`)) == null ? '' : __t) +
'`),V=Ut+be.length,be}),ee+=`';
`;var _e=We.call(o,"variable")&&o.variable;if(!_e)ee=`with (obj) {
`+ee+`
}
`;else if(Bs.test(_e))throw new xe(p);ee=(D?ee.replace(ft,""):ee).replace(Gr,"$1").replace(er,"$1;"),ee="function("+(_e||"obj")+`) {
`+(_e?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(C?", __e = _.escape":"")+(D?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ee+`return __p
}`;var Oe=Ms(function(){return He($,ge+"return "+ee).apply(r,E)});if(Oe.source=ee,ea(Oe))throw Oe;return Oe}function vp(t){return qe(t).toLowerCase()}function gp(t){return qe(t).toUpperCase()}function mp(t,o,l){if(t=qe(t),t&&(l||o===r))return Wa(t);if(!t||!(o=Rt(o)))return t;var f=zt(t),v=zt(o),$=Ba(f,v),E=za(f,v)+1;return yr(f,$,E).join("")}function _p(t,o,l){if(t=qe(t),t&&(l||o===r))return t.slice(0,Ya(t)+1);if(!t||!(o=Rt(o)))return t;var f=zt(t),v=za(f,zt(o))+1;return yr(f,0,v).join("")}function bp(t,o,l){if(t=qe(t),t&&(l||o===r))return t.replace(Ot,"");if(!t||!(o=Rt(o)))return t;var f=zt(t),v=Ba(f,zt(o));return yr(f,v).join("")}function yp(t,o){var l=M,f=I;if(Je(o)){var v="separator"in o?o.separator:v;l="length"in o?Te(o.length):l,f="omission"in o?Rt(o.omission):f}t=qe(t);var $=t.length;if(Dr(t)){var E=zt(t);$=E.length}if(l>=$)return t;var C=l-Ur(f);if(C<1)return f;var D=E?yr(E,0,C).join(""):t.slice(0,C);if(v===r)return D+f;if(E&&(C+=D.length-C),ta(v)){if(t.slice(C).search(v)){var V,Z=D;for(v.global||(v=mi(v.source,qe(fa.exec(v))+"g")),v.lastIndex=0;V=v.exec(Z);)var ee=V.index;D=D.slice(0,ee===r?C:ee)}}else if(t.indexOf(Rt(v),C)!=C){var ce=D.lastIndexOf(v);ce>-1&&(D=D.slice(0,ce))}return D+f}function wp(t){return t=qe(t),t&&dn.test(t)?t.replace(cn,Vu):t}var $p=qr(function(t,o,l){return t+(l?" ":"")+o.toUpperCase()}),ia=Lo("toUpperCase");function Us(t,o,l){return t=qe(t),o=l?r:o,o===r?Bu(t)?Ju(t):Uu(t):t.match(o)||[]}var Ms=Ae(function(t,o){try{return At(t,r,o)}catch(l){return ea(l)?l:new xe(l)}}),Sp=ar(function(t,o){return Lt(o,function(l){l=Jt(l),nr(t,l,Ji(t[l],t))}),t});function xp(t){var o=t==null?0:t.length,l=me();return t=o?Ke(t,function(f){if(typeof f[1]!="function")throw new Ft(c);return[l(f[0]),f[1]]}):[],Ae(function(f){for(var v=-1;++v<o;){var $=t[v];if(At($[0],this,f))return At($[1],this,f)}})}function Ep(t){return Vl(Nt(t,m))}function aa(t){return function(){return t}}function kp(t,o){return t==null||t!==t?o:t}var Cp=Ho(),Tp=Ho(!0);function kt(t){return t}function oa(t){return vo(typeof t=="function"?t:Nt(t,m))}function Op(t){return mo(Nt(t,m))}function Ap(t,o){return _o(t,Nt(o,m))}var Ip=Ae(function(t,o){return function(l){return rn(l,t,o)}}),Rp=Ae(function(t,o){return function(l){return rn(t,l,o)}});function sa(t,o,l){var f=lt(o),v=Un(o,f);l==null&&!(Je(o)&&(v.length||!f.length))&&(l=o,o=t,t=this,v=Un(o,lt(o)));var $=!(Je(l)&&"chain"in l)||!!l.chain,E=sr(t);return Lt(v,function(C){var D=o[C];t[C]=D,E&&(t.prototype[C]=function(){var V=this.__chain__;if($||V){var Z=t(this.__wrapped__),ee=Z.__actions__=St(this.__actions__);return ee.push({func:D,args:arguments,thisArg:t}),Z.__chain__=V,Z}return D.apply(t,pr([this.value()],arguments))})}),t}function Pp(){return ht._===this&&(ht._=il),this}function ua(){}function Dp(t){return t=Te(t),Ae(function(o){return bo(o,t)})}var Up=Hi(Ke),Mp=Hi(Fa),Lp=Hi(ci);function Ls(t){return Gi(t)?fi(Jt(t)):dc(t)}function Fp(t){return function(o){return t==null?r:Tr(t,o)}}var Hp=jo(),Np=jo(!0);function la(){return[]}function ca(){return!1}function jp(){return{}}function qp(){return""}function Wp(){return!0}function Bp(t,o){if(t=Te(t),t<1||t>Ie)return[];var l=Ue,f=vt(t,Ue);o=me(o),t-=Ue;for(var v=pi(f,o);++l<t;)o(l);return v}function zp(t){return ke(t)?Ke(t,Jt):Pt(t)?[t]:St(ns(qe(t)))}function Gp(t){var o=++rl;return qe(t)+o}var Yp=jn(function(t,o){return t+o},0),Xp=Ni("ceil"),Vp=jn(function(t,o){return t/o},1),Kp=Ni("floor");function Zp(t){return t&&t.length?Dn(t,kt,Ei):r}function Jp(t,o){return t&&t.length?Dn(t,me(o,2),Ei):r}function Qp(t){return ja(t,kt)}function ev(t,o){return ja(t,me(o,2))}function tv(t){return t&&t.length?Dn(t,kt,Oi):r}function rv(t,o){return t&&t.length?Dn(t,me(o,2),Oi):r}var nv=jn(function(t,o){return t*o},1),iv=Ni("round"),av=jn(function(t,o){return t-o},0);function ov(t){return t&&t.length?hi(t,kt):0}function sv(t,o){return t&&t.length?hi(t,me(o,2)):0}return b.after=Od,b.ary=ps,b.assign=gh,b.assignIn=Ts,b.assignInWith=ei,b.assignWith=mh,b.at=_h,b.before=vs,b.bind=Ji,b.bindAll=Sp,b.bindKey=gs,b.castArray=jd,b.chain=fs,b.chunk=Vc,b.compact=Kc,b.concat=Zc,b.cond=xp,b.conforms=Ep,b.constant=aa,b.countBy=od,b.create=bh,b.curry=ms,b.curryRight=_s,b.debounce=bs,b.defaults=yh,b.defaultsDeep=wh,b.defer=Ad,b.delay=Id,b.difference=Jc,b.differenceBy=Qc,b.differenceWith=ef,b.drop=tf,b.dropRight=rf,b.dropRightWhile=nf,b.dropWhile=af,b.fill=of,b.filter=ud,b.flatMap=fd,b.flatMapDeep=dd,b.flatMapDepth=hd,b.flatten=ss,b.flattenDeep=sf,b.flattenDepth=uf,b.flip=Rd,b.flow=Cp,b.flowRight=Tp,b.fromPairs=lf,b.functions=Th,b.functionsIn=Oh,b.groupBy=pd,b.initial=ff,b.intersection=df,b.intersectionBy=hf,b.intersectionWith=pf,b.invert=Ih,b.invertBy=Rh,b.invokeMap=gd,b.iteratee=oa,b.keyBy=md,b.keys=lt,b.keysIn=Et,b.map=Xn,b.mapKeys=Dh,b.mapValues=Uh,b.matches=Op,b.matchesProperty=Ap,b.memoize=Kn,b.merge=Mh,b.mergeWith=Os,b.method=Ip,b.methodOf=Rp,b.mixin=sa,b.negate=Zn,b.nthArg=Dp,b.omit=Lh,b.omitBy=Fh,b.once=Pd,b.orderBy=_d,b.over=Up,b.overArgs=Dd,b.overEvery=Mp,b.overSome=Lp,b.partial=Qi,b.partialRight=ys,b.partition=bd,b.pick=Hh,b.pickBy=As,b.property=Ls,b.propertyOf=Fp,b.pull=_f,b.pullAll=ls,b.pullAllBy=bf,b.pullAllWith=yf,b.pullAt=wf,b.range=Hp,b.rangeRight=Np,b.rearg=Ud,b.reject=$d,b.remove=$f,b.rest=Md,b.reverse=Ki,b.sampleSize=xd,b.set=jh,b.setWith=qh,b.shuffle=Ed,b.slice=Sf,b.sortBy=Td,b.sortedUniq=Af,b.sortedUniqBy=If,b.split=fp,b.spread=Ld,b.tail=Rf,b.take=Pf,b.takeRight=Df,b.takeRightWhile=Uf,b.takeWhile=Mf,b.tap=Zf,b.throttle=Fd,b.thru=Yn,b.toArray=Es,b.toPairs=Is,b.toPairsIn=Rs,b.toPath=zp,b.toPlainObject=Cs,b.transform=Wh,b.unary=Hd,b.union=Lf,b.unionBy=Ff,b.unionWith=Hf,b.uniq=Nf,b.uniqBy=jf,b.uniqWith=qf,b.unset=Bh,b.unzip=Zi,b.unzipWith=cs,b.update=zh,b.updateWith=Gh,b.values=zr,b.valuesIn=Yh,b.without=Wf,b.words=Us,b.wrap=Nd,b.xor=Bf,b.xorBy=zf,b.xorWith=Gf,b.zip=Yf,b.zipObject=Xf,b.zipObjectDeep=Vf,b.zipWith=Kf,b.entries=Is,b.entriesIn=Rs,b.extend=Ts,b.extendWith=ei,sa(b,b),b.add=Yp,b.attempt=Ms,b.camelCase=Zh,b.capitalize=Ps,b.ceil=Xp,b.clamp=Xh,b.clone=qd,b.cloneDeep=Bd,b.cloneDeepWith=zd,b.cloneWith=Wd,b.conformsTo=Gd,b.deburr=Ds,b.defaultTo=kp,b.divide=Vp,b.endsWith=Jh,b.eq=Yt,b.escape=Qh,b.escapeRegExp=ep,b.every=sd,b.find=ld,b.findIndex=as,b.findKey=$h,b.findLast=cd,b.findLastIndex=os,b.findLastKey=Sh,b.floor=Kp,b.forEach=ds,b.forEachRight=hs,b.forIn=xh,b.forInRight=Eh,b.forOwn=kh,b.forOwnRight=Ch,b.get=ra,b.gt=Yd,b.gte=Xd,b.has=Ah,b.hasIn=na,b.head=us,b.identity=kt,b.includes=vd,b.indexOf=cf,b.inRange=Vh,b.invoke=Ph,b.isArguments=Ir,b.isArray=ke,b.isArrayBuffer=Vd,b.isArrayLike=xt,b.isArrayLikeObject=rt,b.isBoolean=Kd,b.isBuffer=wr,b.isDate=Zd,b.isElement=Jd,b.isEmpty=Qd,b.isEqual=eh,b.isEqualWith=th,b.isError=ea,b.isFinite=rh,b.isFunction=sr,b.isInteger=ws,b.isLength=Jn,b.isMap=$s,b.isMatch=nh,b.isMatchWith=ih,b.isNaN=ah,b.isNative=oh,b.isNil=uh,b.isNull=sh,b.isNumber=Ss,b.isObject=Je,b.isObjectLike=et,b.isPlainObject=ln,b.isRegExp=ta,b.isSafeInteger=lh,b.isSet=xs,b.isString=Qn,b.isSymbol=Pt,b.isTypedArray=Br,b.isUndefined=ch,b.isWeakMap=fh,b.isWeakSet=dh,b.join=vf,b.kebabCase=tp,b.last=qt,b.lastIndexOf=gf,b.lowerCase=rp,b.lowerFirst=np,b.lt=hh,b.lte=ph,b.max=Zp,b.maxBy=Jp,b.mean=Qp,b.meanBy=ev,b.min=tv,b.minBy=rv,b.stubArray=la,b.stubFalse=ca,b.stubObject=jp,b.stubString=qp,b.stubTrue=Wp,b.multiply=nv,b.nth=mf,b.noConflict=Pp,b.noop=ua,b.now=Vn,b.pad=ip,b.padEnd=ap,b.padStart=op,b.parseInt=sp,b.random=Kh,b.reduce=yd,b.reduceRight=wd,b.repeat=up,b.replace=lp,b.result=Nh,b.round=iv,b.runInContext=A,b.sample=Sd,b.size=kd,b.snakeCase=cp,b.some=Cd,b.sortedIndex=xf,b.sortedIndexBy=Ef,b.sortedIndexOf=kf,b.sortedLastIndex=Cf,b.sortedLastIndexBy=Tf,b.sortedLastIndexOf=Of,b.startCase=dp,b.startsWith=hp,b.subtract=av,b.sum=ov,b.sumBy=sv,b.template=pp,b.times=Bp,b.toFinite=ur,b.toInteger=Te,b.toLength=ks,b.toLower=vp,b.toNumber=Wt,b.toSafeInteger=vh,b.toString=qe,b.toUpper=gp,b.trim=mp,b.trimEnd=_p,b.trimStart=bp,b.truncate=yp,b.unescape=wp,b.uniqueId=Gp,b.upperCase=$p,b.upperFirst=ia,b.each=ds,b.eachRight=hs,b.first=us,sa(b,function(){var t={};return Kt(b,function(o,l){We.call(b.prototype,l)||(t[l]=o)}),t}(),{chain:!1}),b.VERSION=a,Lt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){b[t].placeholder=b}),Lt(["drop","take"],function(t,o){De.prototype[t]=function(l){l=l===r?1:ut(Te(l),0);var f=this.__filtered__&&!o?new De(this):this.clone();return f.__filtered__?f.__takeCount__=vt(l,f.__takeCount__):f.__views__.push({size:vt(l,Ue),type:t+(f.__dir__<0?"Right":"")}),f},De.prototype[t+"Right"]=function(l){return this.reverse()[t](l).reverse()}}),Lt(["filter","map","takeWhile"],function(t,o){var l=o+1,f=l==fe||l==$e;De.prototype[t]=function(v){var $=this.clone();return $.__iteratees__.push({iteratee:me(v,3),type:l}),$.__filtered__=$.__filtered__||f,$}}),Lt(["head","last"],function(t,o){var l="take"+(o?"Right":"");De.prototype[t]=function(){return this[l](1).value()[0]}}),Lt(["initial","tail"],function(t,o){var l="drop"+(o?"":"Right");De.prototype[t]=function(){return this.__filtered__?new De(this):this[l](1)}}),De.prototype.compact=function(){return this.filter(kt)},De.prototype.find=function(t){return this.filter(t).head()},De.prototype.findLast=function(t){return this.reverse().find(t)},De.prototype.invokeMap=Ae(function(t,o){return typeof t=="function"?new De(this):this.map(function(l){return rn(l,t,o)})}),De.prototype.reject=function(t){return this.filter(Zn(me(t)))},De.prototype.slice=function(t,o){t=Te(t);var l=this;return l.__filtered__&&(t>0||o<0)?new De(l):(t<0?l=l.takeRight(-t):t&&(l=l.drop(t)),o!==r&&(o=Te(o),l=o<0?l.dropRight(-o):l.take(o-t)),l)},De.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},De.prototype.toArray=function(){return this.take(Ue)},Kt(De.prototype,function(t,o){var l=/^(?:filter|find|map|reject)|While$/.test(o),f=/^(?:head|last)$/.test(o),v=b[f?"take"+(o=="last"?"Right":""):o],$=f||/^find/.test(o);!v||(b.prototype[o]=function(){var E=this.__wrapped__,C=f?[1]:arguments,D=E instanceof De,V=C[0],Z=D||ke(E),ee=function(Re){var Le=v.apply(b,pr([Re],C));return f&&ce?Le[0]:Le};Z&&l&&typeof V=="function"&&V.length!=1&&(D=Z=!1);var ce=this.__chain__,ge=!!this.__actions__.length,_e=$&&!ce,Oe=D&&!ge;if(!$&&Z){E=Oe?E:new De(this);var be=t.apply(E,C);return be.__actions__.push({func:Yn,args:[ee],thisArg:r}),new Ht(be,ce)}return _e&&Oe?t.apply(this,C):(be=this.thru(ee),_e?f?be.value()[0]:be.value():be)})}),Lt(["pop","push","shift","sort","splice","unshift"],function(t){var o=bn[t],l=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",f=/^(?:pop|shift)$/.test(t);b.prototype[t]=function(){var v=arguments;if(f&&!this.__chain__){var $=this.value();return o.apply(ke($)?$:[],v)}return this[l](function(E){return o.apply(ke(E)?E:[],v)})}}),Kt(De.prototype,function(t,o){var l=b[o];if(l){var f=l.name+"";We.call(Hr,f)||(Hr[f]=[]),Hr[f].push({name:o,func:l})}}),Hr[Nn(r,j).name]=[{name:"wrapper",func:r}],De.prototype.clone=yl,De.prototype.reverse=wl,De.prototype.value=$l,b.prototype.at=Jf,b.prototype.chain=Qf,b.prototype.commit=ed,b.prototype.next=td,b.prototype.plant=nd,b.prototype.reverse=id,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=ad,b.prototype.first=b.prototype.head,Vr&&(b.prototype[Vr]=rd),b},Mr=Qu();Sr?((Sr.exports=Mr)._=Mr,oi._=Mr):ht._=Mr}).call(commonjsGlobal)})(lodash,lodash.exports);var _=lodash.exports,root=_root,now$1=function(){return root.Date.now()},now_1=now$1,isObject$1=isObject_1$1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(n,e,r){var a,s,u,c,p,d,g=0,y=!1,m=!1,S=!0;if(typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT$1);e=toNumber(e)||0,isObject$1(r)&&(y=!!r.leading,m="maxWait"in r,u=m?nativeMax(toNumber(r.maxWait)||0,e):u,S="trailing"in r?!!r.trailing:S);function k(O){var P=a,ie=s;return a=s=void 0,g=O,c=n.apply(ie,P),c}function L(O){return g=O,p=setTimeout(j,e),y?k(O):c}function z(O){var P=O-d,ie=O-g,ae=e-P;return m?nativeMin(ae,u-ie):ae}function Y(O){var P=O-d,ie=O-g;return d===void 0||P>=e||P<0||m&&ie>=u}function j(){var O=now();if(Y(O))return T(O);p=setTimeout(j,z(O))}function T(O){return p=void 0,S&&a?k(O):(a=s=void 0,c)}function H(){p!==void 0&&clearTimeout(p),g=0,a=d=s=p=void 0}function R(){return p===void 0?c:T(now())}function F(){var O=now(),P=Y(O);if(a=arguments,s=this,d=O,P){if(p===void 0)return L(d);if(m)return clearTimeout(p),p=setTimeout(j,e),k(d)}return p===void 0&&(p=setTimeout(j,e)),c}return F.cancel=H,F.flush=R,F}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1$1,FUNC_ERROR_TEXT="Expected a function";function throttle(n,e,r){var a=!0,s=!0;if(typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),debounce(n,e,{leading:a,maxWait:e,trailing:s})}var throttle_1=throttle;const globalSettings=writable({});let worldObject=writable({});const GRID_SIZE=32,buildWorld=()=>new Promise(async(n,e)=>{const r=await loadData('*[_type == "room"]{..., "bgImageUrl": backgroundImage.asset->url, "bgVideoUrl": backgroundVideo.asset->url}'),a=await loadData('*[_type == "zone"]{..., "bgImageUrl": backgroundImage.asset->url, "bgVideoUrl": backgroundVideo.asset->url}'),s=await loadData('*[_type == "exob"]'),u=await loadData('*[_type == "portal"]{..., targetArea->{...}, "bgImageUrl": backgroundImage.asset->url}'),c=await loadData('*[_type == "event"]'),p=await loadData('*[_id == "bulletin-board-settings"][0]');let d={};r.forEach(g=>d[g._id]=g);for(const[g,y]of Object.entries(d))d[g].objects=[],d[g].zones=[],d[g].portals=[],d[g].inlineStyles=parseStyleProperties(y);s.forEach(g=>{has_1(g,"parentArea._ref")&&d[g.parentArea._ref].objects.push(g)}),p&&(p.isBulletinBoard=!0,p.title="Bulletin Board",p.events=c,d[p.parentArea._ref].objects.push(p)),a.forEach(g=>{has_1(g,"parentArea._ref")&&d[g.parentArea._ref].zones.push(g)}),u.forEach(g=>{has_1(g,"parentArea._ref")&&d[g.parentArea._ref].portals.push(g)}),worldObject.set(d),n()}),loadAvatars=()=>new Promise(async(n,e)=>{const r=await loadData('*[_type == "avatar"]{..., "imageUrl": image.asset->url}');n(r)}),loadOnboardingTutorial=()=>new Promise(async(n,e)=>{const r=await loadData('*[_id == "onboarding-tutorial"][0]');n(r)}),parseStyleProperties=n=>{let e="width: "+get_1(n,"dimensions.width",0)*GRID_SIZE+"px;",r="height: "+get_1(n,"dimensions.height",0)*GRID_SIZE+"px;",a=n.bgVideoUrl?"":"background-image: url("+n.bgImageUrl+");";return e+r+a};loadData('*[_id == "global-settings"]').then(n=>{globalSettings.set(n)}).catch(n=>{console.log(n)});const streams=writable([]),initializeStreamsHandler=async()=>{const n='*[_id == "streams"][0]';let e=await loadData(n);streams.set(e.activeStreams.filter(r=>r.active)),client.listen(n).subscribe(r=>{streams.set(r.result.activeStreams.filter(a=>a.active))})},localPlayer=writable({uuid:"",sessionId:"",name:"",profile:{}}),players=writable({}),chatMessages=writable([]),GAME_SERVER_URL="wss://open.eyebeam.dev";let moveTo={},goToRoom={},enterArticle={},leaveArticle={},submitChat={},gameClient={};const connectToGameServer=n=>(gameClient=new Colyseus.Client(GAME_SERVER_URL),new Promise((e,r)=>{gameClient.joinOrCreate("game",n).then(a=>{a.state.players.onRemove=(s,u)=>{players.update(c=>(delete c[s.uuid],c))},a.state.players.onAdd=(s,u)=>{players.update(c=>(c[s.uuid]={name:s.name,x:s.x,y:s.y,room:s.room,npc:s.npc,inTransit:!1,self:s.uuid===get_store_value(localPlayer).uuid},c)),s.uuid===get_store_value(localPlayer).uuid&&localPlayer.update(c=>(c.sessionId=u,c.name=s.name,c)),s.onChange=c=>{get_store_value(players)[s.uuid].room!==s.room?(players.update(p=>(p[s.uuid].name=s.name,p[s.uuid].shape=s.shape,p[s.uuid].room=s.room,p[s.uuid].inTransit=!0,p[s.uuid].viewing=s.viewing,p[s.uuid].x=s.x,p[s.uuid].y=s.y,p)),setTimeout(()=>{players.update(p=>(p[s.uuid].inTransit=!1,p))},1e3)):players.update(p=>(p[s.uuid].name=s.name,p[s.uuid].shape=s.shape,p[s.uuid].viewing=s.viewing,p)),s.uuid!==get_store_value(localPlayer).uuid&&players.update(p=>(p[s.uuid].x=s.x,p[s.uuid].y=s.y,p))}},a.onMessage("banned",s=>{uiState.set(STATE.ERROR)}),moveTo=(s,u,c)=>{c?a.send("go",{x:s,y:u,keyboardNavigation:!0}):a.send("go",{x:s,y:u,originX:get_store_value(players)[get_store_value(localPlayer).uuid].x,originY:get_store_value(players)[get_store_value(localPlayer).uuid].y,keyboardNavigation:!1})},goToRoom=s=>{a.send("changeRoom",{id:s.id,x:s.x,y:s.y})},enterArticle=s=>{a.send("enterArticle",{id:s._id})},leaveArticle=()=>{a.send("leaveArticle")},a.state.messages.onAdd=s=>{chatMessages.update(u=>(u.push(s),u))},a.onMessage("nukeMessage",s=>{}),submitChat=(s,u)=>{try{a.send("submitChatMessage",{msgId:nanoid(),uuid:get_store_value(localPlayer).uuid,name:get_store_value(players)[get_store_value(localPlayer).uuid].name,text:s.detail.text,room:u._id})}catch(c){uiState.set(STATE.ERROR),console.dir(c)}},a.onLeave(s=>{uiState.set(STATE.DISCONNECTED)}),a.onError((s,u)=>{uiState.set(STATE.ERROR),console.error("Gameserver error:",u)}),e()}).catch(a=>{console.dir(a),a.code==4215,uiState.set(STATE.ERROR),r(a)})})),roomIntent=writable(!1),objectIntent=writable(!1),activeZone=writable(!1),currentRoom=writable(!1),centeringInlineStyles=writable("transform: translateX(-50%) translateY(-50%);"),initializeKeyboardHandler=()=>new Promise((n,e)=>{document.addEventListener("keydown",throttle_1(r=>{r.keyCode===38&&get_store_value(players)[get_store_value(localPlayer).uuid].y>0&&players.update(a=>(a[get_store_value(localPlayer).uuid].y-=1,a)),r.keyCode===40&&get_store_value(players)[get_store_value(localPlayer).uuid].y*GRID_SIZE<get_store_value(currentRoom).dimensions.height*GRID_SIZE-60&&players.update(a=>(a[get_store_value(localPlayer).uuid].y+=1,a)),r.keyCode===37&&get_store_value(players)[get_store_value(localPlayer).uuid].x>0&&players.update(a=>(a[get_store_value(localPlayer).uuid].x-=1,a)),r.keyCode===39&&get_store_value(players)[get_store_value(localPlayer).uuid].x*GRID_SIZE<get_store_value(currentRoom).dimensions.width*GRID_SIZE-60&&players.update(a=>(a[get_store_value(localPlayer).uuid].x+=1,a)),moveTo(get_store_value(players)[get_store_value(localPlayer).uuid].x,get_store_value(players)[get_store_value(localPlayer).uuid].y,!0)},100)),n()}),checkPortalOverlap=()=>{if(get_store_value(currentRoom).portals&&Array.isArray(get_store_value(currentRoom).portals)){let n=!1;get_store_value(currentRoom).portals.forEach(e=>{get_store_value(players)[get_store_value(localPlayer).uuid].x===e.x&&get_store_value(players)[get_store_value(localPlayer).uuid].y===e.y&&(n=e.targetArea._id)}),n?roomIntent.set(n):roomIntent.set(!1)}},checkObjectOverlap=()=>{if(get_store_value(currentRoom).objects&&Array.isArray(get_store_value(currentRoom).objects)){let n=!1;get_store_value(currentRoom).objects.filter(e=>!e.static).forEach(e=>{inRange_1(get_store_value(players)[get_store_value(localPlayer).uuid].x,e.x,e.x+_.get(e,"dimensions.width",0))&&inRange_1(get_store_value(players)[get_store_value(localPlayer).uuid].y,e.y,e.y+_.get(e,"dimensions.height",0))&&(n=e._id)}),n?objectIntent.set(n):objectIntent.set(!1)}},checkZoneOverlap=()=>{let n=!1;get_store_value(currentRoom).zones.forEach(e=>{inRange_1(get_store_value(players)[get_store_value(localPlayer).uuid].x,e.x,e.x+e.dimensions.width)&&inRange_1(get_store_value(players)[get_store_value(localPlayer).uuid].y,e.y,e.y+e.dimensions.height)&&(n=e)}),n?activeZone.set(n):activeZone.set(!1)};export{loadAvatars as $,Arrow_down as A,Blocks as B,loadOnboardingTutorial as C,centeringInlineStyles as D,isPhone as E,chatMessages as F,focusPlayer as G,GRID_SIZE as H,urlFor as I,toolTipConfig as J,commonjsGlobal as K,getVideoId as L,urlForMainSite as M,isUpcoming as N,dateTimeFormat as O,Play_arrow as P,renderBlockTextFromMainSite as Q,players as R,STATE as S,enterArticle as T,leaveArticle as U,infoLogger as V,configureAuthClient as W,errorLogger as X,api as Y,buildWorld as Z,_arrayMap as _,activeCity as a,localPlayer as a0,nanoid as a1,transitionWorldOut as a2,goToRoom as a3,transitionWorldIn as a4,getRandomInt as a5,connectToGameServer as a6,initializeKeyboardHandler as a7,initializeStreamsHandler as a8,roomIntent as a9,objectIntent as aa,submitChat as ab,worldObject as ac,streams as ad,activeZone as ae,checkPortalOverlap as af,checkZoneOverlap as ag,checkObjectOverlap as ah,isAuthenticated as b,login as c,logout as d,playSound as e,fade as f,currentRoom as g,has_1 as h,inRange_1 as i,activeArticle as j,_root as k,loadDataFromMainSite as l,_baseGetTag as m,isLength_1 as n,isObjectLike_1 as o,profile as p,_freeGlobal as q,isArguments_1 as r,showLabels as s,trayOpen as t,uiState as u,_isIndex as v,isArray_1$1 as w,isFunction_1$2 as x,renderBlockText as y,get_1 as z};
