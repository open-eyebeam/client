import{X as identity$2,S as SvelteComponent,i as init,s as safe_not_equal,e as element,c as claim_element,a as children,d as detach,b as attr,g as insert_hydration,l as empty,E as noop$1,F as svg_element,G as claim_svg_element,I as append_hydration,n as group_outros,o as transition_out,p as check_outros,q as transition_in,R as destroy_each,t as text,h as claim_text,j as set_data,Y as HtmlTagHydration,k as space,w as create_component,Z as claim_html_tag,m as claim_space,x as claim_component,y as mount_component,B as destroy_component,_ as src_url_equal,H as toggle_class,f as set_style,$ as query_selector_all,O as listen$2,N as handle_promise,P as update_await_block_branch,a0 as get_store_value}from"./index-d2e0416a.js";import{w as writable}from"./index-34c2ee49.js";function cubicOut(t){const e=t-1;return e*e*e+1}function quartOut(t){return Math.pow(t-1,3)*(1-t)+1}function fade(t,{delay:e=0,duration:r=400,easing:n=identity$2}={}){const a=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:o=>`opacity: ${o*a}`}}function scale(t,{delay:e=0,duration:r=400,easing:n=cubicOut,start:a=0,opacity:o=0}={}){const s=getComputedStyle(t),l=+s.opacity,c=s.transform==="none"?"":s.transform,u=1-a,d=l*(1-o);return{delay:e,duration:r,easing:n,css:(f,p)=>`
			transform: ${c} scale(${1-u*p});
			opacity: ${l-d*p}
		`}}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function baseHas$1(t,e){return t!=null&&hasOwnProperty$6.call(t,e)}var _baseHas=baseHas$1,isArray$7=Array.isArray,isArray_1$1=isArray$7,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$4=freeGlobal||freeSelf||Function("return this")(),_root=root$4,root$3=_root,Symbol$4=root$3.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty,nativeObjectToString$1=objectProto$5.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(t){var e=hasOwnProperty$5.call(t,symToStringTag$1),r=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var n=!0}catch{}var a=nativeObjectToString$1.call(t);return n&&(e?t[symToStringTag$1]=r:delete t[symToStringTag$1]),a}var _getRawTag=getRawTag$1,objectProto$4=Object.prototype,nativeObjectToString=objectProto$4.toString;function objectToString$1(t){return nativeObjectToString.call(t)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$3(t){return t==null?t===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(t)?getRawTag(t):objectToString(t)}var _baseGetTag=baseGetTag$3;function isObjectLike$3(t){return t!=null&&typeof t=="object"}var isObjectLike_1=isObjectLike$3,baseGetTag$2=_baseGetTag,isObjectLike$2=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$4(t){return typeof t=="symbol"||isObjectLike$2(t)&&baseGetTag$2(t)==symbolTag}var isSymbol_1=isSymbol$4,isArray$6=isArray_1$1,isSymbol$3=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$1(t,e){if(isArray$6(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||isSymbol$3(t)?!0:reIsPlainProp.test(t)||!reIsDeepProp.test(t)||e!=null&&t in Object(e)}var _isKey=isKey$1;function isObject$8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var isObject_1$1=isObject$8,baseGetTag$1=_baseGetTag,isObject$7=isObject_1$1,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(t){if(!isObject$7(t))return!1;var e=baseGetTag$1(t);return e==funcTag||e==genTag||e==asyncTag||e==proxyTag}var isFunction_1$2=isFunction$3,root$2=_root,coreJsData$1=root$2["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function isMasked$1(t){return!!maskSrcKey&&maskSrcKey in t}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$1(t){if(t!=null){try{return funcToString$1.call(t)}catch{}try{return t+""}catch{}}return""}var _toSource=toSource$1,isFunction$2=isFunction_1$2,isMasked=_isMasked,isObject$6=isObject_1$1,toSource=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$3=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$4=objectProto$3.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$4).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(t){if(!isObject$6(t)||isMasked(t))return!1;var e=isFunction$2(t)?reIsNative:reIsHostCtor;return e.test(toSource(t))}var _baseIsNative=baseIsNative$1;function getValue$1(t,e){return t==null?void 0:t[e]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$2(t,e){var r=getValue(t,e);return baseIsNative(r)?r:void 0}var _getNative=getNative$2,getNative$1=_getNative,nativeCreate$4=getNative$1(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function hashGet$1(t){var e=this.__data__;if(nativeCreate$2){var r=e[t];return r===HASH_UNDEFINED$1?void 0:r}return hasOwnProperty$3.call(e,t)?e[t]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function hashHas$1(t){var e=this.__data__;return nativeCreate$1?e[t]!==void 0:hasOwnProperty$2.call(e,t)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nativeCreate&&e===void 0?HASH_UNDEFINED:e,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$1(t,e){return t===e||t!==t&&e!==e}var eq_1=eq$1,eq=eq_1;function assocIndexOf$4(t,e){for(var r=t.length;r--;)if(eq(t[r][0],e))return r;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(t){var e=this.__data__,r=assocIndexOf$3(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():splice.call(e,r,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(t){var e=this.__data__,r=assocIndexOf$2(e,t);return r<0?void 0:e[r][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(t){return assocIndexOf$1(this.__data__,t)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(t,e){var r=this.__data__,n=assocIndexOf(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$1(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ListCache$1.prototype.clear=listCacheClear;ListCache$1.prototype.delete=listCacheDelete;ListCache$1.prototype.get=listCacheGet;ListCache$1.prototype.has=listCacheHas;ListCache$1.prototype.set=listCacheSet;var _ListCache=ListCache$1,getNative=_getNative,root$1=_root,Map$2=getNative(root$1,"Map"),_Map=Map$2,Hash=_Hash,ListCache=_ListCache,Map$1=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(t,e){var r=t.__data__;return isKeyable(e)?r[typeof e=="string"?"string":"hash"]:r.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(t){var e=getMapData$3(this,t).delete(t);return this.size-=e?1:0,e}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(t){return getMapData$2(this,t).get(t)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(t){return getMapData$1(this,t).has(t)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(t,e){var r=getMapData(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$1(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}MapCache$1.prototype.clear=mapCacheClear;MapCache$1.prototype.delete=mapCacheDelete;MapCache$1.prototype.get=mapCacheGet;MapCache$1.prototype.has=mapCacheHas;MapCache$1.prototype.set=mapCacheSet;var _MapCache=MapCache$1,MapCache=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var s=t.apply(this,n);return r.cache=o.set(a,s)||o,s};return r.cache=new(memoize$1.Cache||MapCache),r}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(t){var e=memoize(t,function(n){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),n}),r=e.cache;return e}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rePropName,function(r,n,a,o){e.push(a?o.replace(reEscapeChar,"$1"):n||r)}),e}),_stringToPath=stringToPath$1;function arrayMap$1(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var _arrayMap=arrayMap$1,Symbol$1=_Symbol,arrayMap=_arrayMap,isArray$5=isArray_1$1,isSymbol$2=isSymbol_1,INFINITY$2=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString$1(t){if(typeof t=="string")return t;if(isArray$5(t))return arrayMap(t,baseToString$1)+"";if(isSymbol$2(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return e=="0"&&1/t==-INFINITY$2?"-0":e}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$2(t){return t==null?"":baseToString(t)}var toString_1=toString$2,isArray$4=isArray_1$1,isKey=_isKey,stringToPath=_stringToPath,toString$1=toString_1;function castPath$2(t,e){return isArray$4(t)?t:isKey(t,e)?[t]:stringToPath(toString$1(t))}var _castPath=castPath$2,baseGetTag=_baseGetTag,isObjectLike$1=isObjectLike_1,argsTag="[object Arguments]";function baseIsArguments$1(t){return isObjectLike$1(t)&&baseGetTag(t)==argsTag}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike=isObjectLike_1,objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&hasOwnProperty$1.call(t,"callee")&&!propertyIsEnumerable.call(t,"callee")},isArguments_1=isArguments$1,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(t,e){var r=typeof t;return e=e==null?MAX_SAFE_INTEGER$1:e,!!e&&(r=="number"||r!="symbol"&&reIsUint.test(t))&&t>-1&&t%1==0&&t<e}var _isIndex=isIndex$1,MAX_SAFE_INTEGER=9007199254740991;function isLength$1(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}var isLength_1=isLength$1,isSymbol$1=isSymbol_1,INFINITY$1=1/0;function toKey$2(t){if(typeof t=="string"||isSymbol$1(t))return t;var e=t+"";return e=="0"&&1/t==-INFINITY$1?"-0":e}var _toKey=toKey$2,castPath$1=_castPath,isArguments=isArguments_1,isArray$3=isArray_1$1,isIndex=_isIndex,isLength=isLength_1,toKey$1=_toKey;function hasPath$1(t,e,r){e=castPath$1(e,t);for(var n=-1,a=e.length,o=!1;++n<a;){var s=toKey$1(e[n]);if(!(o=t!=null&&r(t,s)))break;t=t[s]}return o||++n!=a?o:(a=t==null?0:t.length,!!a&&isLength(a)&&isIndex(s,a)&&(isArray$3(t)||isArguments(t)))}var _hasPath=hasPath$1,baseHas=_baseHas,hasPath=_hasPath;function has$2(t,e){return t!=null&&hasPath(t,e,baseHas)}var has_1=has$2,nativeMax$1=Math.max,nativeMin$1=Math.min;function baseInRange$1(t,e,r){return t>=nativeMin$1(e,r)&&t<nativeMax$1(e,r)}var _baseInRange=baseInRange$1,reWhitespace=/\s/;function trimmedEndIndex$1(t){for(var e=t.length;e--&&reWhitespace.test(t.charAt(e)););return e}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(t){return t&&t.slice(0,trimmedEndIndex(t)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$5=isObject_1$1,isSymbol=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$3(t){if(typeof t=="number")return t;if(isSymbol(t))return NAN;if(isObject$5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=isObject$5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=baseTrim(t);var r=reIsBinary.test(t);return r||reIsOctal.test(t)?freeParseInt(t.slice(2),r?2:8):reIsBadHex.test(t)?NAN:+t}var toNumber_1=toNumber$3,toNumber$2=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$1(t){if(!t)return t===0?t:0;if(t=toNumber$2(t),t===INFINITY||t===-INFINITY){var e=t<0?-1:1;return e*MAX_INTEGER}return t===t?t:0}var toFinite_1=toFinite$1,baseInRange=_baseInRange,toFinite=toFinite_1,toNumber$1=toNumber_1;function inRange(t,e,r){return e=toFinite(e),r===void 0?(r=e,e=0):r=toFinite(r),t=toNumber$1(t),baseInRange(t,e,r)}var inRange_1=inRange;const STATE={ERROR:0,READY:1,LOADING:2,DISCONNECTED:3,ONBOARDING:4},showGrid=writable(!1),showLabels=writable(!0),playSound=writable(!1),activeArticle=writable(!1),activeCity=writable({}),trayOpen=writable(!1),uiState=writable(STATE.LOADING),transitionWorldOut=t=>new Promise((e,r)=>{let n=gsap.timeline();n.to(t,.5,{css:{opacity:0}}),n.play(),n.eventCallback("onComplete",()=>{e()})}),transitionWorldIn=t=>new Promise((e,r)=>{let n=gsap.timeline();n.to(t,.5,{css:{opacity:0}}),n.to(t,.5,{css:{opacity:1}}),n.play(),n.eventCallback("onComplete",()=>{e()})});/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function shouldUseNative(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign$b=shouldUseNative()?Object.assign:function(t,e){for(var r,n=toObject(t),a,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)hasOwnProperty.call(r,s)&&(n[s]=r[s]);if(getOwnPropertySymbols){a=getOwnPropertySymbols(r);for(var l=0;l<a.length;l++)propIsEnumerable.call(r,a[l])&&(n[a[l]]=r[a[l]])}}return n},Observable$5={},canReportError$1={},Subscriber$1={},isFunction$1={};Object.defineProperty(isFunction$1,"__esModule",{value:!0});function isFunction(t){return typeof t=="function"}isFunction$1.isFunction=isFunction;var Observer={},config$1={};Object.defineProperty(config$1,"__esModule",{value:!0});var _enable_super_gross_mode_that_will_cause_bad_things=!1;config$1.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else _enable_super_gross_mode_that_will_cause_bad_things&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_enable_super_gross_mode_that_will_cause_bad_things=t},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};var hostReportError$1={};Object.defineProperty(hostReportError$1,"__esModule",{value:!0});function hostReportError(t){setTimeout(function(){throw t},0)}hostReportError$1.hostReportError=hostReportError;Object.defineProperty(Observer,"__esModule",{value:!0});var config_1$2=config$1,hostReportError_1$1=hostReportError$1;Observer.empty={closed:!0,next:function(t){},error:function(t){if(config_1$2.config.useDeprecatedSynchronousErrorHandling)throw t;hostReportError_1$1.hostReportError(t)},complete:function(){}};var Subscription$1={},isArray$2={};Object.defineProperty(isArray$2,"__esModule",{value:!0});isArray$2.isArray=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();var isObject$4={};Object.defineProperty(isObject$4,"__esModule",{value:!0});function isObject$3(t){return t!==null&&typeof t=="object"}isObject$4.isObject=isObject$3;var UnsubscriptionError={};Object.defineProperty(UnsubscriptionError,"__esModule",{value:!0});var UnsubscriptionErrorImpl=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}();UnsubscriptionError.UnsubscriptionError=UnsubscriptionErrorImpl;Object.defineProperty(Subscription$1,"__esModule",{value:!0});var isArray_1=isArray$2,isObject_1=isObject$4,isFunction_1$1=isFunction$1,UnsubscriptionError_1=UnsubscriptionError,Subscription=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,a=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var l=0;l<n.length;++l){var c=n[l];c.remove(this)}if(isFunction_1$1.isFunction(o)){a&&(this._unsubscribe=void 0);try{o.call(this)}catch(f){e=f instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(f.errors):[f]}}if(isArray_1.isArray(s))for(var l=-1,u=s.length;++l<u;){var d=s[l];if(isObject_1.isObject(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof UnsubscriptionError_1.UnsubscriptionError?e=e.concat(flattenUnsubscriptionErrors(p.errors)):e.push(p)}}if(e)throw new UnsubscriptionError_1.UnsubscriptionError(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var a=r._parentOrParents;if(a===null)r._parentOrParents=this;else if(a instanceof t){if(a===this)return r;r._parentOrParents=[a,this]}else if(a.indexOf(this)===-1)a.push(this);else return r;var o=this._subscriptions;return o===null?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();Subscription$1.Subscription=Subscription;function flattenUnsubscriptionErrors(t){return t.reduce(function(e,r){return e.concat(r instanceof UnsubscriptionError_1.UnsubscriptionError?r.errors:r)},[])}var rxSubscriber={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),t.$$rxSubscriber=t.rxSubscriber})(rxSubscriber);var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Subscriber$1,"__esModule",{value:!0});var isFunction_1=isFunction$1,Observer_1$1=Observer,Subscription_1=Subscription$1,rxSubscriber_1$1=rxSubscriber,config_1$1=config$1,hostReportError_1=hostReportError$1,Subscriber=function(t){__extends$2(e,t);function e(r,n,a){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Observer_1$1.empty;break;case 1:if(!r){o.destination=Observer_1$1.empty;break}if(typeof r=="object"){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new SafeSubscriber(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new SafeSubscriber(o,r,n,a);break}return o}return e.prototype[rxSubscriber_1$1.rxSubscriber]=function(){return this},e.create=function(r,n,a){var o=new e(r,n,a);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Subscription_1.Subscription);Subscriber$1.Subscriber=Subscriber;var SafeSubscriber=function(t){__extends$2(e,t);function e(r,n,a,o){var s=t.call(this)||this;s._parentSubscriber=r;var l,c=s;return isFunction_1.isFunction(n)?l=n:n&&(l=n.next,a=n.error,o=n.complete,n!==Observer_1$1.empty&&(c=Object.create(n),isFunction_1.isFunction(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=l,s._error=a,s._complete=o,s}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!config_1$1.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,a=config_1$1.config.useDeprecatedSynchronousErrorHandling;if(this._error)!a||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)a?(n.syncErrorValue=r,n.syncErrorThrown=!0):hostReportError_1.hostReportError(r),this.unsubscribe();else{if(this.unsubscribe(),a)throw r;hostReportError_1.hostReportError(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var a=function(){return r._complete.call(r._context)};!config_1$1.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(a),this.unsubscribe()):(this.__tryOrSetError(n,a),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(a){if(this.unsubscribe(),config_1$1.config.useDeprecatedSynchronousErrorHandling)throw a;hostReportError_1.hostReportError(a)}},e.prototype.__tryOrSetError=function(r,n,a){if(!config_1$1.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,a)}catch(o){return config_1$1.config.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=o,r.syncErrorThrown=!0,!0):(hostReportError_1.hostReportError(o),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Subscriber);Subscriber$1.SafeSubscriber=SafeSubscriber;Object.defineProperty(canReportError$1,"__esModule",{value:!0});var Subscriber_1$3=Subscriber$1;function canReportError(t){for(;t;){var e=t,r=e.closed,n=e.destination,a=e.isStopped;if(r||a)return!1;n&&n instanceof Subscriber_1$3.Subscriber?t=n:t=null}return!0}canReportError$1.canReportError=canReportError;var toSubscriber$1={};Object.defineProperty(toSubscriber$1,"__esModule",{value:!0});var Subscriber_1$2=Subscriber$1,rxSubscriber_1=rxSubscriber,Observer_1=Observer;function toSubscriber(t,e,r){if(t){if(t instanceof Subscriber_1$2.Subscriber)return t;if(t[rxSubscriber_1.rxSubscriber])return t[rxSubscriber_1.rxSubscriber]()}return!t&&!e&&!r?new Subscriber_1$2.Subscriber(Observer_1.empty):new Subscriber_1$2.Subscriber(t,e,r)}toSubscriber$1.toSubscriber=toSubscriber;var observable$3={};Object.defineProperty(observable$3,"__esModule",{value:!0});observable$3.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var pipe$1={},identity$1={};Object.defineProperty(identity$1,"__esModule",{value:!0});function identity(t){return t}identity$1.identity=identity;Object.defineProperty(pipe$1,"__esModule",{value:!0});var identity_1=identity$1;function pipe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return pipeFromArray(t)}pipe$1.pipe=pipe;function pipeFromArray(t){return t.length===0?identity_1.identity:t.length===1?t[0]:function(r){return t.reduce(function(n,a){return a(n)},r)}}pipe$1.pipeFromArray=pipeFromArray;Object.defineProperty(Observable$5,"__esModule",{value:!0});var canReportError_1=canReportError$1,toSubscriber_1=toSubscriber$1,observable_1=observable$3,pipe_1=pipe$1,config_1=config$1,Observable$4=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var a=this.operator,o=toSubscriber_1.toSubscriber(e,r,n);if(a?o.add(a.call(o,this.source)):o.add(this.source||config_1.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),config_1.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){config_1.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),canReportError_1.canReportError(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=getPromiseCtor(r),new r(function(a,o){var s;s=n.subscribe(function(l){try{e(l)}catch(c){o(c),s&&s.unsubscribe()}},o,a)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[observable_1.observable]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:pipe_1.pipeFromArray(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=getPromiseCtor(e),new e(function(n,a){var o;r.subscribe(function(s){return o=s},function(s){return a(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();Observable$5.Observable=Observable$4;function getPromiseCtor(t){if(t||(t=config_1.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var filter$6={},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(filter$6,"__esModule",{value:!0});var Subscriber_1$1=Subscriber$1;function filter$5(t,e){return function(n){return n.lift(new FilterOperator(t,e))}}filter$6.filter=filter$5;var FilterOperator=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new FilterSubscriber(e,this.predicate,this.thisArg))},t}(),FilterSubscriber=function(t){__extends$1(e,t);function e(r,n,a){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=a,o.count=0,o}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(a){this.destination.error(a);return}n&&this.destination.next(r)},e}(Subscriber_1$1.Subscriber),map$5={},__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(map$5,"__esModule",{value:!0});var Subscriber_1=Subscriber$1;function map$4(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new MapOperator(t,e))}}map$5.map=map$4;var MapOperator=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new MapSubscriber(e,this.project,this.thisArg))},t}();map$5.MapOperator=MapOperator;var MapSubscriber=function(t){__extends(e,t);function e(r,n,a){var o=t.call(this,r)||this;return o.project=n,o.count=0,o.thisArg=a||o,o}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(a){this.destination.error(a);return}this.destination.next(n)},e}(Subscriber_1.Subscriber),_require$5=Observable$5,Observable$3=_require$5.Observable,_require2$2=filter$6,filter$4=_require2$2.filter,_require3=map$5,map$3=_require3.map,observable$2={Observable:Observable$3,filter:filter$4,map:map$3},getSelection$2=function(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(e&&e.query)return"params"in e?{query:e.query,params:e.params}:{query:e.query};var r=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(r))},validators$3={};(function(t){function e(a){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e(a)}var r=["image","file"],n=["before","after","replace"];t.dataset=function(a){if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(a))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},t.projectId=function(a){if(!/^[-a-z0-9]+$/i.test(a))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},t.validateAssetType=function(a){if(r.indexOf(a)===-1)throw new Error("Invalid asset type: ".concat(a,". Must be one of ").concat(r.join(", ")))},t.validateObject=function(a,o){if(o===null||e(o)!=="object"||Array.isArray(o))throw new Error("".concat(a,"() takes an object of properties"))},t.requireDocumentId=function(a,o){if(!o._id)throw new Error("".concat(a,'() requires that the document contains an ID ("_id" property)'));t.validateDocumentId(a,o._id)},t.validateDocumentId=function(a,o){if(typeof o!="string"||!/^[a-z0-9_.-]+$/i.test(o))throw new Error("".concat(a,'(): "').concat(o,'" is not a valid document ID'))},t.validateInsert=function(a,o,s){var l="insert(at, selector, items)";if(n.indexOf(a)===-1){var c=n.map(function(u){return'"'.concat(u,'"')}).join(", ");throw new Error("".concat(l,' takes an "at"-argument which is one of: ').concat(c))}if(typeof o!="string")throw new Error("".concat(l,' takes a "selector"-argument which must be a string'));if(!Array.isArray(s))throw new Error("".concat(l,' takes an "items"-argument which must be an array'))},t.hasDataset=function(a){if(!a.dataset)throw new Error("`dataset` must be provided to perform queries");return a.dataset||""},t.requestTag=function(a){if(typeof a!="string"||!/^[a-z0-9._-]{1,75}$/i.test(a))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return a}})(validators$3);function _defineProperty$4(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var assign$c=objectAssign$b,getSelection$1=getSelection$2,validate$2=validators$3,validateObject=validate$2.validateObject,validateInsert=validate$2.validateInsert;function Patch$3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.selection=t,this.operations=assign$c({},e),this.client=r}assign$c(Patch$3.prototype,{clone:function(){return new Patch$3(this.selection,assign$c({},this.operations),this.client)},set:function(e){return this._assign("set",e)},diffMatchPatch:function(e){return validateObject("diffMatchPatch",e),this._assign("diffMatchPatch",e)},unset:function(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=assign$c({},this.operations,{unset:e}),this},setIfMissing:function(e){return this._assign("setIfMissing",e)},replace:function(e){return validateObject("replace",e),this._set("set",{$:e})},inc:function(e){return this._assign("inc",e)},dec:function(e){return this._assign("dec",e)},insert:function(e,r,n){var a;return validateInsert(e,r,n),this._assign("insert",(a={},_defineProperty$4(a,e,r),_defineProperty$4(a,"items",n),a))},append:function(e,r){return this.insert("after","".concat(e,"[-1]"),r)},prepend:function(e,r){return this.insert("before","".concat(e,"[0]"),r)},splice:function(e,r,n,a){var o=typeof n=="undefined"||n===-1,s=r<0?r-1:r,l=o?-1:Math.max(0,r+n),c=s<0&&l>=0?"":l,u="".concat(e,"[").concat(s,":").concat(c,"]");return this.insert("replace",u,a||[])},ifRevisionId:function(e){return this.operations.ifRevisionID=e,this},serialize:function(){return assign$c(getSelection$1(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var r=typeof this.selection=="string",n=assign$c({returnFirst:r,returnDocuments:!0},e);return this.client.mutate({patch:this.serialize()},n)},reset:function(){return this.operations={},this},_set:function(e,r){return this._assign(e,r,!1)},_assign:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return validateObject(e,r),this.operations=assign$c({},this.operations,_defineProperty$4({},e,assign$c({},n&&this.operations[e]||{},r))),this}});var patch=Patch$3;function _defineProperty$3(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var assign$b=objectAssign$b,validators$2=validators$3,Patch$2=patch,defaultMutateOptions={returnDocuments:!1};function Transaction$2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;this.trxId=r,this.operations=t,this.client=e}assign$b(Transaction$2.prototype,{clone:function(){return new Transaction$2(this.operations.slice(0),this.client,this.trxId)},create:function(e){return validators$2.validateObject("create",e),this._add({create:e})},createIfNotExists:function(e){var r="createIfNotExists";return validators$2.validateObject(r,e),validators$2.requireDocumentId(r,e),this._add(_defineProperty$3({},r,e))},createOrReplace:function(e){var r="createOrReplace";return validators$2.validateObject(r,e),validators$2.requireDocumentId(r,e),this._add(_defineProperty$3({},r,e))},delete:function(e){return validators$2.validateDocumentId("delete",e),this._add({delete:{id:e}})},patch:function(e,r){var n=typeof r=="function",a=e instanceof Patch$2;if(a)return this._add({patch:e.serialize()});if(n){var o=r(new Patch$2(e,{},this.client));if(!(o instanceof Patch$2))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:assign$b({id:e},r)})},transactionId:function(e){return e?(this.trxId=e,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(e){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),assign$b({transactionId:this.trxId},defaultMutateOptions,e||{}))},reset:function(){return this.operations=[],this},_add:function(e){return this.operations.push(e),this}});var transaction=Transaction$2,_excluded=["tag"];function _objectWithoutProperties(t,e){if(t==null)return{};var r=_objectWithoutPropertiesLoose(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}var enc$1=encodeURIComponent,encodeQueryString$2=function(t){var e=t.query,r=t.params,n=r===void 0?{}:r,a=t.options,o=a===void 0?{}:a,s=o.tag,l=_objectWithoutProperties(o,_excluded),c="query=".concat(enc$1(e)),u=s?"?tag=".concat(enc$1(s),"&").concat(c):"?".concat(c),d=Object.keys(n).reduce(function(f,p){return"".concat(f,"&").concat(enc$1("$".concat(p)),"=").concat(enc$1(JSON.stringify(n[p])))},u);return Object.keys(l).reduce(function(f,p){return o[p]?"".concat(f,"&").concat(enc$1(p),"=").concat(enc$1(o[p])):f},d)},eventsource={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(t,e){(function(r){var n=r.setTimeout,a=r.clearTimeout,o=r.XMLHttpRequest,s=r.XDomainRequest,l=r.ActiveXObject,c=r.EventSource,u=r.document,d=r.Promise,f=r.fetch,p=r.Response,v=r.TextDecoder,E=r.TextEncoder,I=r.AbortController;if(typeof window!="undefined"&&typeof u!="undefined"&&!("readyState"in u)&&u.body==null&&(u.readyState="loading",window.addEventListener("load",function(O){u.readyState="complete"},!1)),o==null&&l!=null&&(o=function(){return new l("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(O){function q(){}return q.prototype=O,new q}),Date.now||(Date.now=function(){return new Date().getTime()}),I==null){var U=f;f=function(O,q){var V=q.signal;return U(O,{headers:q.headers,credentials:q.credentials,cache:q.cache}).then(function(z){var J=z.body.getReader();return V._reader=J,V._aborted&&V._reader.cancel(),{status:z.status,statusText:z.statusText,headers:z.headers,body:{getReader:function(){return J}}}})},I=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function x(){this.bitsNeeded=0,this.codePoint=0}x.prototype.decode=function(O){function q(ie,se,Z){if(Z===1)return ie>=128>>se&&ie<<se<=2047;if(Z===2)return ie>=2048>>se&&ie<<se<=55295||ie>=57344>>se&&ie<<se<=65535;if(Z===3)return ie>=65536>>se&&ie<<se<=1114111;throw new Error}function V(ie,se){if(ie===6*1)return se>>6>15?3:se>31?2:1;if(ie===6*2)return se>15?3:2;if(ie===6*3)return 3;throw new Error}for(var z=65533,J="",G=this.bitsNeeded,te=this.codePoint,fe=0;fe<O.length;fe+=1){var ne=O[fe];G!==0&&(ne<128||ne>191||!q(te<<6|ne&63,G-6,V(G,te)))&&(G=0,te=z,J+=String.fromCharCode(te)),G===0?(ne>=0&&ne<=127?(G=0,te=ne):ne>=192&&ne<=223?(G=6*1,te=ne&31):ne>=224&&ne<=239?(G=6*2,te=ne&15):ne>=240&&ne<=247?(G=6*3,te=ne&7):(G=0,te=z),G!==0&&!q(te,G,V(G,te))&&(G=0,te=z)):(G-=6,te=te<<6|ne&63),G===0&&(te<=65535?J+=String.fromCharCode(te):(J+=String.fromCharCode(55296+(te-65535-1>>10)),J+=String.fromCharCode(56320+(te-65535-1&1023))))}return this.bitsNeeded=G,this.codePoint=te,J};var _=function(){try{return new v().decode(new E().encode("test"),{stream:!0})==="test"}catch(O){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+O)}return!1};(v==null||E==null||!_())&&(v=x);var T=function(){};function y(O){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=T,this.onload=T,this.onerror=T,this.onreadystatechange=T,this._contentType="",this._xhr=O,this._sendTimeout=0,this._abort=T}y.prototype.open=function(O,q){this._abort(!0);var V=this,z=this._xhr,J=1,G=0;this._abort=function(Z){V._sendTimeout!==0&&(a(V._sendTimeout),V._sendTimeout=0),(J===1||J===2||J===3)&&(J=4,z.onload=T,z.onerror=T,z.onabort=T,z.onprogress=T,z.onreadystatechange=T,z.abort(),G!==0&&(a(G),G=0),Z||(V.readyState=4,V.onabort(null),V.onreadystatechange())),J=0};var te=function(){if(J===1){var Z=0,de="",Ee=void 0;if("contentType"in z)Z=200,de="OK",Ee=z.contentType;else try{Z=z.status,de=z.statusText,Ee=z.getResponseHeader("Content-Type")}catch{Z=0,de="",Ee=void 0}Z!==0&&(J=2,V.readyState=2,V.status=Z,V.statusText=de,V._contentType=Ee,V.onreadystatechange())}},fe=function(){if(te(),J===2||J===3){J=3;var Z="";try{Z=z.responseText}catch{}V.readyState=3,V.responseText=Z,V.onprogress()}},ne=function(Z,de){if((de==null||de.preventDefault==null)&&(de={preventDefault:T}),fe(),J===1||J===2||J===3){if(J=4,G!==0&&(a(G),G=0),V.readyState=4,Z==="load")V.onload(de);else if(Z==="error")V.onerror(de);else if(Z==="abort")V.onabort(de);else throw new TypeError;V.onreadystatechange()}},ie=function(Z){z!=null&&(z.readyState===4?(!("onload"in z)||!("onerror"in z)||!("onabort"in z))&&ne(z.responseText===""?"error":"load",Z):z.readyState===3?"onprogress"in z||fe():z.readyState===2&&te())},se=function(){G=n(function(){se()},500),z.readyState===3&&fe()};"onload"in z&&(z.onload=function(Z){ne("load",Z)}),"onerror"in z&&(z.onerror=function(Z){ne("error",Z)}),"onabort"in z&&(z.onabort=function(Z){ne("abort",Z)}),"onprogress"in z&&(z.onprogress=fe),"onreadystatechange"in z&&(z.onreadystatechange=function(Z){ie(Z)}),("contentType"in z||!("ontimeout"in o.prototype))&&(q+=(q.indexOf("?")===-1?"?":"&")+"padding=true"),z.open(O,q,!0),"readyState"in z&&(G=n(function(){se()},0))},y.prototype.abort=function(){this._abort(!1)},y.prototype.getResponseHeader=function(O){return this._contentType},y.prototype.setRequestHeader=function(O,q){var V=this._xhr;"setRequestHeader"in V&&V.setRequestHeader(O,q)},y.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},y.prototype.send=function(){if((!("ontimeout"in o.prototype)||!("sendAsBinary"in o.prototype)&&!("mozAnon"in o.prototype))&&u!=null&&u.readyState!=null&&u.readyState!=="complete"){var O=this;O._sendTimeout=n(function(){O._sendTimeout=0,O.send()},4);return}var q=this._xhr;"withCredentials"in q&&(q.withCredentials=this.withCredentials);try{q.send(void 0)}catch(V){throw V}};function C(O){return O.replace(/[A-Z]/g,function(q){return String.fromCharCode(q.charCodeAt(0)+32)})}function b(O){for(var q=Object.create(null),V=O.split(`\r
`),z=0;z<V.length;z+=1){var J=V[z],G=J.split(": "),te=G.shift(),fe=G.join(": ");q[C(te)]=fe}this._map=q}b.prototype.get=function(O){return this._map[C(O)]},o!=null&&o.HEADERS_RECEIVED==null&&(o.HEADERS_RECEIVED=2);function $(){}$.prototype.open=function(O,q,V,z,J,G,te){O.open("GET",J);var fe=0;O.onprogress=function(){var ie=O.responseText,se=ie.slice(fe);fe+=se.length,V(se)},O.onerror=function(ie){ie.preventDefault(),z(new Error("NetworkError"))},O.onload=function(){z(null)},O.onabort=function(){z(null)},O.onreadystatechange=function(){if(O.readyState===o.HEADERS_RECEIVED){var ie=O.status,se=O.statusText,Z=O.getResponseHeader("Content-Type"),de=O.getAllResponseHeaders();q(ie,se,Z,new b(de))}},O.withCredentials=G;for(var ne in te)Object.prototype.hasOwnProperty.call(te,ne)&&O.setRequestHeader(ne,te[ne]);return O.send(),O};function F(O){this._headers=O}F.prototype.get=function(O){return this._headers.get(O)};function L(){}L.prototype.open=function(O,q,V,z,J,G,te){var fe=null,ne=new I,ie=ne.signal,se=new v;return f(J,{headers:te,credentials:G?"include":"same-origin",signal:ie,cache:"no-store"}).then(function(Z){return fe=Z.body.getReader(),q(Z.status,Z.statusText,Z.headers.get("Content-Type"),new F(Z.headers)),new d(function(de,Ee){var Pe=function(){fe.read().then(function(ye){if(ye.done)de(void 0);else{var ve=se.decode(ye.value,{stream:!0});V(ve),Pe()}}).catch(function(ye){Ee(ye)})};Pe()})}).catch(function(Z){if(Z.name!=="AbortError")return Z}).then(function(Z){z(Z)}),{abort:function(){fe!=null&&fe.cancel(),ne.abort()}}};function k(){this._listeners=Object.create(null)}function g(O){n(function(){throw O},0)}k.prototype.dispatchEvent=function(O){O.target=this;var q=this._listeners[O.type];if(q!=null)for(var V=q.length,z=0;z<V;z+=1){var J=q[z];try{typeof J.handleEvent=="function"?J.handleEvent(O):J.call(this,O)}catch(G){g(G)}}},k.prototype.addEventListener=function(O,q){O=String(O);var V=this._listeners,z=V[O];z==null&&(z=[],V[O]=z);for(var J=!1,G=0;G<z.length;G+=1)z[G]===q&&(J=!0);J||z.push(q)},k.prototype.removeEventListener=function(O,q){O=String(O);var V=this._listeners,z=V[O];if(z!=null){for(var J=[],G=0;G<z.length;G+=1)z[G]!==q&&J.push(z[G]);J.length===0?delete V[O]:V[O]=J}};function R(O){this.type=O,this.target=void 0}function A(O,q){R.call(this,O),this.data=q.data,this.lastEventId=q.lastEventId}A.prototype=Object.create(R.prototype);function Y(O,q){R.call(this,O),this.status=q.status,this.statusText=q.statusText,this.headers=q.headers}Y.prototype=Object.create(R.prototype);function N(O,q){R.call(this,O),this.error=q.error}N.prototype=Object.create(R.prototype);var Q=-1,re=0,oe=1,ae=2,ce=-1,ue=0,m=1,S=2,D=3,M=/^text\/event\-stream(;.*)?$/i,j=1e3,P=18e6,H=function(O,q){var V=O==null?q:parseInt(O,10);return V!==V&&(V=q),W(V)},W=function(O){return Math.min(Math.max(O,j),P)},X=function(O,q,V){try{typeof q=="function"&&q.call(O,V)}catch(z){g(z)}};function B(O,q){k.call(this),q=q||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Se(this,O,q)}function ee(){return o!=null&&"withCredentials"in o.prototype||s==null?new o:new s}var le=f!=null&&p!=null&&"body"in p.prototype;function Se(O,q,V){q=String(q);var z=Boolean(V.withCredentials),J=V.lastEventIdQueryParameterName||"lastEventId",G=W(1e3),te=H(V.heartbeatTimeout,45e3),fe="",ne=G,ie=!1,se=0,Z=V.headers||{},de=V.Transport,Ee=le&&de==null?void 0:new y(de!=null?new de:ee()),Pe=de!=null&&typeof de!="string"?new de:Ee==null?new L:new $,ye=void 0,ve=0,ke=Q,Ae="",De="",Ce="",Ue="",_e=ue,je=0,xe=0,Fe=function(pe,he,we,$e){if(ke===re)if(pe===200&&we!=null&&M.test(we)){ke=oe,ie=Date.now(),ne=G,O.readyState=oe;var ge=new Y("open",{status:pe,statusText:he,headers:$e});O.dispatchEvent(ge),X(O,O.onopen,ge)}else{var me="";pe!==200?(he&&(he=he.replace(/\s+/g," ")),me="EventSource's response has a status "+pe+" "+he+" that is not 200. Aborting the connection."):me="EventSource's response has a Content-Type specifying an unsupported type: "+(we==null?"-":we.replace(/\s+/g," "))+". Aborting the connection.",Me();var ge=new Y("error",{status:pe,statusText:he,headers:$e});O.dispatchEvent(ge),X(O,O.onerror,ge),console.error(me)}},Le=function(pe){if(ke===oe){for(var he=-1,we=0;we<pe.length;we+=1){var $e=pe.charCodeAt(we);($e===`
`.charCodeAt(0)||$e==="\r".charCodeAt(0))&&(he=we)}var ge=(he!==-1?Ue:"")+pe.slice(0,he+1);Ue=(he===-1?Ue:"")+pe.slice(he+1),pe!==""&&(ie=Date.now(),se+=pe.length);for(var me=0;me<ge.length;me+=1){var $e=ge.charCodeAt(me);if(_e===ce&&$e===`
`.charCodeAt(0))_e=ue;else if(_e===ce&&(_e=ue),$e==="\r".charCodeAt(0)||$e===`
`.charCodeAt(0)){if(_e!==ue){_e===m&&(xe=me+1);var Te=ge.slice(je,xe-1),Oe=ge.slice(xe+(xe<me&&ge.charCodeAt(xe)===" ".charCodeAt(0)?1:0),me);Te==="data"?(Ae+=`
`,Ae+=Oe):Te==="id"?De=Oe:Te==="event"?Ce=Oe:Te==="retry"?(G=H(Oe,G),ne=G):Te==="heartbeatTimeout"&&(te=H(Oe,te),ve!==0&&(a(ve),ve=n(function(){Re()},te)))}if(_e===ue){if(Ae!==""){fe=De,Ce===""&&(Ce="message");var Ie=new A(Ce,{data:Ae.slice(1),lastEventId:De});if(O.dispatchEvent(Ie),Ce==="open"?X(O,O.onopen,Ie):Ce==="message"?X(O,O.onmessage,Ie):Ce==="error"&&X(O,O.onerror,Ie),ke===ae)return}Ae="",Ce=""}_e=$e==="\r".charCodeAt(0)?ce:ue}else _e===ue&&(je=me,_e=m),_e===m?$e===":".charCodeAt(0)&&(xe=me+1,_e=S):_e===S&&(_e=D)}}},He=function(pe){if(ke===oe||ke===re){ke=Q,ve!==0&&(a(ve),ve=0),ve=n(function(){Re()},ne),ne=W(Math.min(G*16,ne*2)),O.readyState=re;var he=new N("error",{error:pe});O.dispatchEvent(he),X(O,O.onerror,he),pe!=null&&console.error(pe)}},Me=function(){ke=ae,ye!=null&&(ye.abort(),ye=void 0),ve!==0&&(a(ve),ve=0),O.readyState=ae},Re=function(){if(ve=0,ke!==Q){if(!ie&&ye!=null)He(new Error("No activity within "+te+" milliseconds. "+(ke===re?"No response received.":se+" chars received.")+" Reconnecting.")),ye!=null&&(ye.abort(),ye=void 0);else{var pe=Math.max((ie||Date.now())+te-Date.now(),1);ie=!1,ve=n(function(){Re()},pe)}return}ie=!1,se=0,ve=n(function(){Re()},te),ke=re,Ae="",Ce="",De=fe,Ue="",je=0,xe=0,_e=ue;var he=q;if(q.slice(0,5)!=="data:"&&q.slice(0,5)!=="blob:"&&fe!==""){var we=q.indexOf("?");he=we===-1?q:q.slice(0,we+1)+q.slice(we+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Oe,Ie){return Ie===J?"":Oe}),he+=(q.indexOf("?")===-1?"?":"&")+J+"="+encodeURIComponent(fe)}var $e=O.withCredentials,ge={};ge.Accept="text/event-stream";var me=O.headers;if(me!=null)for(var Te in me)Object.prototype.hasOwnProperty.call(me,Te)&&(ge[Te]=me[Te]);try{ye=Pe.open(Ee,Fe,Le,He,he,$e,ge)}catch(Oe){throw Me(),Oe}};O.url=q,O.readyState=re,O.withCredentials=z,O.headers=Z,O._close=Me,Re()}B.prototype=Object.create(k.prototype),B.prototype.CONNECTING=re,B.prototype.OPEN=oe,B.prototype.CLOSED=ae,B.prototype.close=function(){this._close()},B.CONNECTING=re,B.OPEN=oe,B.CLOSED=ae,B.prototype.withCredentials=void 0;var be=c;o!=null&&(c==null||!("withCredentials"in c.prototype))&&(be=B),function(O){{var q=O(e);q!==void 0&&(t.exports=q)}}(function(O){O.EventSourcePolyfill=B,O.NativeEventSource=c,O.EventSource=be})})(typeof globalThis=="undefined"?typeof window!="undefined"?window:typeof self!="undefined"?self:commonjsGlobal:globalThis)})(eventsource,eventsource.exports);var evs=eventsource.exports,browser=evs.EventSourcePolyfill,pick$1=function(t,e){return e.reduce(function(r,n){return typeof t[n]=="undefined"||(r[n]=t[n]),r},{})},defaults$2=function(t,e){return Object.keys(e).concat(Object.keys(t)).reduce(function(r,n){return r[n]=typeof t[n]=="undefined"?e[n]:t[n],r},{})};function ownKeys$1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(r),!0).forEach(function(n){_defineProperty$2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _defineProperty$2(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var assign$a=objectAssign$b,_require$4=observable$2,Observable$2=_require$4.Observable,polyfilledEventSource=browser,pick=pick$1,defaults$1=defaults$2,encodeQueryString$1=encodeQueryString$2,MAX_URL_LENGTH=16e3-1200,EventSource=polyfilledEventSource,possibleOptions=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],defaultOptions$1={includeResult:!0},listen$1=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.clientConfig,o=a.url,s=a.token,l=a.withCredentials,c=a.requestTagPrefix,u=n.tag&&c?[c,n.tag].join("."):n.tag,d=_objectSpread$1(_objectSpread$1({},defaults$1(n,defaultOptions$1)),{},{tag:u}),f=pick(d,possibleOptions),p=encodeQueryString$1({query:e,params:r,options:f,tag:u}),v="".concat(o).concat(this.getDataUrl("listen",p));if(v.length>MAX_URL_LENGTH)return new Observable$2(function(x){return x.error(new Error("Query too large for listener"))});var E=d.events?d.events:["mutation"],I=E.indexOf("reconnect")!==-1,U={};return(s||l)&&(U.withCredentials=!0),s&&(U.headers={Authorization:"Bearer ".concat(s)}),new Observable$2(function(x){var _=g(),T,y=!1;function C(){y||(k(),!y&&_.readyState===EventSource.CLOSED&&(L(),clearTimeout(T),T=setTimeout(R,100)))}function b(Y){x.error(cooerceError(Y))}function $(Y){var N=parseEvent(Y);return N instanceof Error?x.error(N):x.next(N)}function F(Y){y=!0,L(),x.complete()}function L(){_.removeEventListener("error",C,!1),_.removeEventListener("channelError",b,!1),_.removeEventListener("disconnect",F,!1),E.forEach(function(Y){return _.removeEventListener(Y,$,!1)}),_.close()}function k(){I&&x.next({type:"reconnect"})}function g(){var Y=new EventSource(v,U);return Y.addEventListener("error",C,!1),Y.addEventListener("channelError",b,!1),Y.addEventListener("disconnect",F,!1),E.forEach(function(N){return Y.addEventListener(N,$,!1)}),Y}function R(){_=g()}function A(){y=!0,L()}return A})};function parseEvent(t){try{var e=t.data&&JSON.parse(t.data)||{};return assign$a({type:t.type},e)}catch(r){return r}}function cooerceError(t){if(t instanceof Error)return t;var e=parseEvent(t);return e instanceof Error?e:new Error(extractErrorMessage(e))}function extractErrorMessage(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}function _defineProperty$1(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var assign$9=objectAssign$b,_require$3=observable$2,map$2=_require$3.map,filter$3=_require$3.filter,validators$1=validators$3,getSelection=getSelection$2,encodeQueryString=encodeQueryString$2,Transaction$1=transaction,Patch$1=patch,listen=listen$1,excludeFalsey=function(e,r){var n=typeof e=="undefined"?r:e;return e===!1?void 0:n},getMutationQuery=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:excludeFalsey(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},isResponse=function(e){return e.type==="response"},getBody=function(e){return e.body},indexBy=function(e,r){return e.reduce(function(n,a){return n[r(a)]=a,n},Object.create(null))},toPromise$1=function(e){return e.toPromise()},getQuerySizeLimit=11264,dataMethods$1={listen,getDataUrl:function(e,r){var n=this.clientConfig,a=validators$1.hasDataset(n),o="/".concat(e,"/").concat(a),s=r?"".concat(o,"/").concat(r):o;return"/data".concat(s).replace(/\/($|\?)/,"$1")},fetch:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.filterResponse===!1?function(s){return s}:function(s){return s.result},o=this._dataRequest("query",{query:e,params:r},n).pipe(map$2(a));return this.isPromiseAPI()?toPromise$1(o):o},getDocument:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={uri:this.getDataUrl("doc",e),json:!0,tag:r.tag},a=this._requestObservable(n).pipe(filter$3(isResponse),map$2(function(o){return o.body.documents&&o.body.documents[0]}));return this.isPromiseAPI()?toPromise$1(a):a},getDocuments:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={uri:this.getDataUrl("doc",e.join(",")),json:!0,tag:r.tag},a=this._requestObservable(n).pipe(filter$3(isResponse),map$2(function(o){var s=indexBy(o.body.documents||[],function(l){return l._id});return e.map(function(l){return s[l]||null})}));return this.isPromiseAPI()?toPromise$1(a):a},create:function(e,r){return this._create(e,"create",r)},createIfNotExists:function(e,r){return validators$1.requireDocumentId("createIfNotExists",e),this._create(e,"createIfNotExists",r)},createOrReplace:function(e,r){return validators$1.requireDocumentId("createOrReplace",e),this._create(e,"createOrReplace",r)},patch:function(e,r){return new Patch$1(e,r,this)},delete:function(e,r){return this.dataRequest("mutate",{mutations:[{delete:getSelection(e)}]},r)},mutate:function(e,r){var n=e instanceof Patch$1||e instanceof Transaction$1?e.serialize():e,a=Array.isArray(n)?n:[n],o=r&&r.transactionId;return this.dataRequest("mutate",{mutations:a,transactionId:o},r)},transaction:function(e){return new Transaction$1(e,this)},dataRequest:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this._dataRequest(e,r,n);return this.isPromiseAPI()?toPromise$1(a):a},_dataRequest:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=e==="mutate",o=e==="query",s=!a&&encodeQueryString(r),l=!a&&s.length<getQuerySizeLimit,c=l?s:"",u=n.returnFirst,d=n.timeout,f=n.token,p=n.tag,v=n.headers,E=this.getDataUrl(e,c),I={method:l?"GET":"POST",uri:E,json:!0,body:l?void 0:r,query:a&&getMutationQuery(n),timeout:d,headers:v,token:f,tag:p,canUseCdn:o};return this._requestObservable(I).pipe(filter$3(isResponse),map$2(getBody),map$2(function(U){if(!a)return U;var x=U.results||[];if(n.returnDocuments)return u?x[0]&&x[0].document:x.map(function(y){return y.document});var _=u?"documentId":"documentIds",T=u?x[0]&&x[0].id:x.map(function(y){return y.id});return _defineProperty$1({transactionId:U.transactionId,results:x},_,T)}))},_create:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=_defineProperty$1({},r,e),o=assign$9({returnFirst:!0,returnDocuments:!0},n);return this.dataRequest("mutate",{mutations:[a]},o)}},assign$8=objectAssign$b,validate$1=validators$3;function DatasetsClient$1(t){this.request=t.request.bind(t)}assign$8(DatasetsClient$1.prototype,{create:function(e,r){return this._modify("PUT",e,r)},edit:function(e,r){return this._modify("PATCH",e,r)},delete:function(e){return this._modify("DELETE",e)},list:function(){return this.request({uri:"/datasets"})},_modify:function(e,r,n){return validate$1.dataset(r),this.request({method:e,uri:"/datasets/".concat(r),body:n})}});var datasetsClient=DatasetsClient$1,assign$7=objectAssign$b;function ProjectsClient$1(t){this.client=t}assign$7(ProjectsClient$1.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(e){return this.client.request({uri:"/projects/".concat(e)})}});var projectsClient=ProjectsClient$1,queryString$1=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t[r])));return e.length>0?"?".concat(e.join("&")):""};function _slicedToArray$1(t,e){return _arrayWithHoles$1(t)||_iterableToArrayLimit$1(t,e)||_unsupportedIterableToArray$1(t,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(t,e)}}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _iterableToArrayLimit$1(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,s,l;try{for(r=r.call(t);!(a=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw l}}return n}}function _arrayWithHoles$1(t){if(Array.isArray(t))return t}var assign$6=objectAssign$b,_require$2=observable$2,map$1=_require$2.map,filter$2=_require$2.filter,queryString=queryString$1,validators=validators$3;function AssetsClient$1(t){this.client=t}function optionsFromFile(t,e){return typeof window=="undefined"||!(e instanceof window.File)?t:assign$6({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}assign$6(AssetsClient$1.prototype,{upload:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};validators.validateAssetType(e);var a=n.extract||void 0;a&&!a.length&&(a=["none"]);var o=validators.hasDataset(this.client.clientConfig),s=e==="image"?"images":"files",l=optionsFromFile(n,r),c=l.tag,u=l.label,d=l.title,f=l.description,p=l.creditLine,v=l.filename,E=l.source,I={label:u,title:d,description:f,filename:v,meta:a,creditLine:p};E&&(I.sourceId=E.id,I.sourceName=E.name,I.sourceUrl=E.url);var U=this.client._requestObservable({tag:c,method:"POST",timeout:l.timeout||0,uri:"/assets/".concat(s,"/").concat(o),headers:l.contentType?{"Content-Type":l.contentType}:{},query:I,body:r});return this.client.isPromiseAPI()?U.pipe(filter$2(function(x){return x.type==="response"}),map$1(function(x){return x.body.document})).toPromise():U},delete:function(e,r){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var n=r||"";return/^(image|file)-/.test(n)?e._id&&(n=e._id):n="".concat(e,"-").concat(n),validators.hasDataset(this.client.clientConfig),this.client.delete(n)},getImageUrl:function(e,r){var n=e._ref||e;if(typeof n!="string")throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(n))throw new Error('Unsupported asset ID "'.concat(n,'". URL generation only works for auto-generated IDs.'));var a=n.split("-"),o=_slicedToArray$1(a,4),s=o[1],l=o[2],c=o[3];validators.hasDataset(this.client.clientConfig);var u=this.client.clientConfig,d=u.projectId,f=u.dataset,p=r?queryString(r):"";return"https://cdn.sanity.io/images/".concat(d,"/").concat(f,"/").concat(s,"-").concat(l,".").concat(c).concat(p)}});var assetsClient=AssetsClient$1,assign$5=objectAssign$b;function UsersClient$1(t){this.client=t}assign$5(UsersClient$1.prototype,{getById:function(e){return this.client.request({uri:"/users/".concat(e)})}});var usersClient=UsersClient$1,assign$4=objectAssign$b;function AuthClient$1(t){this.client=t}assign$4(AuthClient$1.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}});var authClient=AuthClient$1,nanoPubsub=function(){var e=[];return{subscribe:r,publish:n};function r(a){return e.push(a),function(){var s=e.indexOf(a);s>-1&&e.splice(s,1)}}function n(){for(var a=0;a<e.length;a++)e[a].apply(null,arguments)}},middlewareReducer$1=function(t){var e=function(n,a){for(var o=n==="onError",s=a,l=arguments.length,c=new Array(l>2?l-2:0),u=2;u<l;u++)c[u-2]=arguments[u];for(var d=0;d<t[n].length;d++){var f=t[n][d];if(s=f.apply(void 0,[s].concat(c)),o&&!s)break}return s};return e},requiresPort=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},querystringify$1={},has$1=Object.prototype.hasOwnProperty,undef;function decode(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function encode(t){try{return encodeURIComponent(t)}catch{return null}}function querystring(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var a=decode(n[1]),o=decode(n[2]);a===null||o===null||a in r||(r[a]=o)}return r}function querystringify(t,e){e=e||"";var r=[],n,a;typeof e!="string"&&(e="?");for(a in t)if(has$1.call(t,a)){if(n=t[a],!n&&(n===null||n===undef||isNaN(n))&&(n=""),a=encode(a),n=encode(n),a===null||n===null)continue;r.push(a+"="+n)}return r.length?e+r.join("&"):""}querystringify$1.stringify=querystringify;querystringify$1.parse=querystring;var required=requiresPort,qs=querystringify$1,controlOrWhitespace=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,CRHTLF=/[\n\r\t]/g,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,port=/:\d+$/,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,windowsDriveLetter=/^[a-zA-Z]:/;function trimLeft(t){return(t||"").toString().replace(controlOrWhitespace,"")}var rules=[["#","hash"],["?","query"],function(e,r){return isSpecial(r.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(t){var e;typeof window!="undefined"?e=window:typeof commonjsGlobal!="undefined"?e=commonjsGlobal:typeof self!="undefined"?e=self:e={};var r=e.location||{};t=t||r;var n={},a=typeof t,o;if(t.protocol==="blob:")n=new Url(unescape(t.pathname),{});else if(a==="string"){n=new Url(t,{});for(o in ignore)delete n[o]}else if(a==="object"){for(o in t)o in ignore||(n[o]=t[o]);n.slashes===void 0&&(n.slashes=slashes.test(t.href))}return n}function isSpecial(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function extractProtocol(t,e){t=trimLeft(t),t=t.replace(CRHTLF,""),e=e||{};var r=protocolre.exec(t),n=r[1]?r[1].toLowerCase():"",a=!!r[2],o=!!r[3],s=0,l;return a?o?(l=r[2]+r[3]+r[4],s=r[2].length+r[3].length):(l=r[2]+r[4],s=r[2].length):o?(l=r[3]+r[4],s=r[3].length):l=r[4],n==="file:"?s>=2&&(l=l.slice(2)):isSpecial(n)?l=r[4]:n?a&&(l=l.slice(2)):s>=2&&isSpecial(e.protocol)&&(l=r[4]),{protocol:n,slashes:a||isSpecial(n),slashesCount:s,rest:l}}function resolve(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,a=r[n-1],o=!1,s=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),s++):s&&(n===0&&(o=!0),r.splice(n,1),s--);return o&&r.unshift(""),(a==="."||a==="..")&&r.push(""),r.join("/")}function Url(t,e,r){if(t=trimLeft(t),t=t.replace(CRHTLF,""),!(this instanceof Url))return new Url(t,e,r);var n,a,o,s,l,c,u=rules.slice(),d=typeof e,f=this,p=0;for(d!=="object"&&d!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=qs.parse),e=lolcation(e),a=extractProtocol(t||"",e),n=!a.protocol&&!a.slashes,f.slashes=a.slashes||n&&e.slashes,f.protocol=a.protocol||e.protocol||"",t=a.rest,(a.protocol==="file:"&&(a.slashesCount!==2||windowsDriveLetter.test(t))||!a.slashes&&(a.protocol||a.slashesCount<2||!isSpecial(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);p<u.length;p++){if(s=u[p],typeof s=="function"){t=s(t,f);continue}o=s[0],c=s[1],o!==o?f[c]=t:typeof o=="string"?(l=o==="@"?t.lastIndexOf(o):t.indexOf(o),~l&&(typeof s[2]=="number"?(f[c]=t.slice(0,l),t=t.slice(l+s[2])):(f[c]=t.slice(l),t=t.slice(0,l)))):(l=o.exec(t))&&(f[c]=l[1],t=t.slice(0,l.index)),f[c]=f[c]||n&&s[3]&&e[c]||"",s[4]&&(f[c]=f[c].toLowerCase())}r&&(f.query=r(f.query)),n&&e.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||e.pathname!=="")&&(f.pathname=resolve(f.pathname,e.pathname)),f.pathname.charAt(0)!=="/"&&isSpecial(f.protocol)&&(f.pathname="/"+f.pathname),required(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(l=f.auth.indexOf(":"),~l?(f.username=f.auth.slice(0,l),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(l+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&isSpecial(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function set(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||qs.parse)(e)),n[t]=e;break;case"port":n[t]=e,required(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,port.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var a=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==a?a+e:e}else n[t]=e;break;case"username":case"password":n[t]=encodeURIComponent(e);break;case"auth":var o=e.indexOf(":");~o?(n.username=e.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var s=0;s<rules.length;s++){var l=rules[s];l[4]&&(n[l[1]]=n[l[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&isSpecial(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function toString(t){(!t||typeof t!="function")&&(t=qs.stringify);var e,r=this,n=r.host,a=r.protocol;a&&a.charAt(a.length-1)!==":"&&(a+=":");var o=a+(r.protocol&&r.slashes||isSpecial(r.protocol)?"//":"");return r.username?(o+=r.username,r.password&&(o+=":"+r.password),o+="@"):r.password?(o+=":"+r.password,o+="@"):r.protocol!=="file:"&&isSpecial(r.protocol)&&!n&&r.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||port.test(r.hostname)&&!r.port)&&(n+=":"),o+=n+r.pathname,e=typeof r.query=="object"?t(r.query):r.query,e&&(o+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(o+=r.hash),o}Url.prototype={set,toString};Url.extractProtocol=extractProtocol;Url.location=lolcation;Url.trimLeft=trimLeft;Url.qs=qs;var urlParse$1=Url,objectAssign$a=objectAssign$b,urlParse=urlParse$1,isReactNative=typeof navigator=="undefined"?!1:navigator.product==="ReactNative",has=Object.prototype.hasOwnProperty,defaultOptions={timeout:isReactNative?6e4:12e4},defaultOptionsProcessor=function(t){var e=typeof t=="string"?objectAssign$a({url:t},defaultOptions):objectAssign$a({},defaultOptions,t),r=urlParse(e.url,{},!0);return e.timeout=normalizeTimeout(e.timeout),e.query&&(r.query=objectAssign$a({},r.query,removeUndefined(e.query))),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e.url=r.toString(stringifyQueryString),e};function stringifyQueryString(t){var e=[];for(var r in t)has.call(t,r)&&n(r,t[r]);return e.length?e.join("&"):"";function n(a,o){Array.isArray(o)?o.forEach(function(s){return n(a,s)}):e.push([a,o].map(encodeURIComponent).join("="))}}function normalizeTimeout(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;var e=Number(t);return isNaN(e)?normalizeTimeout(defaultOptions.timeout):{connect:e,socket:e}}function removeUndefined(t){var e={};for(var r in t)t[r]!==void 0&&(e[r]=t[r]);return e}var validUrl=/^https?:\/\//i,defaultOptionsValidator=function(t){if(!validUrl.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))},regex=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/,urlParser={regex,parse:function(t){var e=regex.exec(t);return e?{protocol:(e[1]||"").toLowerCase()||void 0,hostname:(e[5]||"").toLowerCase()||void 0,port:e[6]||void 0}:{}}},url=urlParser,sameOrigin$1=function(t,e,r){if(t===e)return!0;var n=url.parse(t,!1,!0),a=url.parse(e,!1,!0),o=n.port|0||(n.protocol==="https"?443:80),s=a.port|0||(a.protocol==="https"?443:80),l={proto:n.protocol===a.protocol,hostname:n.hostname===a.hostname,port:o===s};return l.proto&&l.hostname&&(l.port||r)},trim=function(t){return t.replace(/^\s+|\s+$/g,"")},isArray$1=function(t){return Object.prototype.toString.call(t)==="[object Array]"},parseHeaders$1=function(t){if(!t)return{};for(var e={},r=trim(t).split(`
`),n=0;n<r.length;n++){var a=r[n],o=a.indexOf(":"),s=trim(a.slice(0,o)).toLowerCase(),l=trim(a.slice(o+1));typeof e[s]=="undefined"?e[s]=l:isArray$1(e[s])?e[s].push(l):e[s]=[e[s],l]}return e};function FetchXhr$1(){this.readyState=0}FetchXhr$1.prototype.open=function(t,e){this._method=t,this._url=e,this._resHeaders="",this.readyState=1,this.onreadystatechange()};FetchXhr$1.prototype.abort=function(){this._controller&&this._controller.abort()};FetchXhr$1.prototype.getAllResponseHeaders=function(){return this._resHeaders};FetchXhr$1.prototype.setRequestHeader=function(t,e){this._headers=this._headers||{},this._headers[t]=e};FetchXhr$1.prototype.send=function(t){var e=this,r=this._controller=typeof AbortController=="function"&&new AbortController,n=this.responseType!=="arraybuffer",a={method:this._method,headers:this._headers,signal:r&&r.signal,body:t};typeof window!="undefined"&&(a.credentials=this.withCredentials?"include":"omit"),fetch(this._url,a).then(function(o){return o.headers.forEach(function(s,l){e._resHeaders+="".concat(l,": ").concat(s,`\r
`)}),e.status=o.status,e.statusText=o.statusText,e.readyState=3,n?o.text():o.arrayBuffer()}).then(function(o){n?e.responseText=o:e.response=o,e.readyState=4,e.onreadystatechange()}).catch(function(o){if(o.name==="AbortError"){e.onabort();return}e.onerror(o)})};var fetchXhr=FetchXhr$1,sameOrigin=sameOrigin$1,parseHeaders=parseHeaders$1,FetchXhr=fetchXhr,noop=function(){},win=typeof window=="undefined"?void 0:window,adapter=win?"xhr":"fetch",XmlHttpRequest=typeof XMLHttpRequest=="function"?XMLHttpRequest:noop,hasXhr2="withCredentials"in new XmlHttpRequest,XDR=typeof XDomainRequest=="undefined"?void 0:XDomainRequest,CrossDomainRequest=hasXhr2?XmlHttpRequest:XDR;win||(XmlHttpRequest=FetchXhr,CrossDomainRequest=FetchXhr);var browserRequest=function(t,e){var r=t.options,n=t.applyMiddleware("finalizeOptions",r),a={},o=win&&win.location&&!sameOrigin(win.location.href,n.url),s=t.applyMiddleware("interceptRequest",void 0,{adapter,context:t});if(s){var l=setTimeout(e,0,null,s),c=function(){return clearTimeout(l)};return{abort:c}}var u=o?new CrossDomainRequest:new XmlHttpRequest,d=win&&win.XDomainRequest&&u instanceof win.XDomainRequest,f=n.headers,p=n.timeout,v=!1,E=!1,I=!1;u.onerror=b,u.ontimeout=b,u.onabort=function(){C(!0),v=!0},u.onprogress=function(){};var U=d?"onload":"onreadystatechange";if(u[U]=function(){y(),!(v||u.readyState!==4&&!d)&&u.status!==0&&F()},u.open(n.method,n.url,!0),u.withCredentials=!!n.withCredentials,f&&u.setRequestHeader)for(var x in f)f.hasOwnProperty(x)&&u.setRequestHeader(x,f[x]);else if(f&&d)throw new Error("Headers cannot be set on an XDomainRequest object");return n.rawBody&&(u.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:n,adapter,request:u,context:t}),u.send(n.body||null),p&&(a.connect=setTimeout(function(){return T("ETIMEDOUT")},p.connect)),{abort:_};function _(){v=!0,u&&u.abort()}function T(L){I=!0,u.abort();var k=new Error(L==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(n.url):"Connection timed out on request to ".concat(n.url));k.code=L,t.channels.error.publish(k)}function y(){!p||(C(),a.socket=setTimeout(function(){return T("ESOCKETTIMEDOUT")},p.socket))}function C(L){(L||v||u.readyState>=2&&a.connect)&&clearTimeout(a.connect),a.socket&&clearTimeout(a.socket)}function b(L){if(!E){C(!0),E=!0,u=null;var k=L||new Error("Network error while attempting to reach ".concat(n.url));k.isNetworkError=!0,k.request=n,e(k)}}function $(){var L=u.status,k=u.statusText;if(d&&L===void 0)L=200;else{if(L>12e3&&L<12156)return b();L=u.status===1223?204:u.status,k=u.status===1223?"No Content":k}return{body:u.response||u.responseText,url:n.url,method:n.method,headers:d?{}:parseHeaders(u.getAllResponseHeaders()),statusCode:L,statusMessage:k}}function F(){if(!(v||E||I)){if(u.status===0){b(new Error("Unknown XHR error"));return}C(),E=!0,e(null,$())}}},request$1=browserRequest,pubsub=nanoPubsub,middlewareReducer=middlewareReducer$1,processOptions=defaultOptionsProcessor,validateOptions=defaultOptionsValidator,httpRequester=request$1,channelNames=["request","response","progress","error","abort"],middlehooks=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"],lib$1=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:httpRequester,n=[],a=middlehooks.reduce(function(s,l){return s[l]=s[l]||[],s},{processOptions:[processOptions],validateOptions:[validateOptions]});function o(s){var l=channelNames.reduce(function(I,U){return I[U]=pubsub(),I},{}),c=middlewareReducer(a),u=c("processOptions",s);c("validateOptions",u);var d={options:u,channels:l,applyMiddleware:c},f=null,p=l.request.subscribe(function(I){f=r(I,function(U,x){return E(U,x,I)})});l.abort.subscribe(function(){p(),f&&f.abort()});var v=c("onReturn",l,d);return v===l&&l.request.publish(d),v;function E(I,U,x){var _=I,T=U;if(!_)try{T=c("onResponse",U,x)}catch(y){T=null,_=y}_=_&&c("onError",_,x),_?l.error.publish(_):T&&l.response.publish(T)}}return o.use=function(l){if(!l)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof l=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(l.onReturn&&a.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return middlehooks.forEach(function(c){l[c]&&a[c].push(l[c])}),n.push(l),o},o.clone=function(){return t(n)},e.forEach(o.use),o},getIt$1=lib$1,global$2={exports:{}};typeof globalThis!="undefined"?global$2.exports=globalThis:typeof window!="undefined"?global$2.exports=window:typeof commonjsGlobal!="undefined"?global$2.exports=commonjsGlobal:typeof self!="undefined"?global$2.exports=self:global$2.exports={};var global$1=global$2.exports,objectAssign$9=objectAssign$b,observable$1=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.implementation||global$1.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(n,a){return new e(function(o){return n.error.subscribe(function(s){return o.error(s)}),n.progress.subscribe(function(s){return o.next(objectAssign$9({type:"progress"},s))}),n.response.subscribe(function(s){o.next(objectAssign$9({type:"response"},s)),o.complete()}),n.request.publish(a),function(){return n.abort.publish()}})}}};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isobject=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isObject$2=isobject;function isObjectObject(t){return isObject$2(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var isPlainObject$1=function(e){var r,n;return!(isObjectObject(e)===!1||(r=e.constructor,typeof r!="function")||(n=r.prototype,isObjectObject(n)===!1)||n.hasOwnProperty("isPrototypeOf")===!1)};function _typeof$1(t){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}var objectAssign$8=objectAssign$b,isPlainObject=isPlainObject$1,serializeTypes=["boolean","string","number"],isBuffer=function(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)},jsonRequest$1=function(){return{processOptions:function(e){var r=e.body;if(!r)return e;var n=typeof r.pipe=="function",a=!n&&!isBuffer(r)&&(serializeTypes.indexOf(_typeof$1(r))!==-1||Array.isArray(r)||isPlainObject(r));return a?objectAssign$8({},e,{body:JSON.stringify(e.body),headers:objectAssign$8({},e.headers,{"Content-Type":"application/json"})}):e}}},objectAssign$7=objectAssign$b,jsonResponse$1=function(t){return{onResponse:function(r){var n=r.headers["content-type"]||"",a=t&&t.force||n.indexOf("application/json")!==-1;return!r.body||!n||!a?r:objectAssign$7({},r,{body:tryParse(r.body)})},processOptions:function(r){return objectAssign$7({},r,{headers:objectAssign$7({Accept:"application/json"},r.headers)})}}};function tryParse(t){try{return JSON.parse(t)}catch(e){throw e.message="Failed to parsed response body as JSON: ".concat(e.message),e}}var browserProgress=function(){return{onRequest:function(e){if(e.adapter!=="xhr")return;var r=e.request,n=e.context;"upload"in r&&"onprogress"in r.upload&&(r.upload.onprogress=a("upload")),"onprogress"in r&&(r.onprogress=a("download"));function a(o){return function(s){var l=s.lengthComputable?s.loaded/s.total*100:-1;n.channels.progress.publish({stage:o,percent:l,total:s.total,loaded:s.loaded,lengthComputable:s.lengthComputable})}}}}},progress$1=browserProgress,errors={},makeError$1={exports:{}};(function(t,e){var r=typeof Reflect!="undefined"?Reflect.construct:void 0,n=Object.defineProperty,a=Error.captureStackTrace;a===void 0&&(a=function(u){var d=new Error;n(u,"stack",{configurable:!0,get:function(){var p=d.stack;return n(this,"stack",{configurable:!0,value:p,writable:!0}),p},set:function(p){n(u,"stack",{configurable:!0,value:p,writable:!0})}})});function o(c){c!==void 0&&n(this,"message",{configurable:!0,value:c,writable:!0});var u=this.constructor.name;u!==void 0&&u!==this.name&&n(this,"name",{configurable:!0,value:u,writable:!0}),a(this,this.constructor)}o.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:o,writable:!0}});var s=function(){function c(d,f){return n(d,"name",{configurable:!0,value:f})}try{var u=function(){};if(c(u,"foo"),u.name==="foo")return c}catch{}}();function l(c,u){if(u==null||u===Error)u=o;else if(typeof u!="function")throw new TypeError("super_ should be a function");var d;if(typeof c=="string")d=c,c=r!==void 0?function(){return r(u,arguments,this.constructor)}:function(){u.apply(this,arguments)},s!==void 0&&(s(c,d),d=void 0);else if(typeof c!="function")throw new TypeError("constructor should be either a string or a function");c.super_=c.super=u;var f={constructor:{configurable:!0,value:c,writable:!0}};return d!==void 0&&(f.name={configurable:!0,value:d,writable:!0}),c.prototype=Object.create(u.prototype,f),c}e=t.exports=l,e.BaseError=o})(makeError$1,makeError$1.exports);var makeError=makeError$1.exports,assign$3=objectAssign$b;function ClientError$1(t){var e=extractErrorProps(t);ClientError$1.super.call(this,e.message),assign$3(this,e)}function ServerError$1(t){var e=extractErrorProps(t);ServerError$1.super.call(this,e.message),assign$3(this,e)}function extractErrorProps(t){var e=t.body,r={response:t,statusCode:t.statusCode,responseBody:stringifyBody(e,t)};return e.error&&e.message?(r.message="".concat(e.error," - ").concat(e.message),r):e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||httpErrorMessage(t),r)}function httpErrorMessage(t){var e=t.statusMessage?" ".concat(t.statusMessage):"";return"".concat(t.method,"-request to ").concat(t.url," resulted in HTTP ").concat(t.statusCode).concat(e)}function stringifyBody(t,e){var r=(e.headers["content-type"]||"").toLowerCase(),n=r.indexOf("application/json")!==-1;return n?JSON.stringify(t,null,2):t}makeError(ClientError$1);makeError(ServerError$1);errors.ClientError=ClientError$1;errors.ServerError=ServerError$1;var browserMiddleware=[],getIt=getIt$1,assign$2=objectAssign$b,observable=observable$1,jsonRequest=jsonRequest$1,jsonResponse=jsonResponse$1,progress=progress$1,_require$1=observable$2,Observable$1=_require$1.Observable,_require2$1=errors,ClientError=_require2$1.ClientError,ServerError=_require2$1.ServerError,httpError={onResponse:function(e){if(e.statusCode>=500)throw new ServerError(e);if(e.statusCode>=400)throw new ClientError(e);return e}},printWarnings={onResponse:function(e){var r=e.headers["x-sanity-warning"],n=Array.isArray(r)?r:[r];return n.filter(Boolean).forEach(function(a){return console.warn(a)}),e}},envSpecific=browserMiddleware,middleware=envSpecific.concat([printWarnings,jsonRequest(),jsonResponse(),progress(),httpError,observable({implementation:Observable$1})]),request=getIt(middleware);function httpRequest$1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:request;return e(assign$2({maxRedirects:0},t))}httpRequest$1.defaultRequester=request;httpRequest$1.ClientError=ClientError;httpRequest$1.ServerError=ServerError;var request_1=httpRequest$1,assign$1=objectAssign$b,projectHeader="X-Sanity-Project-ID",requestOptions=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={},n=e.token||t.token;n&&(r.Authorization="Bearer ".concat(n)),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[projectHeader]=t.projectId);var a=Boolean(typeof e.withCredentials=="undefined"?t.token||t.withCredentials:e.withCredentials),o=typeof e.timeout=="undefined"?t.timeout:e.timeout;return assign$1({},e,{headers:assign$1({},r,e.headers||{}),timeout:typeof o=="undefined"?5*60*1e3:o,proxy:e.proxy||t.proxy,json:!0,withCredentials:a})},config={},generateHelpUrl_cjs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t[Symbol.toStringTag]="Module";const e="https://docs.sanity.io/help/";function r(n){return e+n}t.generateHelpUrl=r})(generateHelpUrl_cjs);var warnings={},once$1=function(t){var e=!1,r;return function(){return e||(r=t.apply(void 0,arguments),e=!0),r}},generateHelpUrl$2=generateHelpUrl_cjs.generateHelpUrl,once=once$1,createWarningPrinter=function(e){return once(function(){for(var r,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=console).warn.apply(r,[e.join(" ")].concat(a))})};warnings.printCdnWarning=createWarningPrinter(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see ".concat(generateHelpUrl$2("js-client-cdn-configuration"),"."),"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]);warnings.printBrowserTokenWarning=createWarningPrinter(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(generateHelpUrl$2("js-client-browser-token")," for more information and how to hide this warning.")]);warnings.printNoApiVersionSpecifiedWarning=createWarningPrinter(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(generateHelpUrl$2("js-client-api-version"))]);(function(t){var e=generateHelpUrl_cjs.generateHelpUrl,r=objectAssign$b,n=validators$3,a=warnings,o="apicdn.sanity.io",s={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,isPromiseAPI:!0},l=["localhost","127.0.0.1","0.0.0.0"],c=function(d){return l.indexOf(d)!==-1};t.defaultConfig=s,t.initConfig=function(u,d){var f=r({},d,u);f.apiVersion||a.printNoApiVersionSpecifiedWarning();var p=r({},s,f),v=p.useProjectHostname;if(typeof Promise=="undefined"){var E=e("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(E))}if(v&&!p.projectId)throw new Error("Configuration must contain `projectId`");var I=typeof window!="undefined"&&window.location&&window.location.hostname,U=I&&c(window.location.hostname);I&&U&&p.token&&p.ignoreBrowserTokenWarning!==!0?a.printBrowserTokenWarning():typeof p.useCdn=="undefined"&&a.printCdnWarning(),v&&n.projectId(p.projectId),p.dataset&&n.dataset(p.dataset),"requestTagPrefix"in p&&(p.requestTagPrefix=p.requestTagPrefix?n.requestTag(p.requestTagPrefix).replace(/\.+$/,""):void 0),p.apiVersion="".concat(p.apiVersion).replace(/^v/,""),p.isDefaultApi=p.apiHost===s.apiHost,p.useCdn=Boolean(p.useCdn)&&!p.withCredentials,t.validateApiVersion(p.apiVersion);var x=p.apiHost.split("://",2),_=x[0],T=x[1],y=p.isDefaultApi?o:T;return p.useProjectHostname?(p.url="".concat(_,"://").concat(p.projectId,".").concat(T,"/v").concat(p.apiVersion),p.cdnUrl="".concat(_,"://").concat(p.projectId,".").concat(y,"/v").concat(p.apiVersion)):(p.url="".concat(p.apiHost,"/v").concat(p.apiVersion),p.cdnUrl=p.url),p},t.validateApiVersion=function(d){if(!(d==="1"||d==="X")){var f=new Date(d),p=/^\d{4}-\d{2}-\d{2}$/.test(d)&&f instanceof Date&&f.getTime()>0;if(!p)throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}}})(config);function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(n){_defineProperty(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var assign=objectAssign$b,_require=observable$2,Observable=_require.Observable,map=_require.map,filter$1=_require.filter,Patch=patch,Transaction=transaction,dataMethods=dataMethods$1,DatasetsClient=datasetsClient,ProjectsClient=projectsClient,AssetsClient=assetsClient,UsersClient=usersClient,AuthClient=authClient,httpRequest=request_1,getRequestOptions=requestOptions,_require2=config,defaultConfig=_require2.defaultConfig,initConfig=_require2.initConfig,validate=validators$3,toPromise=function(e){return e.toPromise()};function SanityClient(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultConfig;if(!(this instanceof SanityClient))return new SanityClient(t);if(this.config(t),this.assets=new AssetsClient(this),this.datasets=new DatasetsClient(this),this.projects=new ProjectsClient(this),this.users=new UsersClient(this),this.auth=new AuthClient(this),this.clientConfig.isPromiseAPI){var e=assign({},this.clientConfig,{isPromiseAPI:!1});this.observable=new SanityClient(e)}}assign(SanityClient.prototype,dataMethods);assign(SanityClient.prototype,{clone:function(){return new SanityClient(this.config())},config:function(e){if(typeof e=="undefined")return assign({},this.clientConfig);if(this.observable){var r=assign({},e,{isPromiseAPI:!1});this.observable.config(r)}return this.clientConfig=initConfig(e,this.clientConfig||{}),this},withConfig:function(e){return this.clone().config(e)},getUrl:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=r?this.clientConfig.cdnUrl:this.clientConfig.url;return"".concat(n,"/").concat(e.replace(/^\//,""))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(e){var r=this,n=e.url||e.uri,a=typeof e.canUseCdn=="undefined"?["GET","HEAD"].indexOf(e.method||"GET")>=0&&n.indexOf("/data/")===0:e.canUseCdn,o=this.clientConfig.useCdn&&a,s=e.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,e.tag].join("."):e.tag||this.clientConfig.requestTagPrefix;s&&(e.query=_objectSpread({tag:validate.requestTag(s)},e.query));var l=getRequestOptions(this.clientConfig,assign({},e,{url:this.getUrl(n,o)}));return new Observable(function(c){return httpRequest(l,r.clientConfig.requester).subscribe(c)})},request:function(e){var r=this._requestObservable(e).pipe(filter$1(function(n){return n.type==="response"}),map(function(n){return n.body}));return this.isPromiseAPI()?toPromise(r):r}});SanityClient.Patch=Patch;SanityClient.Transaction=Transaction;SanityClient.ClientError=httpRequest.ClientError;SanityClient.ServerError=httpRequest.ServerError;SanityClient.requester=httpRequest.defaultRequester;var sanityClient=SanityClient,hyperscript$1={exports:{}};/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */var browserSplit=function(e){var r=String.prototype.split,n=/()??/.exec("")[1]===e,a;return a=function(o,f,l){if(Object.prototype.toString.call(f)!=="[object RegExp]")return r.call(o,f,l);var c=[],u=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.extended?"x":"")+(f.sticky?"y":""),d=0,f=new RegExp(f.source,u+"g"),p,v,E,I;for(o+="",n||(p=new RegExp("^"+f.source+"$(?!\\s)",u)),l=l===e?-1>>>0:l>>>0;(v=f.exec(o))&&(E=v.index+v[0].length,!(E>d&&(c.push(o.slice(d,v.index)),!n&&v.length>1&&v[0].replace(p,function(){for(var U=1;U<arguments.length-2;U++)arguments[U]===e&&(v[U]=e)}),v.length>1&&v.index<o.length&&Array.prototype.push.apply(c,v.slice(1)),I=v[0].length,d=E,c.length>=l)));)f.lastIndex===v.index&&f.lastIndex++;return d===o.length?(I||!f.test(""))&&c.push(""):c.push(o.slice(d)),c.length>l?c.slice(0,l):c},a}(),indexOf=[].indexOf,indexof$1=function(t,e){if(indexOf)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1},indexof=indexof$1,classList=ClassList$1;function ClassList$1(t){var e=t.classList;if(e)return e;var r={add:n,remove:a,contains:o,toggle:s,toString:l,length:0,item:c};return r;function n(f){var p=u();indexof(p,f)>-1||(p.push(f),d(p))}function a(f){var p=u(),v=indexof(p,f);v!==-1&&(p.splice(v,1),d(p))}function o(f){return indexof(u(),f)>-1}function s(f){return o(f)?(a(f),!1):(n(f),!0)}function l(){return t.className}function c(f){var p=u();return p[f]||null}function u(){var f=t.className;return filter(f.split(" "),isTruthy)}function d(f){var p=f.length;t.className=f.join(" "),r.length=p;for(var v=0;v<f.length;v++)r[v]=f[v];delete f[p]}}function filter(t,e){for(var r=[],n=0;n<t.length;n++)e(t[n])&&r.push(t[n]);return r}function isTruthy(t){return!!t}var __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1),split=browserSplit,ClassList=classList,w=typeof window=="undefined"?require$$2:window,document$1=w.document,Text$1=w.Text;function context(){var t=[];function e(){var r=[].slice.call(arguments),n=null;function a(o){var s;function l(f){var p=split(f,/([\.#]?[^\s#.]+)/);/^\.|#/.test(p[1])&&(n=document$1.createElement("div")),forEach(p,function(v){var E=v.substring(1,v.length);!v||(n?v[0]==="."?ClassList(n).add(E):v[0]==="#"&&n.setAttribute("id",E):n=document$1.createElement(v))})}if(o!=null){if(typeof o=="string")n?n.appendChild(s=document$1.createTextNode(o)):l(o);else if(typeof o=="number"||typeof o=="boolean"||o instanceof Date||o instanceof RegExp)n.appendChild(s=document$1.createTextNode(o.toString()));else if(isArray(o))forEach(o,a);else if(isNode(o))n.appendChild(s=o);else if(o instanceof Text$1)n.appendChild(s=o);else if(typeof o=="object")for(var c in o)if(typeof o[c]=="function")/^on\w+/.test(c)?function(f,p){n.addEventListener?(n.addEventListener(f.substring(2),p[f],!1),t.push(function(){n.removeEventListener(f.substring(2),p[f],!1)})):(n.attachEvent(f,p[f]),t.push(function(){n.detachEvent(f,p[f])}))}(c,o):(n[c]=o[c](),t.push(o[c](function(f){n[c]=f})));else if(c==="style")if(typeof o[c]=="string")n.style.cssText=o[c];else for(var u in o[c])(function(f,p){if(typeof p=="function")n.style.setProperty(f,p()),t.push(p(function(E){n.style.setProperty(f,E)}));else var v=o[c][f].match(/(.*)\W+!important\W*$/);v?n.style.setProperty(f,v[1],"important"):n.style.setProperty(f,o[c][f])})(u,o[c][u]);else if(c==="attrs")for(var d in o[c])n.setAttribute(d,o[c][d]);else c.substr(0,5)==="data-"?n.setAttribute(c,o[c]):n[c]=o[c];else if(typeof o=="function"){var d=o();n.appendChild(s=isNode(d)?d:document$1.createTextNode(d)),t.push(o(function(p){isNode(p)&&s.parentElement?(s.parentElement.replaceChild(p,s),s=p):s.textContent=p}))}}return s}for(;r.length;)a(r.shift());return n}return e.cleanup=function(){for(var r=0;r<t.length;r++)t[r]();t.length=0},e}var h$2=hyperscript$1.exports=context();h$2.context=context;function isNode(t){return t&&t.nodeName&&t.nodeType}function forEach(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r)}function isArray(t){return Object.prototype.toString.call(t)=="[object Array]"}var baseUrl="https://docs.sanity.io/help/",generateHelpUrl$1=function(e){return baseUrl+e},imageUrl_umd$1={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(commonjsGlobal,function(){function r(){return r=Object.assign||function(k){for(var g=1;g<arguments.length;g++){var R=arguments[g];for(var A in R)Object.prototype.hasOwnProperty.call(R,A)&&(k[A]=R[A])}return k},r.apply(this,arguments)}function n(k,g){if(!!k){if(typeof k=="string")return a(k,g);var R=Object.prototype.toString.call(k).slice(8,-1);if(R==="Object"&&k.constructor&&(R=k.constructor.name),R==="Map"||R==="Set")return Array.from(k);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return a(k,g)}}function a(k,g){(g==null||g>k.length)&&(g=k.length);for(var R=0,A=new Array(g);R<g;R++)A[R]=k[R];return A}function o(k){var g=0;if(typeof Symbol=="undefined"||k[Symbol.iterator]==null){if(Array.isArray(k)||(k=n(k)))return function(){return g>=k.length?{done:!0}:{done:!1,value:k[g++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return g=k[Symbol.iterator](),g.next.bind(g)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function l(k){var g=k.split("-"),R=g[1],A=g[2],Y=g[3];if(!R||!A||!Y)throw new Error("Malformed asset _ref '"+k+`'. Expected an id like "`+s+'".');var N=A.split("x"),Q=N[0],re=N[1],oe=+Q,ae=+re,ce=isFinite(oe)&&isFinite(ae);if(!ce)throw new Error("Malformed asset _ref '"+k+`'. Expected an id like "`+s+'".');return{id:R,width:oe,height:ae,format:Y}}var c=function(g){var R=g;return R?typeof R._ref=="string":!1},u=function(g){var R=g;return R?typeof R._id=="string":!1},d=function(g){var R=g;return R&&R.asset?typeof R.asset.url=="string":!1};function f(k){if(!k)return null;var g;if(typeof k=="string"&&p(k))g={asset:{_ref:v(k)}};else if(typeof k=="string")g={asset:{_ref:k}};else if(c(k))g={asset:k};else if(u(k))g={asset:{_ref:k._id||""}};else if(d(k))g={asset:{_ref:v(k.asset.url)}};else if(typeof k.asset=="object")g=k;else return null;var R=k;return R.crop&&(g.crop=R.crop),R.hotspot&&(g.hotspot=R.hotspot),E(g)}function p(k){return/^https?:\/\//.test(""+k)}function v(k){var g=k.split("/").slice(-1);return("image-"+g[0]).replace(/\.([a-z]+)$/,"-$1")}function E(k){if(k.crop&&k.hotspot)return k;var g=r({},k);return g.crop||(g.crop={left:0,top:0,bottom:0,right:0}),g.hotspot||(g.hotspot={x:.5,y:.5,height:1,width:1}),g}var I=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function U(k){var g=r({},k||{}),R=g.source;delete g.source;var A=f(R);if(!A)return null;var Y=A.asset._ref||A.asset._id||"",N=l(Y),Q=Math.round(A.crop.left*N.width),re=Math.round(A.crop.top*N.height),oe={left:Q,top:re,width:Math.round(N.width-A.crop.right*N.width-Q),height:Math.round(N.height-A.crop.bottom*N.height-re)},ae=A.hotspot.height*N.height/2,ce=A.hotspot.width*N.width/2,ue=A.hotspot.x*N.width,m=A.hotspot.y*N.height,S={left:ue-ce,top:m-ae,right:ue+ce,bottom:m+ae};return g.rect||g.focalPoint||g.ignoreImageParams||g.crop||(g=r(r({},g),_({crop:oe,hotspot:S},g))),x(r(r({},g),{},{asset:N}))}function x(k){var g=k.baseUrl||"https://cdn.sanity.io",R=k.asset.id+"-"+k.asset.width+"x"+k.asset.height+"."+k.asset.format,A=g+"/images/"+k.projectId+"/"+k.dataset+"/"+R,Y=[];if(k.rect){var N=k.rect,Q=N.left,re=N.top,oe=N.width,ae=N.height,ce=Q!==0||re!==0||ae!==k.asset.height||oe!==k.asset.width;ce&&Y.push("rect="+Q+","+re+","+oe+","+ae)}k.bg&&Y.push("bg="+k.bg),k.focalPoint&&(Y.push("fp-x="+k.focalPoint.x),Y.push("fp-y="+k.focalPoint.y));var ue=[k.flipHorizontal&&"h",k.flipVertical&&"v"].filter(Boolean).join("");return ue&&Y.push("flip="+ue),I.forEach(function(m){var S=m[0],D=m[1];typeof k[S]!="undefined"?Y.push(D+"="+encodeURIComponent(k[S])):typeof k[D]!="undefined"&&Y.push(D+"="+encodeURIComponent(k[D]))}),Y.length===0?A:A+"?"+Y.join("&")}function _(k,g){var R,A=g.width,Y=g.height;if(!(A&&Y))return{width:A,height:Y,rect:k.crop};var N=k.crop,Q=k.hotspot,re=A/Y,oe=N.width/N.height;if(oe>re){var ae=N.height,ce=ae*re,ue=N.top,m=(Q.right-Q.left)/2+Q.left,S=m-ce/2;S<N.left?S=N.left:S+ce>N.left+N.width&&(S=N.left+N.width-ce),R={left:Math.round(S),top:Math.round(ue),width:Math.round(ce),height:Math.round(ae)}}else{var D=N.width,M=D/re,j=N.left,P=(Q.bottom-Q.top)/2+Q.top,H=P-M/2;H<N.top?H=N.top:H+M>N.top+N.height&&(H=N.top+N.height-M),R={left:Math.max(0,Math.floor(j)),top:Math.max(0,Math.floor(H)),width:Math.round(D),height:Math.round(M)}}return{width:A,height:Y,rect:R}}var T=["clip","crop","fill","fillmax","max","scale","min"],y=["top","bottom","left","right","center","focalpoint","entropy"],C=["format"];function b(k){return k?typeof k.clientConfig=="object":!1}function $(k){for(var g=I,R=o(g),A;!(A=R()).done;){var Y=A.value,N=Y[0],Q=Y[1];if(k===N||k===Q)return N}return k}function F(k){var g=k;if(b(g)){var R=g.clientConfig,A=R.apiHost,Y=R.projectId,N=R.dataset,Q=A||"https://api.sanity.io";return new L(null,{baseUrl:Q.replace(/^https:\/\/api\./,"https://cdn."),projectId:Y,dataset:N})}return new L(null,k)}var L=function(){function k(R,A){this.options=R?r(r({},R.options||{}),A||{}):r({},A||{})}var g=k.prototype;return g.withOptions=function(A){var Y=A.baseUrl||this.options.baseUrl,N={baseUrl:Y};for(var Q in A)if(A.hasOwnProperty(Q)){var re=$(Q);N[re]=A[Q]}return new k(this,r({baseUrl:Y},N))},g.image=function(A){return this.withOptions({source:A})},g.dataset=function(A){return this.withOptions({dataset:A})},g.projectId=function(A){return this.withOptions({projectId:A})},g.bg=function(A){return this.withOptions({bg:A})},g.dpr=function(A){return this.withOptions({dpr:A})},g.width=function(A){return this.withOptions({width:A})},g.height=function(A){return this.withOptions({height:A})},g.focalPoint=function(A,Y){return this.withOptions({focalPoint:{x:A,y:Y}})},g.maxWidth=function(A){return this.withOptions({maxWidth:A})},g.minWidth=function(A){return this.withOptions({minWidth:A})},g.maxHeight=function(A){return this.withOptions({maxHeight:A})},g.minHeight=function(A){return this.withOptions({minHeight:A})},g.size=function(A,Y){return this.withOptions({width:A,height:Y})},g.blur=function(A){return this.withOptions({blur:A})},g.sharpen=function(A){return this.withOptions({sharpen:A})},g.rect=function(A,Y,N,Q){return this.withOptions({rect:{left:A,top:Y,width:N,height:Q}})},g.format=function(A){return this.withOptions({format:A})},g.invert=function(A){return this.withOptions({invert:A})},g.orientation=function(A){return this.withOptions({orientation:A})},g.quality=function(A){return this.withOptions({quality:A})},g.forceDownload=function(A){return this.withOptions({download:A})},g.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},g.flipVertical=function(){return this.withOptions({flipVertical:!0})},g.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},g.fit=function(A){if(T.indexOf(A)===-1)throw new Error('Invalid fit mode "'+A+'"');return this.withOptions({fit:A})},g.crop=function(A){if(y.indexOf(A)===-1)throw new Error('Invalid crop mode "'+A+'"');return this.withOptions({crop:A})},g.saturation=function(A){return this.withOptions({saturation:A})},g.auto=function(A){if(C.indexOf(A)===-1)throw new Error('Invalid auto mode "'+A+'"');return this.withOptions({auto:A})},g.pad=function(A){return this.withOptions({pad:A})},g.url=function(){return U(this.options)},g.toString=function(){return this.url()},k}();return F})})(imageUrl_umd$1);var generateHelpUrl=generateHelpUrl$1,urlBuilder=imageUrl_umd$1.exports,objectAssign$6=objectAssign$b,enc=encodeURIComponent,materializeError="You must either:\n  - Pass `projectId` and `dataset` to the block renderer\n  - Materialize images to include the `url` field.\n\nFor more information, see ".concat(generateHelpUrl("block-content-image-materializing")),getQueryString=function(e){var r=e.imageOptions,n=Object.keys(r);if(!n.length)return"";var a=n.map(function(o){return"".concat(enc(o),"=").concat(enc(r[o]))});return"?".concat(a.join("&"))},buildUrl=function(e){var r=e.node,n=e.options,a=n.projectId,o=n.dataset,s=r.asset;if(!s)throw new Error("Image does not have required `asset` property");if(s.url)return s.url+getQueryString(n);if(!a||!o)throw new Error(materializeError);var l=s._ref;if(!l)throw new Error("Invalid image reference in block, no `_ref` found on `asset`");return urlBuilder(objectAssign$6({projectId:a,dataset:o},n.imageOptions||{})).image(r).toString()},getImageUrl$2=buildUrl,defaultMarks=["strong","em","code","underline","strike-through"],buildMarksTree$1=function(e){var r=e.children,n=e.markDefs;if(!r||!r.length)return[];var a=r.map(sortMarksByOccurences),o={_type:"span",children:[]},s=[o];return r.forEach(function(l,c){var u=a[c];if(!u){var d=s[s.length-1];d.children.push(l);return}var f=1;if(s.length>1)for(f;f<s.length;f++){var p=s[f].markKey,v=u.indexOf(p);if(v===-1)break;u.splice(v,1)}s=s.slice(0,f);var E=findLastParentNode(s);if(u.forEach(function(x){var _={_type:"span",_key:l._key,children:[],mark:n.find(function(T){return T._key===x})||x,markKey:x};E.children.push(_),s.push(_),E=_}),isTextSpan(l)){for(var I=l.text.split(`
`),U=I.length;U-- >1;)I.splice(U,0,`
`);E.children=E.children.concat(I)}else E.children=E.children.concat(l)}),o.children};function sortMarksByOccurences(t,e,r){if(!t.marks||t.marks.length===0)return t.marks||[];var n=t.marks.reduce(function(o,s){o[s]=o[s]?o[s]+1:1;for(var l=e+1;l<r.length;l++){var c=r[l];if(c.marks&&Array.isArray(c.marks)&&c.marks.indexOf(s)!==-1)o[s]++;else break}return o},{}),a=sortMarks.bind(null,n);return t.marks.slice().sort(a)}function sortMarks(t,e,r){var n=t[e]||0,a=t[r]||0;if(n!==a)return a-n;var o=defaultMarks.indexOf(e),s=defaultMarks.indexOf(r);return o!==s?o-s:e<r?-1:e>r?1:0}function isTextSpan(t){return t._type==="span"&&typeof t.text=="string"&&(Array.isArray(t.marks)||typeof t.marks=="undefined")}function findLastParentNode(t){for(var e=t.length-1;e>=0;e--){var r=t[e];if(r._type==="span"&&r.children)return r}}var buildMarksTree_1=buildMarksTree$1,objectAssign$5=objectAssign$b;function nestLists$1(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"html",r=[],n,a=0;a<t.length;a++){var o=t[a];if(!isListBlock(o)){r.push(o),n=null;continue}if(!n){n=listFromBlock(o),r.push(n);continue}if(blockMatchesList(o,n)){n.children.push(o);continue}if(o.level>n.level){var s=listFromBlock(o);if(e==="html"){var l=lastChild(n),c=objectAssign$5({},l,{children:l.children.concat(s)});n.children[n.children.length-1]=c}else n.children.push(s);n=s;continue}if(o.level<n.level){var u=findListMatching(r[r.length-1],o);if(u){n=u,n.children.push(o);continue}n=listFromBlock(o),r.push(n);continue}if(o.listItem!==n.listItem){var d=findListMatching(r[r.length-1],{level:o.level});if(d&&d.listItem===o.listItem){n=d,n.children.push(o);continue}else{n=listFromBlock(o),r.push(n);continue}}console.warn("Unknown state encountered for block",o),r.push(o)}return r}function isListBlock(t){return Boolean(t.listItem)}function blockMatchesList(t,e){return t.level===e.level&&t.listItem===e.listItem}function listFromBlock(t){return{_type:"list",_key:"".concat(t._key,"-parent"),level:t.level,listItem:t.listItem,children:[t]}}function lastChild(t){return t.children&&t.children[t.children.length-1]}function findListMatching(t,e){var r=typeof e.listItem=="string";if(t._type==="list"&&t.level===e.level&&r&&t.listItem===e.listItem)return t;var n=lastChild(t);return n?findListMatching(n,e):!1}var nestLists_1=nestLists$1,objectAssign$4=objectAssign$b,generateKeys$1=function(t){return t.map(function(e){return e._key?e:objectAssign$4({_key:getStaticKey(e)},e)})};function getStaticKey(t){return checksum(JSON.stringify(t)).toString(36).replace(/[^A-Za-z0-9]/g,"")}function checksum(t){var e=0,r=t.length;if(r===0)return e;for(var n=0;n<r;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}function _typeof(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(r){return typeof r}:_typeof=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(t)}var objectAssign$3=objectAssign$b,isDefined$1=function(e){return typeof e!="undefined"},mergeSerializers$1=function(e,r){return Object.keys(e).reduce(function(n,a){var o=_typeof(e[a]);return o==="function"?n[a]=isDefined$1(r[a])?r[a]:e[a]:o==="object"?n[a]=objectAssign$3({},e[a],r[a]):n[a]=typeof r[a]=="undefined"?e[a]:r[a],n},{})},objectAssign$2=objectAssign$b,buildMarksTree=buildMarksTree_1,nestLists=nestLists_1,generateKeys=generateKeys$1,mergeSerializers=mergeSerializers$1,optionProps=["projectId","dataset","imageOptions","ignoreUnknownTypes"],isDefined=function(e){return typeof e!="undefined"},defaults={imageOptions:{},ignoreUnknownTypes:!0};function blocksToNodes$1(t,e,r,n){var a=objectAssign$2({},defaults,e),o=Array.isArray(a.blocks)?a.blocks:[a.blocks],s=generateKeys(o),l=nestLists(s,a.listNestMode),c=mergeSerializers(r,a.serializers||{}),u=optionProps.reduce(function(_,T){var y=a[T];return isDefined(y)&&(_[T]=y),_},{});function d(_,T,y,C){return isList(_)?E(_):isListItem(_)?v(_,f(_,y)):isSpan(_)?n(_,c,T,{serializeNode:d}):p(_,T,C)}function f(_,T){for(var y=0,C=0;C<T.length;C++){if(T[C]===_)return y;!isListItem(T[C])||y++}return y}function p(_,T,y){var C=buildMarksTree(_),b=C.map(function(F,L,k){return d(F,L,k,!0)}),$={key:_._key||"block-".concat(T),node:_,isInline:y,serializers:c,options:u};return t(c.block,$,b)}function v(_,T){var y=_._key,C=buildMarksTree(_),b=C.map(d);return t(c.listItem,{node:_,serializers:c,index:T,key:y,options:u},b)}function E(_){var T=_.listItem,y=_.level,C=_._key,b=_.children.map(d);return t(c.list,{key:C,level:y,type:T,options:u},b)}var I=Boolean(a.renderContainerOnSingleChild),U=l.map(d);if(I||U.length>1){var x=a.className?{className:a.className}:{};return t(c.container,x,U)}return U[0]?U[0]:typeof c.empty=="function"?t(c.empty):c.empty}function isList(t){return t._type==="list"&&t.listItem}function isListItem(t){return t._type==="block"&&t.listItem}function isSpan(t){return typeof t=="string"||t.marks||t._type==="span"}var blocksToNodes_1=blocksToNodes$1,objectAssign$1=objectAssign$b,getImageUrl$1=getImageUrl$2,serializers$1=function(t,e){var r=e||{useDashedStyles:!1};function n(_){var T=_.node,y=_.serializers,C=_.options,b=_.isInline,$=_.children,F=T._type,L=y.types[F];if(!L){if(C.ignoreUnknownTypes)return console.warn('Unknown block type "'.concat(F,'", please specify a serializer for it in the `serializers.types` prop')),t(y.unknownType,{node:T,options:C,isInline:b},$);throw new Error('Unknown block type "'.concat(F,'", please specify a serializer for it in the `serializers.types` prop'))}return t(L,{node:T,options:C,isInline:b},$)}function a(_){var T=_.node,y=T.mark,C=T.children,b=typeof y=="string",$=b?y:y._type,F=_.serializers.marks[$];return F?t(F,_.node,C):(console.warn('Unknown mark type "'.concat($,'", please specify a serializer for it in the `serializers.marks` prop')),t(_.serializers.unknownMark,null,C))}function o(_){var T=_.type==="bullet"?"ul":"ol";return t(T,null,_.children)}function s(_){var T=!_.node.style||_.node.style==="normal"?_.children:t(_.serializers.types.block,_,_.children);return t("li",null,T)}function l(_){return t("div",{style:{display:"none"}},'Unknown block type "'.concat(_.node._type,'", please specify a serializer for it in the `serializers.types` prop'))}function c(_){var T=_.node.style||"normal";return/^h\d/.test(T)?t(T,null,_.children):t(T==="blockquote"?"blockquote":"p",null,_.children)}function u(_,T){return t(_,null,T.children)}function d(_){var T=r.useDashedStyles?{"text-decoration":"underline"}:{textDecoration:"underline"};return t("span",{style:T},_.children)}function f(_){return t("del",null,_.children)}function p(_){return t("a",{href:_.mark.href},_.children)}function v(_){if(!_.node.asset)return null;var T=t("img",{src:getImageUrl$1(_)});return _.isInline?T:t("figure",null,T)}function E(_,T,y,C){if(_===`
`&&T.hardBreak)return t(T.hardBreak,{key:"hb-".concat(y)});if(typeof _=="string")return T.text?t(T.text,{key:"text-".concat(y)},_):_;var b;_.children&&(b={children:_.children.map(function(F,L){return C.serializeNode(F,L,_.children,!0)})});var $=objectAssign$1({},_,b);return t(T.span,{key:_._key||"span-".concat(y),node:$,serializers:T})}var I=function(){return t("br")},U={strong:u.bind(null,"strong"),em:u.bind(null,"em"),code:u.bind(null,"code"),underline:d,"strike-through":f,link:p},x={types:{block:c,image:v},marks:U,list:o,listItem:s,block:n,span:a,hardBreak:I,unknownType:l,unknownMark:"span",container:"div",text:void 0,empty:""};return{defaultSerializers:x,serializeSpan:E}},hyperscript=hyperscript$1.exports,objectAssign=objectAssign$b,getImageUrl=getImageUrl$2,blocksToNodes=blocksToNodes_1,getSerializers=serializers$1,renderNode=function(e,r,n){var a=r||{};if(typeof e=="function")return e(objectAssign({},a,{children:n}));var o=e,s=a.children||n;return hyperscript(o,a,s)},_getSerializers=getSerializers(renderNode,{useDashedStyles:!0}),defaultSerializers=_getSerializers.defaultSerializers,serializeSpan=_getSerializers.serializeSpan,blockContentToHyperscript=function(e){return blocksToNodes(renderNode,e,defaultSerializers,serializeSpan)};blockContentToHyperscript.defaultSerializers=defaultSerializers;blockContentToHyperscript.getImageUrl=getImageUrl;blockContentToHyperscript.renderNode=renderNode;var lib=blockContentToHyperscript,blocksToHyperScript=lib,h$1=blocksToHyperScript.renderNode,blocksToHtml=function(e){var r=blocksToHyperScript(e);return r.outerHTML||r};blocksToHtml.defaultSerializers=blocksToHyperScript.defaultSerializers;blocksToHtml.getImageUrl=blocksToHyperScript.getImageUrl;blocksToHtml.renderNode=h$1;blocksToHtml.h=h$1;var blocksToHtml_1=blocksToHtml,imageUrl_umd={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(commonjsGlobal,function(){var r="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function n(b){var $=b.split("-"),F=$[1],L=$[2],k=$[3];if(!F||!L||!k)throw new Error("Malformed asset _ref '"+b+`'. Expected an id like "`+r+'".');var g=L.split("x"),R=g[0],A=g[1],Y=+R,N=+A,Q=isFinite(Y)&&isFinite(N);if(!Q)throw new Error("Malformed asset _ref '"+b+`'. Expected an id like "`+r+'".');return{id:F,width:Y,height:N,format:k}}var a=function(b){var $=b;return $?typeof $._ref=="string":!1},o=function(b){var $=b;return $?typeof $._id=="string":!1},s=function(b){var $=b;return $&&$.asset?typeof $.asset.url=="string":!1};function l(b){if(!b)return null;var $;if(typeof b=="string"&&c(b))$={asset:{_ref:u(b)}};else if(typeof b=="string")$={asset:{_ref:b}};else if(a(b))$={asset:b};else if(o(b))$={asset:{_ref:b._id||""}};else if(s(b))$={asset:{_ref:u(b.asset.url)}};else if(typeof b.asset=="object")$=b;else return null;var F=b;return F.crop&&($.crop=F.crop),F.hotspot&&($.hotspot=F.hotspot),d($)}function c(b){return/^https?:\/\//.test(""+b)}function u(b){var $=b.split("/").slice(-1);return("image-"+$[0]).replace(/\.([a-z]+)$/,"-$1")}function d(b){if(b.crop&&b.hotspot)return b;var $=Object.assign({},b);return $.crop||($.crop={left:0,top:0,bottom:0,right:0}),$.hotspot||($.hotspot={x:.5,y:.5,height:1,width:1}),$}var f=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function p(b){var $=Object.assign({},b||{}),F=$.source;delete $.source;var L=l(F);if(!L)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(F)+")");var k=L.asset._ref||L.asset._id||"",g=n(k),R=Math.round(L.crop.left*g.width),A=Math.round(L.crop.top*g.height),Y={left:R,top:A,width:Math.round(g.width-L.crop.right*g.width-R),height:Math.round(g.height-L.crop.bottom*g.height-A)},N=L.hotspot.height*g.height/2,Q=L.hotspot.width*g.width/2,re=L.hotspot.x*g.width,oe=L.hotspot.y*g.height,ae={left:re-Q,top:oe-N,right:re+Q,bottom:oe+N};return $.rect||$.focalPoint||$.ignoreImageParams||$.crop||($=Object.assign({},$,E({crop:Y,hotspot:ae},$))),v(Object.assign({},$,{asset:g}))}function v(b){var $=b.baseUrl||"https://cdn.sanity.io",F=b.asset.id+"-"+b.asset.width+"x"+b.asset.height+"."+b.asset.format,L=$+"/images/"+b.projectId+"/"+b.dataset+"/"+F,k=[];if(b.rect){var g=b.rect,R=g.left,A=g.top,Y=g.width,N=g.height,Q=R!==0||A!==0||N!==b.asset.height||Y!==b.asset.width;Q&&k.push("rect="+R+","+A+","+Y+","+N)}b.bg&&k.push("bg="+b.bg),b.focalPoint&&(k.push("fp-x="+b.focalPoint.x),k.push("fp-y="+b.focalPoint.y));var re=[b.flipHorizontal&&"h",b.flipVertical&&"v"].filter(Boolean).join("");return re&&k.push("flip="+re),f.forEach(function(oe){var ae=oe[0],ce=oe[1];typeof b[ae]!="undefined"?k.push(ce+"="+encodeURIComponent(b[ae])):typeof b[ce]!="undefined"&&k.push(ce+"="+encodeURIComponent(b[ce]))}),k.length===0?L:L+"?"+k.join("&")}function E(b,$){var F,L=$.width,k=$.height;if(!(L&&k))return{width:L,height:k,rect:b.crop};var g=b.crop,R=b.hotspot,A=L/k,Y=g.width/g.height;if(Y>A){var N=Math.round(g.height),Q=Math.round(N*A),re=Math.max(0,Math.round(g.top)),oe=Math.round((R.right-R.left)/2+R.left),ae=Math.max(0,Math.round(oe-Q/2));ae<g.left?ae=g.left:ae+Q>g.left+g.width&&(ae=g.left+g.width-Q),F={left:ae,top:re,width:Q,height:N}}else{var ce=g.width,ue=Math.round(ce/A),m=Math.max(0,Math.round(g.left)),S=Math.round((R.bottom-R.top)/2+R.top),D=Math.max(0,Math.round(S-ue/2));D<g.top?D=g.top:D+ue>g.top+g.height&&(D=g.top+g.height-ue),F={left:m,top:D,width:ce,height:ue}}return{width:L,height:k,rect:F}}var I=["clip","crop","fill","fillmax","max","scale","min"],U=["top","bottom","left","right","center","focalpoint","entropy"],x=["format"];function _(b){return b?typeof b.clientConfig=="object":!1}function T(b){for(var $=f,F=0,L=$;F<L.length;F+=1){var k=L[F],g=k[0],R=k[1];if(b===g||b===R)return g}return b}function y(b){var $=b;if(_($)){var F=$.clientConfig,L=F.apiHost,k=F.projectId,g=F.dataset,R=L||"https://api.sanity.io";return new C(null,{baseUrl:R.replace(/^https:\/\/api\./,"https://cdn."),projectId:k,dataset:g})}return new C(null,b)}var C=function($,F){this.options=$?Object.assign({},$.options||{},F||{}):Object.assign({},F||{})};return C.prototype.withOptions=function($){var F=$.baseUrl||this.options.baseUrl,L={baseUrl:F};for(var k in $)if($.hasOwnProperty(k)){var g=T(k);L[g]=$[k]}return new C(this,Object.assign({},{baseUrl:F},L))},C.prototype.image=function($){return this.withOptions({source:$})},C.prototype.dataset=function($){return this.withOptions({dataset:$})},C.prototype.projectId=function($){return this.withOptions({projectId:$})},C.prototype.bg=function($){return this.withOptions({bg:$})},C.prototype.dpr=function($){return this.withOptions($&&$!==1?{dpr:$}:{})},C.prototype.width=function($){return this.withOptions({width:$})},C.prototype.height=function($){return this.withOptions({height:$})},C.prototype.focalPoint=function($,F){return this.withOptions({focalPoint:{x:$,y:F}})},C.prototype.maxWidth=function($){return this.withOptions({maxWidth:$})},C.prototype.minWidth=function($){return this.withOptions({minWidth:$})},C.prototype.maxHeight=function($){return this.withOptions({maxHeight:$})},C.prototype.minHeight=function($){return this.withOptions({minHeight:$})},C.prototype.size=function($,F){return this.withOptions({width:$,height:F})},C.prototype.blur=function($){return this.withOptions({blur:$})},C.prototype.sharpen=function($){return this.withOptions({sharpen:$})},C.prototype.rect=function($,F,L,k){return this.withOptions({rect:{left:$,top:F,width:L,height:k}})},C.prototype.format=function($){return this.withOptions({format:$})},C.prototype.invert=function($){return this.withOptions({invert:$})},C.prototype.orientation=function($){return this.withOptions({orientation:$})},C.prototype.quality=function($){return this.withOptions({quality:$})},C.prototype.forceDownload=function($){return this.withOptions({download:$})},C.prototype.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},C.prototype.flipVertical=function(){return this.withOptions({flipVertical:!0})},C.prototype.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},C.prototype.fit=function($){if(I.indexOf($)===-1)throw new Error('Invalid fit mode "'+$+'"');return this.withOptions({fit:$})},C.prototype.crop=function($){if(U.indexOf($)===-1)throw new Error('Invalid crop mode "'+$+'"');return this.withOptions({crop:$})},C.prototype.saturation=function($){return this.withOptions({saturation:$})},C.prototype.auto=function($){if(x.indexOf($)===-1)throw new Error('Invalid auto mode "'+$+'"');return this.withOptions({auto:$})},C.prototype.pad=function($){return this.withOptions({pad:$})},C.prototype.url=function(){return p(this.options)},C.prototype.toString=function(){return this.url()},y})})(imageUrl_umd);var imageUrlBuilder=imageUrl_umd.exports;/*! get-video-id v3.5.3 | @license MIT © Michael Wuergler | https://github.com/radiovisual/get-video-id */function stripParameters(t){return t.includes("?")?t.split("?")[0]:t.includes("/")?t.split("/")[0]:t.includes("&")?t.split("&")[0]:t}function youtube(t){var e=t;e=e.replace(/#t=.*$/,""),e=e.replace(/^https?:\/\//,"");var r=/youtube:\/\/|youtu\.be\/|y2u\.be\//g;if(r.test(e)){var n=e.split(r)[1];return stripParameters(n)}var a=/\/shorts\//g;if(a.test(e))return stripParameters(e.split(a)[1]);var o=/\/v\/|\/vi\//g;if(o.test(e)){var s=e.split(o)[1];return stripParameters(s)}var l=/v=|vi=/g;if(l.test(e)){var c=e.split(l);return stripParameters(c[1].split("&")[0])}var u=/\/an_webp\//g;if(u.test(e)){var d=e.split(u)[1];return stripParameters(d)}var f=/\/e\//g;if(f.test(e)){var p=e.split(f)[1];return stripParameters(p)}var v=/\/embed\//g;if(v.test(e)){var E=e.split(v)[1];return stripParameters(E)}var I=/\/user\/([a-zA-Z\d]*)$/g;if(!I.test(e)){var U=/\/user\/(?!.*videos)/g;if(U.test(e)){var x=e.split("/");return stripParameters(x.pop())}var _=/\/attribution_link\?.*v%3D([^%&]*)(%26|&|$)/;if(_.test(e))return stripParameters(e.match(_)[1])}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArrayLimit(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,s,l;try{for(r=r.call(t);!(a=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw l}}return n}}function _unsupportedIterableToArray(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vimeo(t){var e=t;if(e.includes("#")){var r=e.split("#"),n=_slicedToArray(r,1);e=n[0]}if(e.includes("?")&&!e.includes("clip_id=")){var a=e.split("?"),o=_slicedToArray(a,1);e=o[0]}var s,l,c=/https?:\/\/vimeo\.com\/event\/(\d+)$/,u=c.exec(e);if(u&&u[1])return u[1];var d=/https?:\/\/vimeo\.com\/(\d+)/,f=d.exec(e);if(f&&f[1])return f[1];var p=["https?://player.vimeo.com/video/[0-9]+$","https?://vimeo.com/channels","groups","album"].join("|"),v=new RegExp(p,"gim");if(v.test(e))l=e.split("/"),l&&l.length>0&&(s=l.pop());else if(/clip_id=/gim.test(e)&&(l=e.split("clip_id="),l&&l.length>0)){var E=l[1].split("&"),I=_slicedToArray(E,1);s=I[0]}return s}function vine(t){var e=/https:\/\/vine\.co\/v\/([a-zA-Z\d]*)\/?/,r=e.exec(t);if(r&&r.length>1)return r[1]}function videopress(t){var e;if(t.includes("embed"))return e=/embed\/(\w{8})/,t.match(e)[1];e=/\/v\/(\w{8})/;var r=t.match(e);if(r&&r.length>0)return r[1]}function microsoftStream(t){var e=t.includes("embed")?/https:\/\/web\.microsoftstream\.com\/embed\/video\/([a-zA-Z\d-]*)\/?/:/https:\/\/web\.microsoftstream\.com\/video\/([a-zA-Z\d-]*)\/?/,r=e.exec(t);if(r&&r.length>1)return r[1]}function tiktok(t){var e=/tiktok\.com(.*)\/video\/(\d+)/gm,r=e.exec(t);if(r&&r.length>2)return r[2]}function dailymotion(t){var e=/dailymotion\.com(.*)(video)\/([a-zA-Z\d]+)/gm,r=e.exec(t);if(r)return r[3];var n=/dai\.ly\/([a-zA-Z\d]+)/gm,a=n.exec(t);if(a&&a.length>1)return a[1];var o=/dailymotion\.com(.*)video=([a-zA-Z\d]+)/gm,s=o.exec(t);if(s&&s.length>2)return s[2]}function getSrc(t){if(typeof t!="string")throw new TypeError("getSrc expected a string");var e=/src="(.*?)"/gm,r=e.exec(t);if(r&&r.length>=2)return r[1]}function getVideoId(t){if(typeof t!="string")throw new TypeError("get-video-id expects a string");var e=t;/<iframe/gi.test(e)&&(e=getSrc(e)),e=e.trim(),e=e.replace("-nocookie",""),e=e.replace("/www.","/");var r={id:null,service:null};if(/\/\/google/.test(e)){var n=e.match(/url=([^&]+)&/);n&&(e=decodeURIComponent(n[1]))}return/youtube|youtu\.be|y2u\.be|i.ytimg\./.test(e)?r={id:youtube(e),service:"youtube"}:/vimeo/.test(e)?r={id:vimeo(e),service:"vimeo"}:/vine/.test(e)?r={id:vine(e),service:"vine"}:/videopress/.test(e)?r={id:videopress(e),service:"videopress"}:/microsoftstream/.test(e)?r={id:microsoftStream(e),service:"microsoftstream"}:/tiktok\.com/.test(e)?r={id:tiktok(e),service:"tiktok"}:/(dailymotion\.com|dai\.ly)/.test(e)&&(r={id:dailymotion(e),service:"dailymotion"}),r}var castPath=_castPath,toKey=_toKey;function baseGet$1(t,e){e=castPath(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[toKey(e[r++])];return r&&r==n?t:void 0}var _baseGet=baseGet$1,baseGet=_baseGet;function get(t,e,r){var n=t==null?void 0:baseGet(t,e);return n===void 0?r:n}var get_1=get;function toInteger(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function requiredArgs(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function toDate(t){requiredArgs(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function addMilliseconds(t,e){requiredArgs(2,arguments);var r=toDate(t).getTime(),n=toInteger(e);return new Date(r+n)}function getTimezoneOffsetInMilliseconds(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var millisecondsInMinute=6e4,millisecondsInHour=36e5;function isDate(t){return requiredArgs(1,arguments),t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function isValid(t){if(requiredArgs(1,arguments),!isDate(t)&&typeof t!="number")return!1;var e=toDate(t);return!isNaN(Number(e))}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(t,e,r){var n,a=formatDistanceLocale[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatDistance$1=formatDistance;function buildFormatLongFn(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(t,e,r,n){return formatRelativeLocale[t]},formatRelative$1=formatRelative;function buildLocalizeFn(t){return function(e,r){var n=r||{},a=n.context?String(n.context):"standalone",o;if(a==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,l=n.width?String(n.width):s;o=t.formattingValues[l]||t.formattingValues[s]}else{var c=t.defaultWidth,u=n.width?String(n.width):t.defaultWidth;o=t.values[u]||t.values[c]}var d=t.argumentCallback?t.argumentCallback(e):e;return o[d]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(t,e){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize;function buildMatchFn(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(a);if(!o)return null;var s=o[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?findIndex(l,function(f){return f.test(s)}):findKey(l,function(f){return f.test(s)}),u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(s.length);return{value:u,rest:d}}}function findKey(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function findIndex(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function buildMatchPatternFn(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var a=n[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=r.valueCallback?r.valueCallback(s):s;var l=e.slice(a.length);return{value:s,rest:l}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(t){return parseInt(t,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$1=match,locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale;function subMilliseconds(t,e){requiredArgs(2,arguments);var r=toInteger(e);return addMilliseconds(t,-r)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(t){requiredArgs(1,arguments);var e=toDate(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=r-n;return Math.floor(a/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(t){requiredArgs(1,arguments);var e=1,r=toDate(t),n=r.getUTCDay(),a=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function getUTCISOWeekYear(t){requiredArgs(1,arguments);var e=toDate(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=startOfUTCISOWeek(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var s=startOfUTCISOWeek(o);return e.getTime()>=a.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function startOfUTCISOWeekYear(t){requiredArgs(1,arguments);var e=getUTCISOWeekYear(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=startOfUTCISOWeek(r);return n}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(t){requiredArgs(1,arguments);var e=toDate(t),r=startOfUTCISOWeek(e).getTime()-startOfUTCISOWeekYear(e).getTime();return Math.round(r/MILLISECONDS_IN_WEEK$1)+1}function startOfUTCWeek(t,e){requiredArgs(1,arguments);var r=e||{},n=r.locale,a=n&&n.options&&n.options.weekStartsOn,o=a==null?0:toInteger(a),s=r.weekStartsOn==null?o:toInteger(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=toDate(t),c=l.getUTCDay(),u=(c<s?7:0)+c-s;return l.setUTCDate(l.getUTCDate()-u),l.setUTCHours(0,0,0,0),l}function getUTCWeekYear(t,e){requiredArgs(1,arguments);var r=toDate(t),n=r.getUTCFullYear(),a=e||{},o=a.locale,s=o&&o.options&&o.options.firstWeekContainsDate,l=s==null?1:toInteger(s),c=a.firstWeekContainsDate==null?l:toInteger(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(n+1,0,c),u.setUTCHours(0,0,0,0);var d=startOfUTCWeek(u,e),f=new Date(0);f.setUTCFullYear(n,0,c),f.setUTCHours(0,0,0,0);var p=startOfUTCWeek(f,e);return r.getTime()>=d.getTime()?n+1:r.getTime()>=p.getTime()?n:n-1}function startOfUTCWeekYear(t,e){requiredArgs(1,arguments);var r=e||{},n=r.locale,a=n&&n.options&&n.options.firstWeekContainsDate,o=a==null?1:toInteger(a),s=r.firstWeekContainsDate==null?o:toInteger(r.firstWeekContainsDate),l=getUTCWeekYear(t,e),c=new Date(0);c.setUTCFullYear(l,0,s),c.setUTCHours(0,0,0,0);var u=startOfUTCWeek(c,e);return u}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(t,e){requiredArgs(1,arguments);var r=toDate(t),n=startOfUTCWeek(r,e).getTime()-startOfUTCWeekYear(r,e).getTime();return Math.round(n/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var formatters$2={y:function(t,e){var r=t.getUTCFullYear(),n=r>0?r:1-r;return addLeadingZeros(e==="yy"?n%100:n,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):addLeadingZeros(r+1,2)},d:function(t,e){return addLeadingZeros(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return addLeadingZeros(t.getUTCHours()%12||12,e.length)},H:function(t,e){return addLeadingZeros(t.getUTCHours(),e.length)},m:function(t,e){return addLeadingZeros(t.getUTCMinutes(),e.length)},s:function(t,e){return addLeadingZeros(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,n=t.getUTCMilliseconds(),a=Math.floor(n*Math.pow(10,r-3));return addLeadingZeros(a,e.length)}},formatters$3=formatters$2,dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(t,e,r){var n=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var n=t.getUTCFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return formatters$3.y(t,e)},Y:function(t,e,r,n){var a=getUTCWeekYear(t,n),o=a>0?a:1-a;if(e==="YY"){var s=o%100;return addLeadingZeros(s,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):addLeadingZeros(o,e.length)},R:function(t,e){var r=getUTCISOWeekYear(t);return addLeadingZeros(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return addLeadingZeros(r,e.length)},Q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return addLeadingZeros(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return addLeadingZeros(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){var n=t.getUTCMonth();switch(e){case"M":case"MM":return formatters$3.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){var n=t.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return addLeadingZeros(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){var a=getUTCWeek(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):addLeadingZeros(a,e.length)},I:function(t,e,r){var n=getUTCISOWeek(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):addLeadingZeros(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):formatters$3.d(t,e)},D:function(t,e,r){var n=getUTCDayOfYear(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):addLeadingZeros(n,e.length)},E:function(t,e,r){var n=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){var a=t.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return addLeadingZeros(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){var a=t.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return addLeadingZeros(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){var n=t.getUTCDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return addLeadingZeros(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){var n=t.getUTCHours(),a=n/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){var n=t.getUTCHours(),a;switch(n===12?a=dayPeriodEnum.noon:n===0?a=dayPeriodEnum.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){var n=t.getUTCHours(),a;switch(n>=17?a=dayPeriodEnum.evening:n>=12?a=dayPeriodEnum.afternoon:n>=4?a=dayPeriodEnum.morning:a=dayPeriodEnum.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return formatters$3.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):formatters$3.H(t,e)},K:function(t,e,r){var n=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):addLeadingZeros(n,e.length)},k:function(t,e,r){var n=t.getUTCHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):addLeadingZeros(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):formatters$3.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):formatters$3.s(t,e)},S:function(t,e){return formatters$3.S(t,e)},X:function(t,e,r,n){var a=n._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(e){case"X":return formatTimezoneWithOptionalMinutes(o);case"XXXX":case"XX":return formatTimezone(o);case"XXXXX":case"XXX":default:return formatTimezone(o,":")}},x:function(t,e,r,n){var a=n._originalDate||t,o=a.getTimezoneOffset();switch(e){case"x":return formatTimezoneWithOptionalMinutes(o);case"xxxx":case"xx":return formatTimezone(o);case"xxxxx":case"xxx":default:return formatTimezone(o,":")}},O:function(t,e,r,n){var a=n._originalDate||t,o=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(o,":");case"OOOO":default:return"GMT"+formatTimezone(o,":")}},z:function(t,e,r,n){var a=n._originalDate||t,o=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(o,":");case"zzzz":default:return"GMT"+formatTimezone(o,":")}},t:function(t,e,r,n){var a=n._originalDate||t,o=Math.floor(a.getTime()/1e3);return addLeadingZeros(o,e.length)},T:function(t,e,r,n){var a=n._originalDate||t,o=a.getTime();return addLeadingZeros(o,e.length)}};function formatTimezoneShort(t,e){var r=t>0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),o=n%60;if(o===0)return r+String(a);var s=e||"";return r+String(a)+s+addLeadingZeros(o,2)}function formatTimezoneWithOptionalMinutes(t,e){if(t%60===0){var r=t>0?"-":"+";return r+addLeadingZeros(Math.abs(t)/60,2)}return formatTimezone(t,e)}function formatTimezone(t,e){var r=e||"",n=t>0?"-":"+",a=Math.abs(t),o=addLeadingZeros(Math.floor(a/60),2),s=addLeadingZeros(a%60,2);return n+o+r+s}var formatters$1=formatters;function dateLongFormatter(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function timeLongFormatter(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function dateTimeLongFormatter(t,e){var r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return dateLongFormatter(t,e);var o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",dateLongFormatter(n,e)).replace("{{time}}",timeLongFormatter(a,e))}var longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},longFormatters$1=longFormatters,protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(t){return protectedDayOfYearTokens.indexOf(t)!==-1}function isProtectedWeekYearToken(t){return protectedWeekYearTokens.indexOf(t)!==-1}function throwProtectedError(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(t,e,r){requiredArgs(2,arguments);var n=String(e),a=r||{},o=a.locale||defaultLocale,s=o.options&&o.options.firstWeekContainsDate,l=s==null?1:toInteger(s),c=a.firstWeekContainsDate==null?l:toInteger(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=o.options&&o.options.weekStartsOn,d=u==null?0:toInteger(u),f=a.weekStartsOn==null?d:toInteger(a.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var p=toDate(t);if(!isValid(p))throw new RangeError("Invalid time value");var v=getTimezoneOffsetInMilliseconds(p),E=subMilliseconds(p,v),I={firstWeekContainsDate:c,weekStartsOn:f,locale:o,_originalDate:p},U=n.match(longFormattingTokensRegExp).map(function(x){var _=x[0];if(_==="p"||_==="P"){var T=longFormatters$1[_];return T(x,o.formatLong,I)}return x}).join("").match(formattingTokensRegExp).map(function(x){if(x==="''")return"'";var _=x[0];if(_==="'")return cleanEscapedString(x);var T=formatters$1[_];if(T)return!a.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(x)&&throwProtectedError(x,e,t),!a.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(x)&&throwProtectedError(x,e,t),T(E,x,o.localize,I);if(_.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return x}).join("");return U}function cleanEscapedString(t){return t.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function parseISO(t,e){requiredArgs(1,arguments);var r=e||{},n=r.additionalDigits==null?2:toInteger(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var a=splitDateString(t),o;if(a.date){var s=parseYear(a.date,n);o=parseDate(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var l=o.getTime(),c=0,u;if(a.time&&(c=parseTime(a.time),isNaN(c)))return new Date(NaN);if(a.timezone){if(u=parseTimezone(a.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(l+c),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(l+c+u)}var patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(t){var e={},r=t.split(patterns.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],patterns.timeZoneDelimiter.test(e.date)&&(e.date=t.split(patterns.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var a=patterns.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function parseYear(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:t.slice((n[1]||n[2]).length)}}function parseDate(t,e){if(e===null)return new Date(NaN);var r=t.match(dateRegex);if(!r)return new Date(NaN);var n=!!r[4],a=parseDateUnit(r[1]),o=parseDateUnit(r[2])-1,s=parseDateUnit(r[3]),l=parseDateUnit(r[4]),c=parseDateUnit(r[5])-1;if(n)return validateWeekDate(e,l,c)?dayOfISOWeekYear(e,l,c):new Date(NaN);var u=new Date(0);return!validateDate(e,o,s)||!validateDayOfYearDate(e,a)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(a,s)),u)}function parseDateUnit(t){return t?parseInt(t):1}function parseTime(t){var e=t.match(timeRegex);if(!e)return NaN;var r=parseTimeUnit(e[1]),n=parseTimeUnit(e[2]),a=parseTimeUnit(e[3]);return validateTime(r,n,a)?r*millisecondsInHour+n*millisecondsInMinute+a*1e3:NaN}function parseTimeUnit(t){return t&&parseFloat(t.replace(",","."))||0}function parseTimezone(t){if(t==="Z")return 0;var e=t.match(timezoneRegex);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return validateTimezone(n,a)?r*(n*millisecondsInHour+a*millisecondsInMinute):NaN}function dayOfISOWeekYear(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var a=n.getUTCDay()||7,o=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}var daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(t){return t%400===0||t%4===0&&t%100!==0}function validateDate(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(daysInMonths[e]||(isLeapYearIndex(t)?29:28))}function validateDayOfYearDate(t,e){return e>=1&&e<=(isLeapYearIndex(t)?366:365)}function validateWeekDate(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function validateTime(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function validateTimezone(t,e){return e>=0&&e<=59}const SANITY_PROJECT_ID="58ueii0w",infoLogger=(...t)=>{console.info(...t)},errorLogger=(...t)=>{console.error(...t)},nanoid=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let n=63&r[t];e+=n<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n<63?"_":"-"}return e},getRandomInt=(t,e)=>Math.floor(Math.random()*(Math.floor(e)-Math.ceil(t)+1))+Math.ceil(t),longFormatDate=t=>{try{if(t)return format(parseISO(t),"MMMM d, yyyy")}catch(e){console.dir(e)}},dateTimeFormat=t=>{try{if(t)return format(parseISO(t),"MMMM d, yyyy, HH:mm")}catch(e){console.dir(e)}},client=sanityClient({projectId:SANITY_PROJECT_ID,dataset:"production",apiVersion:"2021-10-05",token:"",useCdn:!1}),h=blocksToHtml_1.h,prepareTextElements=t=>{let e=[];return has_1(t,"node.caption.content")&&e.push(h("figcaption",{className:"caption"},toPlainText(t.node.caption.content))),has_1(t,"node.attribution")&&e.push(h("figcaption",{className:"credits"},t.node.attribution)),e},renderBlockText=t=>blocksToHtml_1({blocks:t,serializers,projectId:SANITY_PROJECT_ID,dataset:"production"}),toPlainText=(t=[])=>t.map(e=>e._type!=="block"||!e.children?"":e.children.map(r=>r.text).join("")).join(`

`),builder=imageUrlBuilder(client),urlFor=t=>builder.image(t),serializers={marks:{link:t=>{let r=get_1(t,"mark.href","").includes("http")?{target:"_blank",rel:"noreferrer",href:t.mark.href}:{href:t.mark.href};return h("a",r,t.children)},highlight:t=>h("mark",{className:"highlight"},t.children),footnote:t=>h("a",{id:"link-"+t.mark._key,className:"footnote-link",href:"#note-"+t.mark._key},t.children)},types:{block:t=>{const e=t.node.style||"normal";return e==="blockquote"?h("blockquote",{},t.children):e==="h2"?h("h2",{},t.children):e==="h3"?h("h3",{},t.children):e==="h4"?h("h4",{},t.children):h("p",{className:e},t.children)},image:t=>h("figure",{className:"image"},[h("img",{src:urlFor(get_1(t,"node.asset","")).width(800).quality(90).auto("format").url()}),...prepareTextElements(t)]),embedBlock:t=>{if(get_1(t,"node.url","").includes("youtube"))return h("figure",{className:"youtube"},[h("div",{className:"embed-container"},h("iframe",{width:"720",height:"480",src:"https://www.youtube.com/embed/"+getVideoId(t.node.url).id,frameborder:"no",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),...prepareTextElements(t)]);if(get_1(t,"node.url","").includes("vimeo"))return h("figure",{className:"vimeo"},[h("div",{className:"embed-container"},h("iframe",{width:"720",height:"480",src:"https://player.vimeo.com/video/"+getVideoId(t.node.url).id,frameborder:"no",byline:!1,color:"#ffffff",allow:"autoplay; fullscreen",allowfullscreen:!0})),...prepareTextElements(t)]);if(get_1(t,"node.url","").includes("soundcloud"))return h("figure",{className:"soundcloud"},[h("div",{className:"soundcloud-container"},h("iframe",{width:"100%",height:"300",src:"https://w.soundcloud.com/player/?url="+get_1(t,"node.url","")+"&color=%23fffff",frameborder:"no",scrolling:"no",allow:"autoplay"})),...prepareTextElements(t)])},videoBlock:t=>{const e="https://shape.anthropocene-curriculum.org/material/files/"+SANITY_PROJECT_ID+"/production/"+get_1(t,"node.videoFile.asset._ref","").replace("file-","").replace("-mp4",".mp4");return h("figure",{className:"video"},[h("video",{src:e,controls:!0,loop:!0,autoplay:get_1(t,"node.autoPlay","")}),...prepareTextElements(t)])},audioBlock:t=>{const e="https://shape.anthropocene-curriculum.org/material/files/"+SANITY_PROJECT_ID+"/production/"+get_1(t,"node.audioFile.asset._ref","").replace("file-","").replace("-mp3",".mp3");return h("figure",{className:"audio"},[h("audio",{src:e,controls:!0}),...prepareTextElements(t)])}}},loadData=async(t,e)=>{try{const r=await client.fetch(t,e);return r===null?Promise.reject(new Error(404)):r}catch{return Promise.reject(new Error(404))}},mainSiteClient=sanityClient({projectId:"3knpqano",dataset:"production",apiVersion:"2021-10-05",useCdn:!1}),loadDataFromMainSite=async(t,e)=>{try{const r=await mainSiteClient.fetch(t,e);return r===null?Promise.reject(new Error(404)):r}catch{return Promise.reject(new Error(404))}},mainSitebuilder=imageUrlBuilder(mainSiteClient),urlForMainSite=t=>mainSitebuilder.image(t);var slugify$1={exports:{}};(function(t,e){(function(r,n,a){t.exports=a(),t.exports.default=a()})("slugify",commonjsGlobal,function(){var r=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),n=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function a(o,s){if(typeof o!="string")throw new Error("slugify: string argument expected");s=typeof s=="string"?{replacement:s}:s||{};var l=n[s.locale]||{},c=s.replacement===void 0?"-":s.replacement,u=s.trim===void 0?!0:s.trim,d=o.normalize().split("").reduce(function(f,p){var v=l[p]||r[p]||p;return v===c&&(v=" "),f+v.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return s.strict&&(d=d.replace(/[^A-Za-z0-9\s]/g,"")),u&&(d=d.trim()),d=d.replace(/\s+/g,c),s.lower&&(d=d.toLowerCase()),d}return a.extend=function(o){Object.assign(r,o)},a})})(slugify$1);var slugify=slugify$1.exports,personLink_svelte_svelte_type_style_lang="";function create_if_block$9(t){let e,r=(t[1]?t[2](t[1]):t[0].title)+"",n;return{c(){e=element("a"),this.h()},l(a){e=claim_element(a,"A",{href:!0,class:!0});var o=children(e);o.forEach(detach),this.h()},h(){attr(e,"href",n="/people/"+get_1(t[0],"slug.current")),attr(e,"class","svelte-zgjpki")},m(a,o){insert_hydration(a,e,o),e.innerHTML=r},p(a,o){o&3&&r!==(r=(a[1]?a[2](a[1]):a[0].title)+"")&&(e.innerHTML=r),o&1&&n!==(n="/people/"+get_1(a[0],"slug.current"))&&attr(e,"href",n)},d(a){a&&detach(e)}}}function create_fragment$j(t){let e,r=t[0]&&create_if_block$9(t);return{c(){r&&r.c(),e=empty()},l(n){r&&r.l(n),e=empty()},m(n,a){r&&r.m(n,a),insert_hydration(n,e,a)},p(n,[a]){n[0]?r?r.p(n,a):(r=create_if_block$9(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:noop$1,o:noop$1,d(n){r&&r.d(n),n&&detach(e)}}}function instance$e(t,e,r){let{person:n=!1}=e,{overrideText:a=!1}=e,{personId:o=!1}=e;const s=l=>l.replace(/(?:\r\n|\r|\n)/g,"<br>");return o&&loadDataFromMainSite('*[_id == "'+o+'"][0]').then(l=>{r(0,n=l)}),t.$$set=l=>{"person"in l&&r(0,n=l.person),"overrideText"in l&&r(1,a=l.overrideText),"personId"in l&&r(3,o=l.personId)},[n,a,s,o]}class Person_link extends SvelteComponent{constructor(e){super(),init(this,e,instance$e,create_fragment$j,safe_not_equal,{person:0,overrideText:1,personId:3})}}var externalLink_svelte_svelte_type_style_lang="";function create_fragment$i(t){let e,r;return{c(){e=svg_element("svg"),r=svg_element("path"),this.h()},l(n){e=claim_svg_element(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var a=children(e);r=claim_svg_element(a,"path",{d:!0,class:!0}),children(r).forEach(detach),a.forEach(detach),this.h()},h(){attr(r,"d","M3.9378 1.68763V2.81271H1.12509V9.00068H7.31305V6.18797H8.43814V9.56322C8.43814 9.72074 8.38376 9.85387 8.275 9.96263C8.16624 10.0714 8.03311 10.1258 7.8756 10.1258H0.562543C0.40503 10.1258 0.271896 10.0714 0.163137 9.96263C0.0543785 9.85387 0 9.72074 0 9.56322V2.25017C0 2.09266 0.0543785 1.95952 0.163137 1.85077C0.271896 1.74201 0.40503 1.68763 0.562543 1.68763H3.9378ZM10.1258 0V4.50034H9.00068V1.9239L4.61285 6.30048L3.82529 5.51292L8.20187 1.12509H5.62543V0H10.1258Z"),attr(r,"class","svelte-18gy7aj"),attr(e,"width","11"),attr(e,"height","11"),attr(e,"viewBox","0 0 11 11"),attr(e,"fill","none"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","svelte-18gy7aj")},m(n,a){insert_hydration(n,e,a),append_hydration(e,r)},p:noop$1,i:noop$1,o:noop$1,d(n){n&&detach(e)}}}class External_link extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$i,safe_not_equal,{})}}function get_each_context_2(t,e,r){const n=t.slice();return n[6]=e[r],n}function get_each_context_1(t,e,r){const n=t.slice();return n[6]=e[r],n}function get_each_context$2(t,e,r){const n=t.slice();return n[6]=e[r],n}function create_if_block$8(t){let e,r,n,a;const o=[create_if_block_1$5,create_if_block_3$2,create_else_block_1$1],s=[];function l(c,u){return c[0].style=="h2"?0:c[0].style=="h3"?1:2}return e=l(t),r=s[e]=o[e](t),{c(){r.c(),n=empty()},l(c){r.l(c),n=empty()},m(c,u){s[e].m(c,u),insert_hydration(c,n,u),a=!0},p(c,u){let d=e;e=l(c),e===d?s[e].p(c,u):(group_outros(),transition_out(s[d],1,1,()=>{s[d]=null}),check_outros(),r=s[e],r?r.p(c,u):(r=s[e]=o[e](c),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(c){a||(transition_in(r),a=!0)},o(c){transition_out(r),a=!1},d(c){s[e].d(c),c&&detach(n)}}}function create_else_block_1$1(t){let e,r,n=t[0].children,a=[];for(let s=0;s<n.length;s+=1)a[s]=create_each_block_2(get_each_context_2(t,n,s));const o=s=>transition_out(a[s],1,1,()=>{a[s]=null});return{c(){e=element("p");for(let s=0;s<a.length;s+=1)a[s].c()},l(s){e=claim_element(s,"P",{});var l=children(e);for(let c=0;c<a.length;c+=1)a[c].l(l);l.forEach(detach)},m(s,l){insert_hydration(s,e,l);for(let c=0;c<a.length;c+=1)a[c].m(e,null);r=!0},p(s,l){if(l&3){n=s[0].children;let c;for(c=0;c<n.length;c+=1){const u=get_each_context_2(s,n,c);a[c]?(a[c].p(u,l),transition_in(a[c],1)):(a[c]=create_each_block_2(u),a[c].c(),transition_in(a[c],1),a[c].m(e,null))}for(group_outros(),c=n.length;c<a.length;c+=1)o(c);check_outros()}},i(s){if(!r){for(let l=0;l<n.length;l+=1)transition_in(a[l]);r=!0}},o(s){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)transition_out(a[l]);r=!1},d(s){s&&detach(e),destroy_each(a,s)}}}function create_if_block_3$2(t){let e,r=t[0].children,n=[];for(let a=0;a<r.length;a+=1)n[a]=create_each_block_1(get_each_context_1(t,r,a));return{c(){e=element("h3");for(let a=0;a<n.length;a+=1)n[a].c()},l(a){e=claim_element(a,"H3",{});var o=children(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(detach)},m(a,o){insert_hydration(a,e,o);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(a,o){if(o&1){r=a[0].children;let s;for(s=0;s<r.length;s+=1){const l=get_each_context_1(a,r,s);n[s]?n[s].p(l,o):(n[s]=create_each_block_1(l),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},i:noop$1,o:noop$1,d(a){a&&detach(e),destroy_each(n,a)}}}function create_if_block_1$5(t){let e,r,n=t[0].children,a=[];for(let o=0;o<n.length;o+=1)a[o]=create_each_block$2(get_each_context$2(t,n,o));return{c(){e=element("h2");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=claim_element(o,"H2",{id:!0});var s=children(e);for(let l=0;l<a.length;l+=1)a[l].l(s);s.forEach(detach),this.h()},h(){attr(e,"id",r=slugify(t[0].children[0].text,{lower:!0}))},m(o,s){insert_hydration(o,e,s);for(let l=0;l<a.length;l+=1)a[l].m(e,null)},p(o,s){if(s&1){n=o[0].children;let l;for(l=0;l<n.length;l+=1){const c=get_each_context$2(o,n,l);a[l]?a[l].p(c,s):(a[l]=create_each_block$2(c),a[l].c(),a[l].m(e,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=n.length}s&1&&r!==(r=slugify(o[0].children[0].text,{lower:!0}))&&attr(e,"id",r)},i:noop$1,o:noop$1,d(o){o&&detach(e),destroy_each(a,o)}}}function create_else_block_2(t){let e=t[0].markDefs.find(l)._type==="link",r,n=t[0].markDefs.find(s)._type==="person",a,o;function s(...d){return t[2](t[6],...d)}function l(...d){return t[3](t[6],...d)}let c=e&&create_if_block_8$1(t),u=n&&create_if_block_7$1(t);return{c(){c&&c.c(),r=space(),u&&u.c(),a=empty()},l(d){c&&c.l(d),r=claim_space(d),u&&u.l(d),a=empty()},m(d,f){c&&c.m(d,f),insert_hydration(d,r,f),u&&u.m(d,f),insert_hydration(d,a,f),o=!0},p(d,f){t=d,f&1&&(e=t[0].markDefs.find(l)._type==="link"),e?c?(c.p(t,f),f&1&&transition_in(c,1)):(c=create_if_block_8$1(t),c.c(),transition_in(c,1),c.m(r.parentNode,r)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros()),f&1&&(n=t[0].markDefs.find(s)._type==="person"),n?u?(u.p(t,f),f&1&&transition_in(u,1)):(u=create_if_block_7$1(t),u.c(),transition_in(u,1),u.m(a.parentNode,a)):u&&(group_outros(),transition_out(u,1,1,()=>{u=null}),check_outros())},i(d){o||(transition_in(c),transition_in(u),o=!0)},o(d){transition_out(c),transition_out(u),o=!1},d(d){c&&c.d(d),d&&detach(r),u&&u.d(d),d&&detach(a)}}}function create_if_block_6$1(t){let e,r=t[1](t[6].text)+"";return{c(){e=element("strong")},l(n){e=claim_element(n,"STRONG",{});var a=children(e);a.forEach(detach)},m(n,a){insert_hydration(n,e,a),e.innerHTML=r},p(n,a){a&1&&r!==(r=n[1](n[6].text)+"")&&(e.innerHTML=r)},i:noop$1,o:noop$1,d(n){n&&detach(e)}}}function create_if_block_5$1(t){let e,r=t[1](t[6].text)+"";return{c(){e=element("em")},l(n){e=claim_element(n,"EM",{});var a=children(e);a.forEach(detach)},m(n,a){insert_hydration(n,e,a),e.innerHTML=r},p(n,a){a&1&&r!==(r=n[1](n[6].text)+"")&&(e.innerHTML=r)},i:noop$1,o:noop$1,d(n){n&&detach(e)}}}function create_if_block_4$2(t){let e,r=t[1](t[6].text)+"",n;return{c(){e=new HtmlTagHydration,n=empty(),this.h()},l(a){e=claim_html_tag(a),n=empty(),this.h()},h(){e.a=n},m(a,o){e.m(r,a,o),insert_hydration(a,n,o)},p(a,o){o&1&&r!==(r=a[1](a[6].text)+"")&&e.p(r)},i:noop$1,o:noop$1,d(a){a&&detach(n),a&&e.d()}}}function create_if_block_8$1(t){let e,r,n=t[1](t[6].text)+"",a,o,s,l;o=new External_link({});function c(...u){return t[4](t[6],...u)}return{c(){e=element("a"),r=new HtmlTagHydration,a=space(),create_component(o.$$.fragment),this.h()},l(u){e=claim_element(u,"A",{href:!0});var d=children(e);r=claim_html_tag(d),a=claim_space(d),claim_component(o.$$.fragment,d),d.forEach(detach),this.h()},h(){r.a=a,attr(e,"href",s=t[0].markDefs.find(c).href)},m(u,d){insert_hydration(u,e,d),r.m(n,e),append_hydration(e,a),mount_component(o,e,null),l=!0},p(u,d){t=u,(!l||d&1)&&n!==(n=t[1](t[6].text)+"")&&r.p(n),(!l||d&1&&s!==(s=t[0].markDefs.find(c).href))&&attr(e,"href",s)},i(u){l||(transition_in(o.$$.fragment,u),l=!0)},o(u){transition_out(o.$$.fragment,u),l=!1},d(u){u&&detach(e),destroy_component(o)}}}function create_if_block_7$1(t){let e,r;function n(...a){return t[5](t[6],...a)}return e=new Person_link({props:{overrideText:t[6].text,personId:t[0].markDefs.find(n).link._ref}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,o){mount_component(e,a,o),r=!0},p(a,o){t=a;const s={};o&1&&(s.overrideText=t[6].text),o&1&&(s.personId=t[0].markDefs.find(n).link._ref),e.$set(s)},i(a){r||(transition_in(e.$$.fragment,a),r=!0)},o(a){transition_out(e.$$.fragment,a),r=!1},d(a){destroy_component(e,a)}}}function create_each_block_2(t){let e,r,n,a,o,s;const l=[create_if_block_4$2,create_if_block_5$1,create_if_block_6$1,create_else_block_2],c=[];function u(d,f){return f&1&&(e=null),f&1&&(r=null),!d[6].marks||d[6].marks.length===0?0:(e==null&&(e=!!d[6].marks.includes("em")),e?1:(r==null&&(r=!!d[6].marks.includes("strong")),r?2:3))}return n=u(t,-1),a=c[n]=l[n](t),{c(){a.c(),o=empty()},l(d){a.l(d),o=empty()},m(d,f){c[n].m(d,f),insert_hydration(d,o,f),s=!0},p(d,f){let p=n;n=u(d,f),n===p?c[n].p(d,f):(group_outros(),transition_out(c[p],1,1,()=>{c[p]=null}),check_outros(),a=c[n],a?a.p(d,f):(a=c[n]=l[n](d),a.c()),transition_in(a,1),a.m(o.parentNode,o))},i(d){s||(transition_in(a),s=!0)},o(d){transition_out(a),s=!1},d(d){c[n].d(d),d&&detach(o)}}}function create_each_block_1(t){let e=t[6].text+"",r;return{c(){r=text(e)},l(n){r=claim_text(n,e)},m(n,a){insert_hydration(n,r,a)},p(n,a){a&1&&e!==(e=n[6].text+"")&&set_data(r,e)},d(n){n&&detach(r)}}}function create_else_block$3(t){let e,r=t[6].text+"",n;return{c(){e=element("strong"),n=text(r)},l(a){e=claim_element(a,"STRONG",{});var o=children(e);n=claim_text(o,r),o.forEach(detach)},m(a,o){insert_hydration(a,e,o),append_hydration(e,n)},p(a,o){o&1&&r!==(r=a[6].text+"")&&set_data(n,r)},d(a){a&&detach(e)}}}function create_if_block_2$4(t){let e=t[6].text+"",r;return{c(){r=text(e)},l(n){r=claim_text(n,e)},m(n,a){insert_hydration(n,r,a)},p(n,a){a&1&&e!==(e=n[6].text+"")&&set_data(r,e)},d(n){n&&detach(r)}}}function create_each_block$2(t){let e;function r(o,s){return!o[6].marks||o[6].marks.length===0?create_if_block_2$4:create_else_block$3}let n=r(t),a=n(t);return{c(){a.c(),e=empty()},l(o){a.l(o),e=empty()},m(o,s){a.m(o,s),insert_hydration(o,e,s)},p(o,s){n===(n=r(o))&&a?a.p(o,s):(a.d(1),a=n(o),a&&(a.c(),a.m(e.parentNode,e)))},d(o){a.d(o),o&&detach(e)}}}function create_fragment$h(t){let e,r,n=t[0].children&&t[0].children.length>0&&create_if_block$8(t);return{c(){n&&n.c(),e=empty()},l(a){n&&n.l(a),e=empty()},m(a,o){n&&n.m(a,o),insert_hydration(a,e,o),r=!0},p(a,[o]){a[0].children&&a[0].children.length>0?n?(n.p(a,o),o&1&&transition_in(n,1)):(n=create_if_block$8(a),n.c(),transition_in(n,1),n.m(e.parentNode,e)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros())},i(a){r||(transition_in(n),r=!0)},o(a){transition_out(n),r=!1},d(a){n&&n.d(a),a&&detach(e)}}}function instance$d(t,e,r){let{b:n={}}=e;const a=u=>u.replace(/(?:\r\n|\r|\n)/g,"<br>"),o=(u,d)=>d._key===u.marks[0],s=(u,d)=>d._key===u.marks[0],l=(u,d)=>d._key===u.marks[0],c=(u,d)=>d._key===u.marks[0];return t.$$set=u=>{"b"in u&&r(0,n=u.b)},[n,a,o,s,l,c]}class Text extends SvelteComponent{constructor(e){super(),init(this,e,instance$d,create_fragment$h,safe_not_equal,{b:0})}}var image_svelte_svelte_type_style_lang="";function create_if_block$7(t){let e,r,n;return r=new Blocks({props:{blocks:t[0].caption.content}}),{c(){e=element("figcaption"),create_component(r.$$.fragment),this.h()},l(a){e=claim_element(a,"FIGCAPTION",{class:!0});var o=children(e);claim_component(r.$$.fragment,o),o.forEach(detach),this.h()},h(){attr(e,"class","svelte-1bbn2f1")},m(a,o){insert_hydration(a,e,o),mount_component(r,e,null),n=!0},p(a,o){const s={};o&1&&(s.blocks=a[0].caption.content),r.$set(s)},i(a){n||(transition_in(r.$$.fragment,a),n=!0)},o(a){transition_out(r.$$.fragment,a),n=!1},d(a){a&&detach(e),destroy_component(r)}}}function create_fragment$g(t){let e,r,n,a,o,s=has_1(t[0],"caption.content"),l,c=s&&create_if_block$7(t);return{c(){e=element("figure"),r=element("img"),o=space(),c&&c.c(),this.h()},l(u){e=claim_element(u,"FIGURE",{class:!0});var d=children(e);r=claim_element(d,"IMG",{src:!0,alt:!0,class:!0}),o=claim_space(d),c&&c.l(d),d.forEach(detach),this.h()},h(){src_url_equal(r.src,n=urlFor(t[0].asset).quality(90).width(1e3).url())||attr(r,"src",n),attr(r,"alt",a=t[0].alt?t[0].alt:""),attr(r,"class","svelte-1bbn2f1"),attr(e,"class","svelte-1bbn2f1"),toggle_class(e,"left",t[0].layout=="left"),toggle_class(e,"right",t[0].layout=="right"),toggle_class(e,"full",t[0].fullWidth),toggle_class(e,"cover",t[0].coverAndCrop)},m(u,d){insert_hydration(u,e,d),append_hydration(e,r),append_hydration(e,o),c&&c.m(e,null),l=!0},p(u,[d]){(!l||d&1&&!src_url_equal(r.src,n=urlFor(u[0].asset).quality(90).width(1e3).url()))&&attr(r,"src",n),(!l||d&1&&a!==(a=u[0].alt?u[0].alt:""))&&attr(r,"alt",a),d&1&&(s=has_1(u[0],"caption.content")),s?c?(c.p(u,d),d&1&&transition_in(c,1)):(c=create_if_block$7(u),c.c(),transition_in(c,1),c.m(e,null)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros()),d&1&&toggle_class(e,"left",u[0].layout=="left"),d&1&&toggle_class(e,"right",u[0].layout=="right"),d&1&&toggle_class(e,"full",u[0].fullWidth),d&1&&toggle_class(e,"cover",u[0].coverAndCrop)},i(u){l||(transition_in(c),l=!0)},o(u){transition_out(c),l=!1},d(u){u&&detach(e),c&&c.d()}}}function instance$c(t,e,r){let{b:n={}}=e;return t.$$set=a=>{"b"in a&&r(0,n=a.b)},[n]}class Image extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$g,safe_not_equal,{b:0})}}var imageFromMainSite_svelte_svelte_type_style_lang="";function create_if_block$6(t){let e,r,n;return r=new Blocks({props:{blocks:t[0].caption.content}}),{c(){e=element("figcaption"),create_component(r.$$.fragment),this.h()},l(a){e=claim_element(a,"FIGCAPTION",{class:!0});var o=children(e);claim_component(r.$$.fragment,o),o.forEach(detach),this.h()},h(){attr(e,"class","svelte-1bbn2f1")},m(a,o){insert_hydration(a,e,o),mount_component(r,e,null),n=!0},p(a,o){const s={};o&1&&(s.blocks=a[0].caption.content),r.$set(s)},i(a){n||(transition_in(r.$$.fragment,a),n=!0)},o(a){transition_out(r.$$.fragment,a),n=!1},d(a){a&&detach(e),destroy_component(r)}}}function create_fragment$f(t){let e,r,n,a,o,s=has_1(t[0],"caption.content"),l,c=s&&create_if_block$6(t);return{c(){e=element("figure"),r=element("img"),o=space(),c&&c.c(),this.h()},l(u){e=claim_element(u,"FIGURE",{class:!0});var d=children(e);r=claim_element(d,"IMG",{src:!0,alt:!0,class:!0}),o=claim_space(d),c&&c.l(d),d.forEach(detach),this.h()},h(){src_url_equal(r.src,n=urlForMainSite(t[0].asset).quality(90).width(1e3).url())||attr(r,"src",n),attr(r,"alt",a=t[0].alt?t[0].alt:""),attr(r,"class","svelte-1bbn2f1"),attr(e,"class","svelte-1bbn2f1"),toggle_class(e,"left",t[0].layout=="left"),toggle_class(e,"right",t[0].layout=="right"),toggle_class(e,"full",t[0].fullWidth),toggle_class(e,"cover",t[0].coverAndCrop)},m(u,d){insert_hydration(u,e,d),append_hydration(e,r),append_hydration(e,o),c&&c.m(e,null),l=!0},p(u,[d]){(!l||d&1&&!src_url_equal(r.src,n=urlForMainSite(u[0].asset).quality(90).width(1e3).url()))&&attr(r,"src",n),(!l||d&1&&a!==(a=u[0].alt?u[0].alt:""))&&attr(r,"alt",a),d&1&&(s=has_1(u[0],"caption.content")),s?c?(c.p(u,d),d&1&&transition_in(c,1)):(c=create_if_block$6(u),c.c(),transition_in(c,1),c.m(e,null)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros()),d&1&&toggle_class(e,"left",u[0].layout=="left"),d&1&&toggle_class(e,"right",u[0].layout=="right"),d&1&&toggle_class(e,"full",u[0].fullWidth),d&1&&toggle_class(e,"cover",u[0].coverAndCrop)},i(u){l||(transition_in(c),l=!0)},o(u){transition_out(c),l=!1},d(u){u&&detach(e),c&&c.d()}}}function instance$b(t,e,r){let{b:n={}}=e;return t.$$set=a=>{"b"in a&&r(0,n=a.b)},[n]}class ImageFromMainSite extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$f,safe_not_equal,{b:0})}}var invertedBlock_svelte_svelte_type_style_lang="";function create_fragment$e(t){let e,r,n;return r=new Text({props:{b:t[0]}}),{c(){e=element("div"),create_component(r.$$.fragment),this.h()},l(a){e=claim_element(a,"DIV",{class:!0});var o=children(e);claim_component(r.$$.fragment,o),o.forEach(detach),this.h()},h(){attr(e,"class","inverted-block svelte-g37r8")},m(a,o){insert_hydration(a,e,o),mount_component(r,e,null),n=!0},p(a,[o]){const s={};o&1&&(s.b=a[0]),r.$set(s)},i(a){n||(transition_in(r.$$.fragment,a),n=!0)},o(a){transition_out(r.$$.fragment,a),n=!1},d(a){a&&detach(e),destroy_component(r)}}}function instance$a(t,e,r){let{b:n={}}=e;return t.$$set=a=>{"b"in a&&r(0,n=a.b)},[n]}class InvertedBlock extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$e,safe_not_equal,{b:0})}}var blockBeam_svelte_svelte_type_style_lang="";function create_fragment$d(t){let e,r;return{c(){e=svg_element("svg"),r=svg_element("path"),this.h()},l(n){e=claim_svg_element(n,"svg",{version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,x:!0,y:!0,viewBox:!0,style:!0,"xml:space":!0,class:!0});var a=children(e);r=claim_svg_element(a,"path",{class:!0,d:!0}),children(r).forEach(detach),a.forEach(detach),this.h()},h(){attr(r,"class","st0 svelte-12vsv5"),attr(r,"d",`M323.1,136.7l-121.6,21.4 M316.2,109.3l-116,42.2 M304.3,83.3l-106.9,61.6 M287.8,60.7L193.2,140 M269.1,41
		l-79.3,94.4 M245.5,24.3L183.8,131 M219.2,12L177,127.9 M192.5,4.4l-21.4,121.4 M325,165.7H201.5 M2.4,136.7l121.6,21.4 M9.3,109.3
		l116,42.2 M21.2,83.3l106.9,61.6 M37.7,60.7l94.6,79.2 M56.4,41l79.3,94.4 M80,24.3L141.7,131 M106.3,12l42.2,115.8 M133,4.4
		l21.4,121.4 M161.9,1.8l0,123.3 M0.5,165.7H124`),attr(e,"version","1.1"),attr(e,"id","Layer_1"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),attr(e,"x","0px"),attr(e,"y","0px"),attr(e,"viewBox","0 0 326.4 167.6"),set_style(e,"enable-background","new 0 0 326.4 167.6"),attr(e,"xml:space","preserve"),attr(e,"class","svelte-12vsv5")},m(n,a){insert_hydration(n,e,a),append_hydration(e,r)},p:noop$1,i:noop$1,o:noop$1,d(n){n&&detach(e)}}}class Block_beam extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$d,safe_not_equal,{})}}var logoBlock_svelte_svelte_type_style_lang="";function create_fragment$c(t){let e,r,n,a,o,s,l,c,u,d;return a=new Block_beam({}),u=new Text({props:{b:t[0]}}),{c(){e=element("div"),r=element("div"),n=element("div"),create_component(a.$$.fragment),o=space(),s=element("div"),l=space(),c=element("div"),create_component(u.$$.fragment),this.h()},l(f){e=claim_element(f,"DIV",{class:!0});var p=children(e);r=claim_element(p,"DIV",{class:!0});var v=children(r);n=claim_element(v,"DIV",{class:!0});var E=children(n);claim_component(a.$$.fragment,E),E.forEach(detach),o=claim_space(v),s=claim_element(v,"DIV",{class:!0}),children(s).forEach(detach),v.forEach(detach),l=claim_space(p),c=claim_element(p,"DIV",{class:!0});var I=children(c);claim_component(u.$$.fragment,I),I.forEach(detach),p.forEach(detach),this.h()},h(){attr(n,"class","beam svelte-1y9hgkm"),attr(s,"class","line svelte-1y9hgkm"),attr(r,"class","top-row svelte-1y9hgkm"),attr(c,"class","logoblock-text svelte-1y9hgkm"),attr(e,"class","logo-block svelte-1y9hgkm")},m(f,p){insert_hydration(f,e,p),append_hydration(e,r),append_hydration(r,n),mount_component(a,n,null),append_hydration(r,o),append_hydration(r,s),append_hydration(e,l),append_hydration(e,c),mount_component(u,c,null),d=!0},p(f,[p]){const v={};p&1&&(v.b=f[0]),u.$set(v)},i(f){d||(transition_in(a.$$.fragment,f),transition_in(u.$$.fragment,f),d=!0)},o(f){transition_out(a.$$.fragment,f),transition_out(u.$$.fragment,f),d=!1},d(f){f&&detach(e),destroy_component(a),destroy_component(u)}}}function instance$9(t,e,r){let{b:n={}}=e;return t.$$set=a=>{"b"in a&&r(0,n=a.b)},[n]}class LogoBlock extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$c,safe_not_equal,{b:0})}}var embed_svelte_svelte_type_style_lang="";function create_if_block_2$3(t){let e,r;return{c(){e=element("iframe"),this.h()},l(n){e=claim_element(n,"IFRAME",{width:!0,height:!0,src:!0,frameborder:!0,allow:!0,class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"width","720"),attr(e,"height","480"),src_url_equal(e.src,r="https://www.youtube.com/embed/"+getVideoId(t[0].url).id)||attr(e,"src",r),attr(e,"frameborder","0"),attr(e,"allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),e.allowFullscreen=!0,attr(e,"class","svelte-23luwt")},m(n,a){insert_hydration(n,e,a)},p(n,a){a&1&&!src_url_equal(e.src,r="https://www.youtube.com/embed/"+getVideoId(n[0].url).id)&&attr(e,"src",r)},d(n){n&&detach(e)}}}function create_if_block_1$4(t){let e,r;return{c(){e=element("iframe"),this.h()},l(n){e=claim_element(n,"IFRAME",{width:!0,height:!0,src:!0,frameborder:!0,byline:!0,color:!0,allow:!0,class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"width","720"),attr(e,"height","480"),src_url_equal(e.src,r="https://player.vimeo.com/video/"+getVideoId(t[0].url).id)||attr(e,"src",r),attr(e,"frameborder","0"),attr(e,"byline","false"),attr(e,"color","#ffffff"),attr(e,"allow","autoplay; fullscreen"),e.allowFullscreen=!0,attr(e,"class","svelte-23luwt")},m(n,a){insert_hydration(n,e,a)},p(n,a){a&1&&!src_url_equal(e.src,r="https://player.vimeo.com/video/"+getVideoId(n[0].url).id)&&attr(e,"src",r)},d(n){n&&detach(e)}}}function create_if_block$5(t){let e,r,n;return r=new Blocks({props:{blocks:t[0].caption.content}}),{c(){e=element("figcaption"),create_component(r.$$.fragment)},l(a){e=claim_element(a,"FIGCAPTION",{});var o=children(e);claim_component(r.$$.fragment,o),o.forEach(detach)},m(a,o){insert_hydration(a,e,o),mount_component(r,e,null),n=!0},p(a,o){const s={};o&1&&(s.blocks=a[0].caption.content),r.$set(s)},i(a){n||(transition_in(r.$$.fragment,a),n=!0)},o(a){transition_out(r.$$.fragment,a),n=!1},d(a){a&&detach(e),destroy_component(r)}}}function create_fragment$b(t){let e,r,n=t[0].url.includes("youtube"),a,o=t[0].url.includes("vimeo"),s,l=has_1(t[0],"caption.content"),c,u,d=n&&create_if_block_2$3(t),f=o&&create_if_block_1$4(t),p=l&&create_if_block$5(t);return{c(){e=element("div"),r=element("div"),d&&d.c(),a=space(),f&&f.c(),s=space(),p&&p.c(),c=empty(),this.h()},l(v){e=claim_element(v,"DIV",{class:!0});var E=children(e);r=claim_element(E,"DIV",{class:!0});var I=children(r);d&&d.l(I),a=claim_space(I),f&&f.l(I),I.forEach(detach),E.forEach(detach),s=claim_space(v),p&&p.l(v),c=empty(),this.h()},h(){attr(r,"class","inner svelte-23luwt"),attr(e,"class","embed svelte-23luwt")},m(v,E){insert_hydration(v,e,E),append_hydration(e,r),d&&d.m(r,null),append_hydration(r,a),f&&f.m(r,null),insert_hydration(v,s,E),p&&p.m(v,E),insert_hydration(v,c,E),u=!0},p(v,[E]){E&1&&(n=v[0].url.includes("youtube")),n?d?d.p(v,E):(d=create_if_block_2$3(v),d.c(),d.m(r,a)):d&&(d.d(1),d=null),E&1&&(o=v[0].url.includes("vimeo")),o?f?f.p(v,E):(f=create_if_block_1$4(v),f.c(),f.m(r,null)):f&&(f.d(1),f=null),E&1&&(l=has_1(v[0],"caption.content")),l?p?(p.p(v,E),E&1&&transition_in(p,1)):(p=create_if_block$5(v),p.c(),transition_in(p,1),p.m(c.parentNode,c)):p&&(group_outros(),transition_out(p,1,1,()=>{p=null}),check_outros())},i(v){u||(transition_in(p),u=!0)},o(v){transition_out(p),u=!1},d(v){v&&detach(e),d&&d.d(),f&&f.d(),v&&detach(s),p&&p.d(v),v&&detach(c)}}}function instance$8(t,e,r){let{b:n={}}=e;return t.$$set=a=>{"b"in a&&r(0,n=a.b)},[n]}class Embed extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$b,safe_not_equal,{b:0})}}var divider_svelte_svelte_type_style_lang="";function create_fragment$a(t){let e;return{c(){e=element("div"),this.h()},l(r){e=claim_element(r,"DIV",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","divider svelte-ibl5lr")},m(r,n){insert_hydration(r,e,n)},p:noop$1,i:noop$1,o:noop$1,d(r){r&&detach(e)}}}function instance$7(t,e,r){let{b:n={}}=e;return t.$$set=a=>{"b"in a&&r(0,n=a.b)},[n]}class Divider extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$a,safe_not_equal,{b:0})}}var columns_svelte_svelte_type_style_lang="";function create_if_block_1$3(t){let e,r=t[0].title+"",n,a;return{c(){e=element("h2"),n=text(r),this.h()},l(o){e=claim_element(o,"H2",{id:!0,class:!0});var s=children(e);n=claim_text(s,r),s.forEach(detach),this.h()},h(){attr(e,"id",a=slugify(t[0].title,{lower:!0})),attr(e,"class","svelte-1yggcq")},m(o,s){insert_hydration(o,e,s),append_hydration(e,n)},p(o,s){s&1&&r!==(r=o[0].title+"")&&set_data(n,r),s&1&&a!==(a=slugify(o[0].title,{lower:!0}))&&attr(e,"id",a)},d(o){o&&detach(e)}}}function create_if_block$4(t){let e,r,n;return r=new Blocks({props:{blocks:t[0].columnContent.content}}),{c(){e=element("div"),create_component(r.$$.fragment),this.h()},l(a){e=claim_element(a,"DIV",{class:!0});var o=children(e);claim_component(r.$$.fragment,o),o.forEach(detach),this.h()},h(){attr(e,"class","inner svelte-1yggcq")},m(a,o){insert_hydration(a,e,o),mount_component(r,e,null),n=!0},p(a,o){const s={};o&1&&(s.blocks=a[0].columnContent.content),r.$set(s)},i(a){n||(transition_in(r.$$.fragment,a),n=!0)},o(a){transition_out(r.$$.fragment,a),n=!1},d(a){a&&detach(e),destroy_component(r)}}}function create_fragment$9(t){let e,r,n=has_1(t[0],"columnContent.content"),a,o=t[0].title&&create_if_block_1$3(t),s=n&&create_if_block$4(t);return{c(){e=element("div"),o&&o.c(),r=space(),s&&s.c(),this.h()},l(l){e=claim_element(l,"DIV",{class:!0});var c=children(e);o&&o.l(c),r=claim_space(c),s&&s.l(c),c.forEach(detach),this.h()},h(){attr(e,"class","columns svelte-1yggcq")},m(l,c){insert_hydration(l,e,c),o&&o.m(e,null),append_hydration(e,r),s&&s.m(e,null),a=!0},p(l,[c]){l[0].title?o?o.p(l,c):(o=create_if_block_1$3(l),o.c(),o.m(e,r)):o&&(o.d(1),o=null),c&1&&(n=has_1(l[0],"columnContent.content")),n?s?(s.p(l,c),c&1&&transition_in(s,1)):(s=create_if_block$4(l),s.c(),transition_in(s,1),s.m(e,null)):s&&(group_outros(),transition_out(s,1,1,()=>{s=null}),check_outros())},i(l){a||(transition_in(s),a=!0)},o(l){transition_out(s),a=!1},d(l){l&&detach(e),o&&o.d(),s&&s.d()}}}function instance$6(t,e,r){let{b:n={}}=e;return t.$$set=a=>{"b"in a&&r(0,n=a.b)},[n]}class Columns extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$9,safe_not_equal,{b:0})}}var donationWidget_svelte_svelte_type_style_lang="";function create_fragment$8(t){let e,r,n,a,o;return{c(){e=element("script"),n=space(),a=element("div"),o=element("div"),this.h()},l(s){const l=query_selector_all('[data-svelte="svelte-1cxe6br"]',document.head);e=claim_element(l,"SCRIPT",{src:!0});var c=children(e);c.forEach(detach),l.forEach(detach),n=claim_space(s),a=claim_element(s,"DIV",{class:!0});var u=children(a);o=claim_element(u,"DIV",{id:!0,class:!0}),children(o).forEach(detach),u.forEach(detach),this.h()},h(){src_url_equal(e.src,r="https://secure.givelively.org/widgets/simple_donation/the-eyebeam-atelier-inc/donate-to-eyebeam.js?show_suggested_amount_buttons=false&show_in_honor_of=false&address_required=false&has_required_custom_question=false")||attr(e,"src",r),attr(o,"id","give-lively-widget"),attr(o,"class","gl-simple-donation-widget"),attr(a,"class","donation-widget svelte-g1dluc")},m(s,l){append_hydration(document.head,e),insert_hydration(s,n,l),insert_hydration(s,a,l),append_hydration(a,o)},p:noop$1,i:noop$1,o:noop$1,d(s){detach(e),s&&detach(n),s&&detach(a)}}}function instance$5(t,e,r){let{b:n={}}=e;return t.$$set=a=>{"b"in a&&r(0,n=a.b)},[n]}class DonationWidget extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$8,safe_not_equal,{b:0})}}var applicationButton_svelte_svelte_type_style_lang="";function create_else_block$2(t){let e,r,n,a,o,s,l=t[0].shortText+"",c,u,d,f=t[0].applicationEndDate&&create_if_block_4$1(),p=t[0].applicationEndDate&&create_if_block_3$1(t);return{c(){e=element("div"),r=element("div"),n=element("a"),f&&f.c(),a=space(),o=element("div"),s=element("div"),c=text(l),u=space(),p&&p.c(),this.h()},l(v){e=claim_element(v,"DIV",{class:!0});var E=children(e);r=claim_element(E,"DIV",{class:!0});var I=children(r);n=claim_element(I,"A",{href:!0,target:!0,class:!0});var U=children(n);f&&f.l(U),a=claim_space(U),o=claim_element(U,"DIV",{class:!0});var x=children(o);s=claim_element(x,"DIV",{class:!0});var _=children(s);c=claim_text(_,l),_.forEach(detach),u=claim_space(x),p&&p.l(x),x.forEach(detach),U.forEach(detach),I.forEach(detach),E.forEach(detach),this.h()},h(){attr(s,"class","short-text"),attr(o,"class","applications-text svelte-1dlavbd"),attr(n,"href",d=t[0].url),attr(n,"target","_blank"),attr(n,"class","button svelte-1dlavbd"),attr(r,"class","application-button-inner svelte-1dlavbd"),attr(e,"class","application-button-small svelte-1dlavbd")},m(v,E){insert_hydration(v,e,E),append_hydration(e,r),append_hydration(r,n),f&&f.m(n,null),append_hydration(n,a),append_hydration(n,o),append_hydration(o,s),append_hydration(s,c),append_hydration(o,u),p&&p.m(o,null)},p(v,E){v[0].applicationEndDate?f||(f=create_if_block_4$1(),f.c(),f.m(n,a)):f&&(f.d(1),f=null),E&1&&l!==(l=v[0].shortText+"")&&set_data(c,l),v[0].applicationEndDate?p?p.p(v,E):(p=create_if_block_3$1(v),p.c(),p.m(o,null)):p&&(p.d(1),p=null),E&1&&d!==(d=v[0].url)&&attr(n,"href",d)},i:noop$1,o:noop$1,d(v){v&&detach(e),f&&f.d(),p&&p.d()}}}function create_if_block$3(t){let e,r,n,a,o,s,l,c,u,d,f,p=has_1(t[0],"longText.content"),v,E,I,U=t[0].shortText+"",x,_,T,y=t[0].applicationEndDate&&create_if_block_2$2(t),C=p&&create_if_block_1$2(t);return{c(){e=element("div"),r=element("div"),n=element("div"),a=element("div"),o=element("div"),s=space(),l=element("div"),c=element("div"),u=text("APPLICATIONS ARE OPEN"),d=space(),y&&y.c(),f=space(),C&&C.c(),v=space(),E=element("div"),I=element("a"),x=text(U),this.h()},l(b){e=claim_element(b,"DIV",{class:!0});var $=children(e);r=claim_element($,"DIV",{class:!0});var F=children(r);n=claim_element(F,"DIV",{class:!0});var L=children(n);a=claim_element(L,"DIV",{class:!0});var k=children(a);o=claim_element(k,"DIV",{class:!0}),children(o).forEach(detach),k.forEach(detach),s=claim_space(L),l=claim_element(L,"DIV",{class:!0});var g=children(l);c=claim_element(g,"DIV",{class:!0});var R=children(c);u=claim_text(R,"APPLICATIONS ARE OPEN"),R.forEach(detach),d=claim_space(g),y&&y.l(g),g.forEach(detach),L.forEach(detach),f=claim_space(F),C&&C.l(F),F.forEach(detach),v=claim_space($),E=claim_element($,"DIV",{class:!0});var A=children(E);I=claim_element(A,"A",{href:!0,target:!0,class:!0});var Y=children(I);x=claim_text(Y,U),Y.forEach(detach),A.forEach(detach),$.forEach(detach),this.h()},h(){attr(o,"class","circle svelte-1dlavbd"),attr(a,"class","col first"),attr(c,"class","headline svelte-1dlavbd"),attr(l,"class","col second svelte-1dlavbd"),attr(n,"class","top svelte-1dlavbd"),attr(r,"class","column first svelte-1dlavbd"),attr(I,"href",_=t[0].url),attr(I,"target","_blank"),attr(I,"class","apply-now svelte-1dlavbd"),attr(E,"class","column second svelte-1dlavbd"),attr(e,"class","application-button-large svelte-1dlavbd")},m(b,$){insert_hydration(b,e,$),append_hydration(e,r),append_hydration(r,n),append_hydration(n,a),append_hydration(a,o),append_hydration(n,s),append_hydration(n,l),append_hydration(l,c),append_hydration(c,u),append_hydration(l,d),y&&y.m(l,null),append_hydration(r,f),C&&C.m(r,null),append_hydration(e,v),append_hydration(e,E),append_hydration(E,I),append_hydration(I,x),T=!0},p(b,$){b[0].applicationEndDate?y?y.p(b,$):(y=create_if_block_2$2(b),y.c(),y.m(l,null)):y&&(y.d(1),y=null),$&1&&(p=has_1(b[0],"longText.content")),p?C?(C.p(b,$),$&1&&transition_in(C,1)):(C=create_if_block_1$2(b),C.c(),transition_in(C,1),C.m(r,null)):C&&(group_outros(),transition_out(C,1,1,()=>{C=null}),check_outros()),(!T||$&1)&&U!==(U=b[0].shortText+"")&&set_data(x,U),(!T||$&1&&_!==(_=b[0].url))&&attr(I,"href",_)},i(b){T||(transition_in(C),T=!0)},o(b){transition_out(C),T=!1},d(b){b&&detach(e),y&&y.d(),C&&C.d()}}}function create_if_block_4$1(t){let e;return{c(){e=element("div"),this.h()},l(r){e=claim_element(r,"DIV",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","circle svelte-1dlavbd")},m(r,n){insert_hydration(r,e,n)},d(r){r&&detach(e)}}}function create_if_block_3$1(t){let e,r,n=longFormatDate(t[0].applicationEndDate)+"",a;return{c(){e=element("div"),r=text("Applications Due by "),a=text(n),this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var s=children(e);r=claim_text(s,"Applications Due by "),a=claim_text(s,n),s.forEach(detach),this.h()},h(){attr(e,"class","date svelte-1dlavbd")},m(o,s){insert_hydration(o,e,s),append_hydration(e,r),append_hydration(e,a)},p(o,s){s&1&&n!==(n=longFormatDate(o[0].applicationEndDate)+"")&&set_data(a,n)},d(o){o&&detach(e)}}}function create_if_block_2$2(t){let e,r,n=longFormatDate(t[0].applicationEndDate)+"",a;return{c(){e=element("div"),r=text("Due by "),a=text(n),this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var s=children(e);r=claim_text(s,"Due by "),a=claim_text(s,n),s.forEach(detach),this.h()},h(){attr(e,"class","date svelte-1dlavbd")},m(o,s){insert_hydration(o,e,s),append_hydration(e,r),append_hydration(e,a)},p(o,s){s&1&&n!==(n=longFormatDate(o[0].applicationEndDate)+"")&&set_data(a,n)},d(o){o&&detach(e)}}}function create_if_block_1$2(t){let e,r,n;return r=new Blocks({props:{blocks:t[0].longText.content}}),{c(){e=element("div"),create_component(r.$$.fragment),this.h()},l(a){e=claim_element(a,"DIV",{class:!0});var o=children(e);claim_component(r.$$.fragment,o),o.forEach(detach),this.h()},h(){attr(e,"class","text svelte-1dlavbd")},m(a,o){insert_hydration(a,e,o),mount_component(r,e,null),n=!0},p(a,o){const s={};o&1&&(s.blocks=a[0].longText.content),r.$set(s)},i(a){n||(transition_in(r.$$.fragment,a),n=!0)},o(a){transition_out(r.$$.fragment,a),n=!1},d(a){a&&detach(e),destroy_component(r)}}}function create_fragment$7(t){let e,r,n,a;const o=[create_if_block$3,create_else_block$2],s=[];function l(c,u){return c[0].size=="large"?0:1}return e=l(t),r=s[e]=o[e](t),{c(){r.c(),n=empty()},l(c){r.l(c),n=empty()},m(c,u){s[e].m(c,u),insert_hydration(c,n,u),a=!0},p(c,[u]){let d=e;e=l(c),e===d?s[e].p(c,u):(group_outros(),transition_out(s[d],1,1,()=>{s[d]=null}),check_outros(),r=s[e],r?r.p(c,u):(r=s[e]=o[e](c),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(c){a||(transition_in(r),a=!0)},o(c){transition_out(r),a=!1},d(c){s[e].d(c),c&&detach(n)}}}function instance$4(t,e,r){let{b:n={}}=e;return t.$$set=a=>{"b"in a&&r(0,n=a.b)},[n]}class ApplicationButton extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$7,safe_not_equal,{b:0})}}var arrowDown_svelte_svelte_type_style_lang="";function create_fragment$6(t){let e,r;return{c(){e=svg_element("svg"),r=svg_element("path"),this.h()},l(n){e=claim_svg_element(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var a=children(e);r=claim_svg_element(a,"path",{d:!0,class:!0}),children(r).forEach(detach),a.forEach(detach),this.h()},h(){attr(r,"d","M4.78393 7.78516L0.640486 0.608508L8.92737 0.608508L4.78393 7.78516Z"),attr(r,"class","svelte-hhwbji"),attr(e,"width","9"),attr(e,"height","8"),attr(e,"viewBox","0 0 9 8"),attr(e,"fill","none"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","svelte-hhwbji")},m(n,a){insert_hydration(n,e,a),append_hydration(e,r)},p:noop$1,i:noop$1,o:noop$1,d(n){n&&detach(e)}}}class Arrow_down extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$6,safe_not_equal,{})}}var arrowLeft_svelte_svelte_type_style_lang="";function create_fragment$5(t){let e,r;return{c(){e=svg_element("svg"),r=svg_element("path"),this.h()},l(n){e=claim_svg_element(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var a=children(e);r=claim_svg_element(a,"path",{d:!0,class:!0}),children(r).forEach(detach),a.forEach(detach),this.h()},h(){attr(r,"d","M-0.000488072 5.06677L7.17615 9.45473L7.17615 0.678818L-0.000488072 5.06677Z"),attr(r,"class","svelte-bl0yym"),attr(e,"width","8"),attr(e,"height","10"),attr(e,"viewBox","0 0 8 10"),attr(e,"fill","none"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","svelte-bl0yym")},m(n,a){insert_hydration(n,e,a),append_hydration(e,r)},p:noop$1,i:noop$1,o:noop$1,d(n){n&&detach(e)}}}class Arrow_left extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$5,safe_not_equal,{})}}var qa_svelte_svelte_type_style_lang="";function create_else_block$1(t){let e,r;return e=new Arrow_left({}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_2$1(t){let e,r;return e=new Arrow_down({}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block$2(t){let e,r=has_1(t[0],"answer.content"),n,a=r&&create_if_block_1$1(t);return{c(){e=element("div"),a&&a.c(),this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var s=children(e);a&&a.l(s),s.forEach(detach),this.h()},h(){attr(e,"class","answer svelte-nx2f1v")},m(o,s){insert_hydration(o,e,s),a&&a.m(e,null),n=!0},p(o,s){s&1&&(r=has_1(o[0],"answer.content")),r?a?(a.p(o,s),s&1&&transition_in(a,1)):(a=create_if_block_1$1(o),a.c(),transition_in(a,1),a.m(e,null)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(o){n||(transition_in(a),n=!0)},o(o){transition_out(a),n=!1},d(o){o&&detach(e),a&&a.d()}}}function create_if_block_1$1(t){let e,r;return e=new Blocks({props:{blocks:t[0].answer.content}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.blocks=n[0].answer.content),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_fragment$4(t){let e,r,n,a=t[0].question+"",o,s,l,c,u,d,f,p,v;const E=[create_if_block_2$1,create_else_block$1],I=[];function U(_,T){return _[1]?0:1}c=U(t),u=I[c]=E[c](t);let x=t[1]&&create_if_block$2(t);return{c(){e=element("div"),r=element("div"),n=element("div"),o=text(a),s=space(),l=element("div"),u.c(),d=space(),x&&x.c(),this.h()},l(_){e=claim_element(_,"DIV",{class:!0});var T=children(e);r=claim_element(T,"DIV",{class:!0});var y=children(r);n=claim_element(y,"DIV",{class:!0});var C=children(n);o=claim_text(C,a),C.forEach(detach),s=claim_space(y),l=claim_element(y,"DIV",{class:!0});var b=children(l);u.l(b),b.forEach(detach),y.forEach(detach),d=claim_space(T),x&&x.l(T),T.forEach(detach),this.h()},h(){attr(n,"class","text svelte-nx2f1v"),attr(l,"class","icon svelte-nx2f1v"),attr(r,"class","question svelte-nx2f1v"),attr(e,"class","qa svelte-nx2f1v")},m(_,T){insert_hydration(_,e,T),append_hydration(e,r),append_hydration(r,n),append_hydration(n,o),append_hydration(r,s),append_hydration(r,l),I[c].m(l,null),append_hydration(e,d),x&&x.m(e,null),f=!0,p||(v=listen$2(r,"click",t[2]),p=!0)},p(_,[T]){(!f||T&1)&&a!==(a=_[0].question+"")&&set_data(o,a);let y=c;c=U(_),c!==y&&(group_outros(),transition_out(I[y],1,1,()=>{I[y]=null}),check_outros(),u=I[c],u||(u=I[c]=E[c](_),u.c()),transition_in(u,1),u.m(l,null)),_[1]?x?(x.p(_,T),T&2&&transition_in(x,1)):(x=create_if_block$2(_),x.c(),transition_in(x,1),x.m(e,null)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(_){f||(transition_in(u),transition_in(x),f=!0)},o(_){transition_out(u),transition_out(x),f=!1},d(_){_&&detach(e),I[c].d(),x&&x.d(),p=!1,v()}}}function instance$3(t,e,r){let{item:n={}}=e,a=!1;const o=()=>{r(1,a=!a)};return t.$$set=s=>{"item"in s&&r(0,n=s.item)},[n,a,o]}class Qa extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$4,safe_not_equal,{item:0})}}var faq_svelte_svelte_type_style_lang="";function get_each_context$1(t,e,r){const n=t.slice();return n[1]=e[r],n}function create_each_block$1(t){let e,r;return e=new Qa({props:{item:t[1]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.item=n[1]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_fragment$3(t){let e,r,n=t[0].title+"",a,o,s,l,c,u=t[0].questionAnswer,d=[];for(let p=0;p<u.length;p+=1)d[p]=create_each_block$1(get_each_context$1(t,u,p));const f=p=>transition_out(d[p],1,1,()=>{d[p]=null});return{c(){e=element("div"),r=element("h2"),a=text(n),s=space(),l=element("div");for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){e=claim_element(p,"DIV",{class:!0});var v=children(e);r=claim_element(v,"H2",{id:!0,class:!0});var E=children(r);a=claim_text(E,n),E.forEach(detach),s=claim_space(v),l=claim_element(v,"DIV",{class:!0});var I=children(l);for(let U=0;U<d.length;U+=1)d[U].l(I);I.forEach(detach),v.forEach(detach),this.h()},h(){attr(r,"id",o=slugify(t[0].title,{lower:!0})),attr(r,"class","svelte-1lh5ive"),attr(l,"class","faq-inner svelte-1lh5ive"),attr(e,"class","faq svelte-1lh5ive")},m(p,v){insert_hydration(p,e,v),append_hydration(e,r),append_hydration(r,a),append_hydration(e,s),append_hydration(e,l);for(let E=0;E<d.length;E+=1)d[E].m(l,null);c=!0},p(p,[v]){if((!c||v&1)&&n!==(n=p[0].title+"")&&set_data(a,n),(!c||v&1&&o!==(o=slugify(p[0].title,{lower:!0})))&&attr(r,"id",o),v&1){u=p[0].questionAnswer;let E;for(E=0;E<u.length;E+=1){const I=get_each_context$1(p,u,E);d[E]?(d[E].p(I,v),transition_in(d[E],1)):(d[E]=create_each_block$1(I),d[E].c(),transition_in(d[E],1),d[E].m(l,null))}for(group_outros(),E=u.length;E<d.length;E+=1)f(E);check_outros()}},i(p){if(!c){for(let v=0;v<u.length;v+=1)transition_in(d[v]);c=!0}},o(p){d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)transition_out(d[v]);c=!1},d(p){p&&detach(e),destroy_each(d,p)}}}function instance$2(t,e,r){let{b:n={}}=e;return t.$$set=a=>{"b"in a&&r(0,n=a.b)},[n]}class Faq extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$3,safe_not_equal,{b:0})}}var playArrow_svelte_svelte_type_style_lang="";function create_fragment$2(t){let e,r;return{c(){e=svg_element("svg"),r=svg_element("path"),this.h()},l(n){e=claim_svg_element(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var a=children(e);r=claim_svg_element(a,"path",{d:!0,class:!0}),children(r).forEach(detach),a.forEach(detach),this.h()},h(){attr(r,"d","M0.123047 34.0552V0L20.5614 17.0276L0.123047 34.0552Z"),attr(r,"class","svelte-bl0yym"),attr(e,"width","21"),attr(e,"height","35"),attr(e,"viewBox","0 0 21 35"),attr(e,"fill","none"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","svelte-bl0yym")},m(n,a){insert_hydration(n,e,a),append_hydration(e,r)},p:noop$1,i:noop$1,o:noop$1,d(n){n&&detach(e)}}}class Play_arrow extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$2,safe_not_equal,{})}}var video_svelte_svelte_type_style_lang="";function create_catch_block(t){return{c:noop$1,l:noop$1,m:noop$1,p:noop$1,i:noop$1,o:noop$1,d:noop$1}}function create_then_block(t){let e,r,n,a,o,s,l=t[0].title+"",c,u,d=t[0].mainImage&&create_if_block$1(t);return a=new Play_arrow({}),{c(){e=element("a"),d&&d.c(),r=space(),n=element("div"),create_component(a.$$.fragment),o=space(),s=element("div"),c=text(l),this.h()},l(f){e=claim_element(f,"A",{href:!0,class:!0});var p=children(e);d&&d.l(p),r=claim_space(p),n=claim_element(p,"DIV",{class:!0});var v=children(n);claim_component(a.$$.fragment,v),v.forEach(detach),o=claim_space(p),s=claim_element(p,"DIV",{class:!0});var E=children(s);c=claim_text(E,l),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(n,"class","icon svelte-139dsg8"),attr(s,"class","title svelte-139dsg8"),attr(e,"href","/videos/"+get_1(t[0],"slug.current")),attr(e,"class","video-block svelte-139dsg8")},m(f,p){insert_hydration(f,e,p),d&&d.m(e,null),append_hydration(e,r),append_hydration(e,n),mount_component(a,n,null),append_hydration(e,o),append_hydration(e,s),append_hydration(s,c),u=!0},p(f,p){f[0].mainImage&&d.p(f,p)},i(f){u||(transition_in(a.$$.fragment,f),u=!0)},o(f){transition_out(a.$$.fragment,f),u=!1},d(f){f&&detach(e),d&&d.d(),destroy_component(a)}}}function create_if_block$1(t){let e,r,n;return{c(){e=element("img"),this.h()},l(a){e=claim_element(a,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){attr(e,"class","main-image svelte-139dsg8"),attr(e,"alt",r=t[0].title),src_url_equal(e.src,n=urlFor(t[0].mainImage).quality(90).width(400).url())||attr(e,"src",n)},m(a,o){insert_hydration(a,e,o)},p:noop$1,d(a){a&&detach(e)}}}function create_pending_block(t){return{c:noop$1,l:noop$1,m:noop$1,p:noop$1,i:noop$1,o:noop$1,d:noop$1}}function create_fragment$1(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:0,blocks:[,,,]};return handle_promise(t[0],n),{c(){e=empty(),n.block.c()},l(a){e=empty(),n.block.l(a)},m(a,o){insert_hydration(a,e,o),n.block.m(a,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(a,[o]){t=a,update_await_block_branch(n,t,o)},i(a){r||(transition_in(n.block),r=!0)},o(a){for(let o=0;o<3;o+=1){const s=n.blocks[o];transition_out(s)}r=!1},d(a){a&&detach(e),n.block.d(a),n.token=null,n=null}}}function instance$1(t,e,r){let{b:n={}}=e;const a=loadData("*[_id == $id][0]",{id:n.videoPost._ref});return t.$$set=o=>{"b"in o&&r(1,n=o.b)},[a,n]}class Video extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{b:1})}}function get_each_context(t,e,r){const n=t.slice();return n[2]=e[r],n}function create_if_block_9(t){let e,r,n,a;const o=[create_if_block_10,create_if_block_11,create_else_block_1],s=[];function l(c,u){return c[2].style=="logoBlock"?0:c[2].style=="invertedBlock"?1:2}return e=l(t),r=s[e]=o[e](t),{c(){r.c(),n=empty()},l(c){r.l(c),n=empty()},m(c,u){s[e].m(c,u),insert_hydration(c,n,u),a=!0},p(c,u){let d=e;e=l(c),e===d?s[e].p(c,u):(group_outros(),transition_out(s[d],1,1,()=>{s[d]=null}),check_outros(),r=s[e],r?r.p(c,u):(r=s[e]=o[e](c),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(c){a||(transition_in(r),a=!0)},o(c){transition_out(r),a=!1},d(c){s[e].d(c),c&&detach(n)}}}function create_else_block_1(t){let e,r;return e=new Text({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_11(t){let e,r;return e=new InvertedBlock({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_10(t){let e,r;return e=new LogoBlock({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_7(t){let e,r,n,a;const o=[create_if_block_8,create_else_block],s=[];function l(c,u){return c[1]?0:1}return e=l(t),r=s[e]=o[e](t),{c(){r.c(),n=empty()},l(c){r.l(c),n=empty()},m(c,u){s[e].m(c,u),insert_hydration(c,n,u),a=!0},p(c,u){let d=e;e=l(c),e===d?s[e].p(c,u):(group_outros(),transition_out(s[d],1,1,()=>{s[d]=null}),check_outros(),r=s[e],r?r.p(c,u):(r=s[e]=o[e](c),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(c){a||(transition_in(r),a=!0)},o(c){transition_out(r),a=!1},d(c){s[e].d(c),c&&detach(n)}}}function create_else_block(t){let e,r;return e=new Image({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_8(t){let e,r;return e=new ImageFromMainSite({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_6(t){let e,r;return e=new Embed({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_5(t){let e,r;return e=new Divider({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_4(t){let e,r;return e=new Columns({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_3(t){let e,r;return e=new DonationWidget({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_2(t){let e,r;return e=new ApplicationButton({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block_1(t){let e,r;return e=new Faq({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_if_block(t){let e,r;return e=new Video({props:{b:t[2]}}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,a){mount_component(e,n,a),r=!0},p(n,a){const o={};a&1&&(o.b=n[2]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){destroy_component(e,n)}}}function create_each_block(t){let e,r,n,a,o,s,l,c,u,d,f=t[2]._type=="block"&&create_if_block_9(t),p=t[2]._type=="image"&&create_if_block_7(t),v=t[2]._type=="embedBlock"&&create_if_block_6(t),E=t[2]._type=="dividerBlock"&&create_if_block_5(t),I=t[2]._type=="columnsBlock"&&create_if_block_4(t),U=t[2]._type=="donationWidget"&&create_if_block_3(t),x=t[2]._type=="applicationButton"&&create_if_block_2(t),_=t[2]._type=="faq"&&create_if_block_1(t),T=t[2]._type=="videoBlock"&&create_if_block(t);return{c(){f&&f.c(),e=space(),p&&p.c(),r=space(),v&&v.c(),n=space(),E&&E.c(),a=space(),I&&I.c(),o=space(),U&&U.c(),s=space(),x&&x.c(),l=space(),_&&_.c(),c=space(),T&&T.c(),u=empty()},l(y){f&&f.l(y),e=claim_space(y),p&&p.l(y),r=claim_space(y),v&&v.l(y),n=claim_space(y),E&&E.l(y),a=claim_space(y),I&&I.l(y),o=claim_space(y),U&&U.l(y),s=claim_space(y),x&&x.l(y),l=claim_space(y),_&&_.l(y),c=claim_space(y),T&&T.l(y),u=empty()},m(y,C){f&&f.m(y,C),insert_hydration(y,e,C),p&&p.m(y,C),insert_hydration(y,r,C),v&&v.m(y,C),insert_hydration(y,n,C),E&&E.m(y,C),insert_hydration(y,a,C),I&&I.m(y,C),insert_hydration(y,o,C),U&&U.m(y,C),insert_hydration(y,s,C),x&&x.m(y,C),insert_hydration(y,l,C),_&&_.m(y,C),insert_hydration(y,c,C),T&&T.m(y,C),insert_hydration(y,u,C),d=!0},p(y,C){y[2]._type=="block"?f?(f.p(y,C),C&1&&transition_in(f,1)):(f=create_if_block_9(y),f.c(),transition_in(f,1),f.m(e.parentNode,e)):f&&(group_outros(),transition_out(f,1,1,()=>{f=null}),check_outros()),y[2]._type=="image"?p?(p.p(y,C),C&1&&transition_in(p,1)):(p=create_if_block_7(y),p.c(),transition_in(p,1),p.m(r.parentNode,r)):p&&(group_outros(),transition_out(p,1,1,()=>{p=null}),check_outros()),y[2]._type=="embedBlock"?v?(v.p(y,C),C&1&&transition_in(v,1)):(v=create_if_block_6(y),v.c(),transition_in(v,1),v.m(n.parentNode,n)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros()),y[2]._type=="dividerBlock"?E?(E.p(y,C),C&1&&transition_in(E,1)):(E=create_if_block_5(y),E.c(),transition_in(E,1),E.m(a.parentNode,a)):E&&(group_outros(),transition_out(E,1,1,()=>{E=null}),check_outros()),y[2]._type=="columnsBlock"?I?(I.p(y,C),C&1&&transition_in(I,1)):(I=create_if_block_4(y),I.c(),transition_in(I,1),I.m(o.parentNode,o)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros()),y[2]._type=="donationWidget"?U?(U.p(y,C),C&1&&transition_in(U,1)):(U=create_if_block_3(y),U.c(),transition_in(U,1),U.m(s.parentNode,s)):U&&(group_outros(),transition_out(U,1,1,()=>{U=null}),check_outros()),y[2]._type=="applicationButton"?x?(x.p(y,C),C&1&&transition_in(x,1)):(x=create_if_block_2(y),x.c(),transition_in(x,1),x.m(l.parentNode,l)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros()),y[2]._type=="faq"?_?(_.p(y,C),C&1&&transition_in(_,1)):(_=create_if_block_1(y),_.c(),transition_in(_,1),_.m(c.parentNode,c)):_&&(group_outros(),transition_out(_,1,1,()=>{_=null}),check_outros()),y[2]._type=="videoBlock"?T?(T.p(y,C),C&1&&transition_in(T,1)):(T=create_if_block(y),T.c(),transition_in(T,1),T.m(u.parentNode,u)):T&&(group_outros(),transition_out(T,1,1,()=>{T=null}),check_outros())},i(y){d||(transition_in(f),transition_in(p),transition_in(v),transition_in(E),transition_in(I),transition_in(U),transition_in(x),transition_in(_),transition_in(T),d=!0)},o(y){transition_out(f),transition_out(p),transition_out(v),transition_out(E),transition_out(I),transition_out(U),transition_out(x),transition_out(_),transition_out(T),d=!1},d(y){f&&f.d(y),y&&detach(e),p&&p.d(y),y&&detach(r),v&&v.d(y),y&&detach(n),E&&E.d(y),y&&detach(a),I&&I.d(y),y&&detach(o),U&&U.d(y),y&&detach(s),x&&x.d(y),y&&detach(l),_&&_.d(y),y&&detach(c),T&&T.d(y),y&&detach(u)}}}function create_fragment(t){let e,r,n=t[0],a=[];for(let s=0;s<n.length;s+=1)a[s]=create_each_block(get_each_context(t,n,s));const o=s=>transition_out(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=empty()},l(s){for(let l=0;l<a.length;l+=1)a[l].l(s);e=empty()},m(s,l){for(let c=0;c<a.length;c+=1)a[c].m(s,l);insert_hydration(s,e,l),r=!0},p(s,[l]){if(l&3){n=s[0];let c;for(c=0;c<n.length;c+=1){const u=get_each_context(s,n,c);a[c]?(a[c].p(u,l),transition_in(a[c],1)):(a[c]=create_each_block(u),a[c].c(),transition_in(a[c],1),a[c].m(e.parentNode,e))}for(group_outros(),c=n.length;c<a.length;c+=1)o(c);check_outros()}},i(s){if(!r){for(let l=0;l<n.length;l+=1)transition_in(a[l]);r=!0}},o(s){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)transition_out(a[l]);r=!1},d(s){destroy_each(a,s),s&&detach(e)}}}function instance(t,e,r){let{blocks:n=[]}=e,{mainSite:a=!1}=e;return t.$$set=o=>{"blocks"in o&&r(0,n=o.blocks),"mainSite"in o&&r(1,a=o.mainSite)},[n,a]}class Blocks extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{blocks:0,mainSite:1})}}var base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength(t){var e=getLens(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength(t,e,r){return(e+r)*3/4-r}function toByteArray(t){var e,r=getLens(t),n=r[0],a=r[1],o=new Arr(_byteLength(t,n,a)),s=0,l=a>0?n-4:n,c;for(c=0;c<l;c+=4)e=revLookup[t.charCodeAt(c)]<<18|revLookup[t.charCodeAt(c+1)]<<12|revLookup[t.charCodeAt(c+2)]<<6|revLookup[t.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return a===2&&(e=revLookup[t.charCodeAt(c)]<<2|revLookup[t.charCodeAt(c+1)]>>4,o[s++]=e&255),a===1&&(e=revLookup[t.charCodeAt(c)]<<10|revLookup[t.charCodeAt(c+1)]<<4|revLookup[t.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[t&63]}function encodeChunk(t,e,r){for(var n,a=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),a.push(tripletToBase64(n));return a.join("")}function fromByteArray(t){for(var e,r=t.length,n=r%3,a=[],o=16383,s=0,l=r-n;s<l;s+=o)a.push(encodeChunk(t,s,s+o>l?l:s+o));return n===1?(e=t[r-1],a.push(lookup[e>>2]+lookup[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],a.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),a.join("")}var sha256$1={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(a){return e.create().update(a)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(a){return new HmacSha256(a,t)},e.update=function(a,o){return e.create(a).update(o)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if(r!=="string"){if(r==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,a=0,o,s=t.length,l=this.blocks;a<s;){if(this.hashed&&(this.hashed=!1,l[0]=this.block,l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),e)for(o=this.start;a<s&&o<64;++a)l[o>>2]|=t[a]<<SHIFT[o++&3];else for(o=this.start;a<s&&o<64;++a)n=t.charCodeAt(a),n<128?l[o>>2]|=n<<SHIFT[o++&3]:n<2048?(l[o>>2]|=(192|n>>6)<<SHIFT[o++&3],l[o>>2]|=(128|n&63)<<SHIFT[o++&3]):n<55296||n>=57344?(l[o>>2]|=(224|n>>12)<<SHIFT[o++&3],l[o>>2]|=(128|n>>6&63)<<SHIFT[o++&3],l[o>>2]|=(128|n&63)<<SHIFT[o++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++a)&1023),l[o>>2]|=(240|n>>18)<<SHIFT[o++&3],l[o>>2]|=(128|n>>12&63)<<SHIFT[o++&3],l[o>>2]|=(128|n>>6&63)<<SHIFT[o++&3],l[o>>2]|=(128|n&63)<<SHIFT[o++&3]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=l[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,a=this.h4,o=this.h5,s=this.h6,l=this.h7,c=this.blocks,u,d,f,p,v,E,I,U,x,_,T;for(u=16;u<64;++u)v=c[u-15],d=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3,v=c[u-2],f=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,c[u]=c[u-16]+d+c[u-7]+f<<0;for(T=e&r,u=0;u<64;u+=4)this.first?(this.is224?(U=300032,v=c[0]-1413257819,l=v-150054599<<0,n=v+24177077<<0):(U=704751109,v=c[0]-210244248,l=v-1521486534<<0,n=v+143694565<<0),this.first=!1):(d=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),U=t&e,p=U^t&r^T,I=a&o^~a&s,v=l+f+I+K[u]+c[u],E=d+p,l=n+v<<0,n=v+E<<0),d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),x=n&t,p=x^n&e^U,I=l&a^~l&o,v=s+f+I+K[u+1]+c[u+1],E=d+p,s=r+v<<0,r=v+E<<0,d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),_=r&n,p=_^r&t^x,I=s&l^~s&a,v=o+f+I+K[u+2]+c[u+2],E=d+p,o=e+v<<0,e=v+E<<0,d=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),T=e&r,p=T^e&n^_,I=o&s^~o&l,v=a+f+I+K[u+3]+c[u+3],E=d+p,a=t+v<<0,t=v+E<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+a<<0,this.h5=this.h5+o<<0,this.h6=this.h6+s<<0,this.h7=this.h7+l<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,a=this.h4,o=this.h5,s=this.h6,l=this.h7,c=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15];return this.is224||(c+=HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,a=this.h4,o=this.h5,s=this.h6,l=this.h7,c=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,a>>24&255,a>>16&255,a>>8&255,a&255,o>>24&255,o>>16&255,o>>8&255,o&255,s>>24&255,s>>16&255,s>>8&255,s&255];return this.is224||c.push(l>>24&255,l>>16&255,l>>8&255,l&255),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};function HmacSha256(t,e,r){var n,a=typeof t;if(a==="string"){var o=[],s=t.length,l=0,c;for(n=0;n<s;++n)c=t.charCodeAt(n),c<128?o[l++]=c:c<2048?(o[l++]=192|c>>6,o[l++]=128|c&63):c<55296||c>=57344?(o[l++]=224|c>>12,o[l++]=128|c>>6&63,o[l++]=128|c&63):(c=65536+((c&1023)<<10|t.charCodeAt(++n)&1023),o[l++]=240|c>>18,o[l++]=128|c>>12&63,o[l++]=128|c>>6&63,o[l++]=128|c&63);t=o}else if(a==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(e,!0).update(t).array());var u=[],d=[];for(n=0;n<64;++n){var f=t[n]||0;u[n]=92^f,d[n]=54^f}Sha256.call(this,e,r),this.update(d),this.oKeyPad=u,this.inner=!0,this.sharedMemory=r}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);var sha256=sha256$1.exports;if(typeof Promise=="undefined")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var loggedPromiseDeprecation=!1;function logPromiseDeprecation(){loggedPromiseDeprecation||(loggedPromiseDeprecation=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}function Keycloak(t){if(!(this instanceof Keycloak))return new Keycloak(t);for(var e=this,r,n=[],a,o={enable:!0,callbackList:[],interval:5},s=document.getElementsByTagName("script"),l=0;l<s.length;l++)(s[l].src.indexOf("keycloak.js")!==-1||s[l].src.indexOf("keycloak.min.js")!==-1)&&s[l].src.indexOf("version=")!==-1&&(e.iframeVersion=s[l].src.substring(s[l].src.indexOf("version=")+8).split("&")[0]);var c=!0,u=ue(console.info),d=ue(console.warn);e.init=function(m){e.authenticated=!1,a=ce();var S=["default","cordova","cordova-native"];if(m&&S.indexOf(m.adapter)>-1?r=re(m.adapter):m&&typeof m.adapter=="object"?r=m.adapter:window.Cordova||window.cordova?r=re("cordova"):r=re(),m){if(typeof m.useNonce!="undefined"&&(c=m.useNonce),typeof m.checkLoginIframe!="undefined"&&(o.enable=m.checkLoginIframe),m.checkLoginIframeInterval&&(o.interval=m.checkLoginIframeInterval),m.onLoad==="login-required"&&(e.loginRequired=!0),m.responseMode)if(m.responseMode==="query"||m.responseMode==="fragment")e.responseMode=m.responseMode;else throw"Invalid value for responseMode";if(m.flow){switch(m.flow){case"standard":e.responseType="code";break;case"implicit":e.responseType="id_token token";break;case"hybrid":e.responseType="code id_token token";break;default:throw"Invalid value for flow"}e.flow=m.flow}if(m.timeSkew!=null&&(e.timeSkew=m.timeSkew),m.redirectUri&&(e.redirectUri=m.redirectUri),m.silentCheckSsoRedirectUri&&(e.silentCheckSsoRedirectUri=m.silentCheckSsoRedirectUri),typeof m.silentCheckSsoFallback=="boolean"?e.silentCheckSsoFallback=m.silentCheckSsoFallback:e.silentCheckSsoFallback=!0,m.pkceMethod){if(m.pkceMethod!=="S256")throw"Invalid value for pkceMethod";e.pkceMethod=m.pkceMethod}typeof m.enableLogging=="boolean"?e.enableLogging=m.enableLogging:e.enableLogging=!1,typeof m.scope=="string"&&(e.scope=m.scope),typeof m.messageReceiveTimeout=="number"&&m.messageReceiveTimeout>0?e.messageReceiveTimeout=m.messageReceiveTimeout:e.messageReceiveTimeout=1e4}e.responseMode||(e.responseMode="fragment"),e.responseType||(e.responseType="code",e.flow="standard");var D=g(),M=g();M.promise.then(function(){e.onReady&&e.onReady(e.authenticated),D.setSuccess(e.authenticated)}).catch(function(X){D.setError(X)});var j=T();function P(){var X=function(le){le||(ee.prompt="none"),e.login(ee).then(function(){M.setSuccess()}).catch(function(Se){M.setError(Se)})},B=function(){var le=document.createElement("iframe"),Se=e.createLoginUrl({prompt:"none",redirectUri:e.silentCheckSsoRedirectUri});le.setAttribute("src",Se),le.setAttribute("title","keycloak-silent-check-sso"),le.style.display="none",document.body.appendChild(le);var be=function(O){if(!(O.origin!==window.location.origin||le.contentWindow!==O.source)){var q=F(O.data);_(q,M),document.body.removeChild(le),window.removeEventListener("message",be)}};window.addEventListener("message",be)},ee={};switch(m.onLoad){case"check-sso":o.enable?A().then(function(){N().then(function(le){le?M.setSuccess():e.silentCheckSsoRedirectUri?B():X(!1)}).catch(function(le){M.setError(le)})}):e.silentCheckSsoRedirectUri?B():X(!1);break;case"login-required":X(!0);break;default:throw"Invalid value for onLoad"}}function H(){var X=F(window.location.href);if(X&&window.history.replaceState(window.history.state,null,X.newUrl),X&&X.valid)return A().then(function(){_(X,M)}).catch(function(B){M.setError(B)});m?m.token&&m.refreshToken?(C(m.token,m.refreshToken,m.idToken),o.enable?A().then(function(){N().then(function(B){B?(e.onAuthSuccess&&e.onAuthSuccess(),M.setSuccess(),Y()):M.setSuccess()}).catch(function(B){M.setError(B)})}):e.updateToken(-1).then(function(){e.onAuthSuccess&&e.onAuthSuccess(),M.setSuccess()}).catch(function(B){e.onAuthError&&e.onAuthError(),m.onLoad?P():M.setError(B)})):m.onLoad?P():M.setSuccess():M.setSuccess()}function W(){var X=g(),B=function(){(document.readyState==="interactive"||document.readyState==="complete")&&(document.removeEventListener("readystatechange",B),X.setSuccess())};return document.addEventListener("readystatechange",B),B(),X.promise}return j.then(function(){W().then(Q).then(H).catch(function(X){D.setError(X)})}),j.catch(function(X){D.setError(X)}),D.promise},e.login=function(m){return r.login(m)};function f(m){var S=null,D=window.crypto||window.msCrypto;if(D&&D.getRandomValues&&window.Uint8Array)return S=new Uint8Array(m),D.getRandomValues(S),S;S=new Array(m);for(var M=0;M<S.length;M++)S[M]=Math.floor(256*Math.random());return S}function p(m){return v(m,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function v(m,S){for(var D=f(m),M=new Array(m),j=0;j<m;j++)M[j]=S.charCodeAt(D[j]%S.length);return String.fromCharCode.apply(null,M)}function E(m,S){switch(m){case"S256":var D=new Uint8Array(sha256.arrayBuffer(S)),M=base64Js.fromByteArray(D).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return M;default:throw"Invalid value for pkceMethod"}}function I(m){var S={id_token:{acr:m}};return JSON.stringify(S)}e.createLoginUrl=function(m){var S=$(),D=$(),M=r.redirectUri(m),j={state:S,nonce:D,redirectUri:encodeURIComponent(M)};m&&m.prompt&&(j.prompt=m.prompt);var P;m&&m.action=="register"?P=e.endpoints.register():P=e.endpoints.authorize();var H=m&&m.scope||e.scope;H?H.indexOf("openid")===-1&&(H="openid "+H):H="openid";var W=P+"?client_id="+encodeURIComponent(e.clientId)+"&redirect_uri="+encodeURIComponent(M)+"&state="+encodeURIComponent(S)+"&response_mode="+encodeURIComponent(e.responseMode)+"&response_type="+encodeURIComponent(e.responseType)+"&scope="+encodeURIComponent(H);if(c&&(W=W+"&nonce="+encodeURIComponent(D)),m&&m.prompt&&(W+="&prompt="+encodeURIComponent(m.prompt)),m&&m.maxAge&&(W+="&max_age="+encodeURIComponent(m.maxAge)),m&&m.loginHint&&(W+="&login_hint="+encodeURIComponent(m.loginHint)),m&&m.idpHint&&(W+="&kc_idp_hint="+encodeURIComponent(m.idpHint)),m&&m.action&&m.action!="register"&&(W+="&kc_action="+encodeURIComponent(m.action)),m&&m.locale&&(W+="&ui_locales="+encodeURIComponent(m.locale)),m&&m.acr){var X=I(m.acr);W+="&claims="+encodeURIComponent(X)}if(e.pkceMethod){var B=p(96);j.pkceCodeVerifier=B;var ee=E(e.pkceMethod,B);W+="&code_challenge="+ee,W+="&code_challenge_method="+e.pkceMethod}return a.add(j),W},e.logout=function(m){return r.logout(m)},e.createLogoutUrl=function(m){var S=e.endpoints.logout()+"?post_logout_redirect_uri="+encodeURIComponent(r.redirectUri(m,!1))+"&id_token_hint="+encodeURIComponent(e.idToken);return S},e.register=function(m){return r.register(m)},e.createRegisterUrl=function(m){return m||(m={}),m.action="register",e.createLoginUrl(m)},e.createAccountUrl=function(m){var S=U(),D=void 0;return typeof S!="undefined"&&(D=S+"/account?referrer="+encodeURIComponent(e.clientId)+"&referrer_uri="+encodeURIComponent(r.redirectUri(m))),D},e.accountManagement=function(){return r.accountManagement()},e.hasRealmRole=function(m){var S=e.realmAccess;return!!S&&S.roles.indexOf(m)>=0},e.hasResourceRole=function(m,S){if(!e.resourceAccess)return!1;var D=e.resourceAccess[S||e.clientId];return!!D&&D.roles.indexOf(m)>=0},e.loadUserProfile=function(){var m=U()+"/account",S=new XMLHttpRequest;S.open("GET",m,!0),S.setRequestHeader("Accept","application/json"),S.setRequestHeader("Authorization","bearer "+e.token);var D=g();return S.onreadystatechange=function(){S.readyState==4&&(S.status==200?(e.profile=JSON.parse(S.responseText),D.setSuccess(e.profile)):D.setError())},S.send(),D.promise},e.loadUserInfo=function(){var m=e.endpoints.userinfo(),S=new XMLHttpRequest;S.open("GET",m,!0),S.setRequestHeader("Accept","application/json"),S.setRequestHeader("Authorization","bearer "+e.token);var D=g();return S.onreadystatechange=function(){S.readyState==4&&(S.status==200?(e.userInfo=JSON.parse(S.responseText),D.setSuccess(e.userInfo)):D.setError())},S.send(),D.promise},e.isTokenExpired=function(m){if(!e.tokenParsed||!e.refreshToken&&e.flow!="implicit")throw"Not authenticated";if(e.timeSkew==null)return u("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var S=e.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+e.timeSkew;if(m){if(isNaN(m))throw"Invalid minValidity";S-=m}return S<0},e.updateToken=function(m){var S=g();if(!e.refreshToken)return S.setError(),S.promise;m=m||5;var D=function(){var j=!1;if(m==-1?(j=!0,u("[KEYCLOAK] Refreshing token: forced refresh")):(!e.tokenParsed||e.isTokenExpired(m))&&(j=!0,u("[KEYCLOAK] Refreshing token: token expired")),!j)S.setSuccess(!1);else{var P="grant_type=refresh_token&refresh_token="+e.refreshToken,H=e.endpoints.token();if(n.push(S),n.length==1){var W=new XMLHttpRequest;W.open("POST",H,!0),W.setRequestHeader("Content-type","application/x-www-form-urlencoded"),W.withCredentials=!0,P+="&client_id="+encodeURIComponent(e.clientId);var X=new Date().getTime();W.onreadystatechange=function(){if(W.readyState==4)if(W.status==200){u("[KEYCLOAK] Token refreshed"),X=(X+new Date().getTime())/2;var B=JSON.parse(W.responseText);C(B.access_token,B.refresh_token,B.id_token,X),e.onAuthRefreshSuccess&&e.onAuthRefreshSuccess();for(var ee=n.pop();ee!=null;ee=n.pop())ee.setSuccess(!0)}else{d("[KEYCLOAK] Failed to refresh token"),W.status==400&&e.clearToken(),e.onAuthRefreshError&&e.onAuthRefreshError();for(var ee=n.pop();ee!=null;ee=n.pop())ee.setError(!0)}},W.send(P)}}};if(o.enable){var M=N();M.then(function(){D()}).catch(function(j){S.setError(j)})}else D();return S.promise},e.clearToken=function(){e.token&&(C(null,null,null),e.onAuthLogout&&e.onAuthLogout(),e.loginRequired&&e.login())};function U(){if(typeof e.authServerUrl!="undefined")return e.authServerUrl.charAt(e.authServerUrl.length-1)=="/"?e.authServerUrl+"realms/"+encodeURIComponent(e.realm):e.authServerUrl+"/realms/"+encodeURIComponent(e.realm)}function x(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function _(m,S){var D=m.code,M=m.error,j=m.prompt,P=new Date().getTime();if(m.kc_action_status&&e.onActionUpdate&&e.onActionUpdate(m.kc_action_status),M){if(j!="none"){var H={error:M,error_description:m.error_description};e.onAuthError&&e.onAuthError(H),S&&S.setError(H)}else S&&S.setSuccess();return}else e.flow!="standard"&&(m.access_token||m.id_token)&&ee(m.access_token,null,m.id_token,!0);if(e.flow!="implicit"&&D){var W="code="+D+"&grant_type=authorization_code",X=e.endpoints.token(),B=new XMLHttpRequest;B.open("POST",X,!0),B.setRequestHeader("Content-type","application/x-www-form-urlencoded"),W+="&client_id="+encodeURIComponent(e.clientId),W+="&redirect_uri="+m.redirectUri,m.pkceCodeVerifier&&(W+="&code_verifier="+m.pkceCodeVerifier),B.withCredentials=!0,B.onreadystatechange=function(){if(B.readyState==4)if(B.status==200){var le=JSON.parse(B.responseText);ee(le.access_token,le.refresh_token,le.id_token,e.flow==="standard"),Y()}else e.onAuthError&&e.onAuthError(),S&&S.setError()},B.send(W)}function ee(le,Se,be,O){P=(P+new Date().getTime())/2,C(le,Se,be,P),c&&(e.tokenParsed&&e.tokenParsed.nonce!=m.storedNonce||e.refreshTokenParsed&&e.refreshTokenParsed.nonce!=m.storedNonce||e.idTokenParsed&&e.idTokenParsed.nonce!=m.storedNonce)?(u("[KEYCLOAK] Invalid nonce, clearing token"),e.clearToken(),S&&S.setError()):O&&(e.onAuthSuccess&&e.onAuthSuccess(),S&&S.setSuccess())}}function T(m){var S=g(),D;t?typeof t=="string"&&(D=t):D="keycloak.json";function M(B){B?e.endpoints={authorize:function(){return B.authorization_endpoint},token:function(){return B.token_endpoint},logout:function(){if(!B.end_session_endpoint)throw"Not supported by the OIDC server";return B.end_session_endpoint},checkSessionIframe:function(){if(!B.check_session_iframe)throw"Not supported by the OIDC server";return B.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!B.userinfo_endpoint)throw"Not supported by the OIDC server";return B.userinfo_endpoint}}:e.endpoints={authorize:function(){return U()+"/protocol/openid-connect/auth"},token:function(){return U()+"/protocol/openid-connect/token"},logout:function(){return U()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var ee=U()+"/protocol/openid-connect/login-status-iframe.html";return e.iframeVersion&&(ee=ee+"?version="+e.iframeVersion),ee},thirdPartyCookiesIframe:function(){var ee=U()+"/protocol/openid-connect/3p-cookies/step1.html";return e.iframeVersion&&(ee=ee+"?version="+e.iframeVersion),ee},register:function(){return U()+"/protocol/openid-connect/registrations"},userinfo:function(){return U()+"/protocol/openid-connect/userinfo"}}}if(D){var j=new XMLHttpRequest;j.open("GET",D,!0),j.setRequestHeader("Accept","application/json"),j.onreadystatechange=function(){if(j.readyState==4)if(j.status==200||y(j)){var B=JSON.parse(j.responseText);e.authServerUrl=B["auth-server-url"],e.realm=B.realm,e.clientId=B.resource,M(null),S.setSuccess()}else S.setError()},j.send()}else{if(!t.clientId)throw"clientId missing";e.clientId=t.clientId;var P=t.oidcProvider;if(P)if(typeof P=="string"){var X;P.charAt(P.length-1)=="/"?X=P+".well-known/openid-configuration":X=P+"/.well-known/openid-configuration";var j=new XMLHttpRequest;j.open("GET",X,!0),j.setRequestHeader("Accept","application/json"),j.onreadystatechange=function(){if(j.readyState==4)if(j.status==200||y(j)){var ee=JSON.parse(j.responseText);M(ee),S.setSuccess()}else S.setError()},j.send()}else M(P),S.setSuccess();else{if(!t.url){for(var H=document.getElementsByTagName("script"),W=0;W<H.length;W++)if(H[W].src.match(/.*keycloak\.js/)){t.url=H[W].src.substr(0,H[W].src.indexOf("/js/keycloak.js"));break}}if(!t.realm)throw"realm missing";e.authServerUrl=t.url,e.realm=t.realm,M(null),S.setSuccess()}}return S.promise}function y(m){return m.status==0&&m.responseText&&m.responseURL.startsWith("file:")}function C(m,S,D,M){if(e.tokenTimeoutHandle&&(clearTimeout(e.tokenTimeoutHandle),e.tokenTimeoutHandle=null),S?(e.refreshToken=S,e.refreshTokenParsed=b(S)):(delete e.refreshToken,delete e.refreshTokenParsed),D?(e.idToken=D,e.idTokenParsed=b(D)):(delete e.idToken,delete e.idTokenParsed),m){if(e.token=m,e.tokenParsed=b(m),e.sessionId=e.tokenParsed.session_state,e.authenticated=!0,e.subject=e.tokenParsed.sub,e.realmAccess=e.tokenParsed.realm_access,e.resourceAccess=e.tokenParsed.resource_access,M&&(e.timeSkew=Math.floor(M/1e3)-e.tokenParsed.iat),e.timeSkew!=null&&(u("[KEYCLOAK] Estimated time difference between browser and server is "+e.timeSkew+" seconds"),e.onTokenExpired)){var j=(e.tokenParsed.exp-new Date().getTime()/1e3+e.timeSkew)*1e3;u("[KEYCLOAK] Token expires in "+Math.round(j/1e3)+" s"),j<=0?e.onTokenExpired():e.tokenTimeoutHandle=setTimeout(e.onTokenExpired,j)}}else delete e.token,delete e.tokenParsed,delete e.subject,delete e.realmAccess,delete e.resourceAccess,e.authenticated=!1}function b(m){switch(m=m.split(".")[1],m=m.replace(/-/g,"+"),m=m.replace(/_/g,"/"),m.length%4){case 0:break;case 2:m+="==";break;case 3:m+="=";break;default:throw"Invalid token"}return m=decodeURIComponent(escape(atob(m))),m=JSON.parse(m),m}function $(){var m="0123456789abcdef",S=v(36,m).split("");S[14]="4",S[19]=m.substr(S[19]&3|8,1),S[8]=S[13]=S[18]=S[23]="-";var D=S.join("");return D}function F(m){var S=L(m);if(!!S){var D=a.get(S.state);return D&&(S.valid=!0,S.redirectUri=D.redirectUri,S.storedNonce=D.nonce,S.prompt=D.prompt,S.pkceCodeVerifier=D.pkceCodeVerifier),S}}function L(m){var S;switch(e.flow){case"standard":S=["code","state","session_state","kc_action_status"];break;case"implicit":S=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":S=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"];break}S.push("error"),S.push("error_description"),S.push("error_uri");var D=m.indexOf("?"),M=m.indexOf("#"),j,P;if(e.responseMode==="query"&&D!==-1?(j=m.substring(0,D),P=k(m.substring(D+1,M!==-1?M:m.length),S),P.paramsString!==""&&(j+="?"+P.paramsString),M!==-1&&(j+=m.substring(M))):e.responseMode==="fragment"&&M!==-1&&(j=m.substring(0,M),P=k(m.substring(M+1),S),P.paramsString!==""&&(j+="#"+P.paramsString)),P&&P.oauthParams){if(e.flow==="standard"||e.flow==="hybrid"){if((P.oauthParams.code||P.oauthParams.error)&&P.oauthParams.state)return P.oauthParams.newUrl=j,P.oauthParams}else if(e.flow==="implicit"&&(P.oauthParams.access_token||P.oauthParams.error)&&P.oauthParams.state)return P.oauthParams.newUrl=j,P.oauthParams}}function k(m,S){for(var D=m.split("&"),M={paramsString:"",oauthParams:{}},j=0;j<D.length;j++){var P=D[j].indexOf("="),H=D[j].slice(0,P);S.indexOf(H)!==-1?M.oauthParams[H]=D[j].slice(P+1):(M.paramsString!==""&&(M.paramsString+="&"),M.paramsString+=D[j])}return M}function g(){var m={setSuccess:function(S){m.resolve(S)},setError:function(S){m.reject(S)}};return m.promise=new Promise(function(S,D){m.resolve=S,m.reject=D}),m.promise.success=function(S){return logPromiseDeprecation(),this.then(function(M){S(M)}),this},m.promise.error=function(S){return logPromiseDeprecation(),this.catch(function(M){S(M)}),this},m}function R(m,S,D){var M=null,j=new Promise(function(P,H){M=setTimeout(function(){H({error:D||"Promise is not settled within timeout of "+S+"ms"})},S)});return Promise.race([m,j]).finally(function(){clearTimeout(M)})}function A(){var m=g();if(!o.enable||o.iframe)return m.setSuccess(),m.promise;var S=document.createElement("iframe");o.iframe=S,S.onload=function(){var j=e.endpoints.authorize();j.charAt(0)==="/"?o.iframeOrigin=x():o.iframeOrigin=j.substring(0,j.indexOf("/",8)),m.setSuccess()};var D=e.endpoints.checkSessionIframe();S.setAttribute("src",D),S.setAttribute("title","keycloak-session-iframe"),S.style.display="none",document.body.appendChild(S);var M=function(j){if(!(j.origin!==o.iframeOrigin||o.iframe.contentWindow!==j.source)&&(j.data=="unchanged"||j.data=="changed"||j.data=="error")){j.data!="unchanged"&&e.clearToken();for(var P=o.callbackList.splice(0,o.callbackList.length),H=P.length-1;H>=0;--H){var W=P[H];j.data=="error"?W.setError():W.setSuccess(j.data=="unchanged")}}};return window.addEventListener("message",M,!1),m.promise}function Y(){o.enable&&e.token&&setTimeout(function(){N().then(function(m){m&&Y()})},o.interval*1e3)}function N(){var m=g();if(o.iframe&&o.iframeOrigin){var S=e.clientId+" "+(e.sessionId?e.sessionId:"");o.callbackList.push(m);var D=o.iframeOrigin;o.callbackList.length==1&&o.iframe.contentWindow.postMessage(S,D)}else m.setSuccess();return m.promise}function Q(){var m=g();if(o.enable||e.silentCheckSsoRedirectUri){var S=document.createElement("iframe");S.setAttribute("src",e.endpoints.thirdPartyCookiesIframe()),S.setAttribute("title","keycloak-3p-check-iframe"),S.style.display="none",document.body.appendChild(S);var D=function(M){S.contentWindow===M.source&&(M.data!=="supported"&&M.data!=="unsupported"||(M.data==="unsupported"&&(o.enable=!1,e.silentCheckSsoFallback&&(e.silentCheckSsoRedirectUri=!1),d("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(S),window.removeEventListener("message",D),m.setSuccess()))};window.addEventListener("message",D,!1)}else m.setSuccess();return R(m.promise,e.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function re(m){if(!m||m=="default")return{login:function(P){return window.location.replace(e.createLoginUrl(P)),g().promise},logout:function(P){return window.location.replace(e.createLogoutUrl(P)),g().promise},register:function(P){return window.location.replace(e.createRegisterUrl(P)),g().promise},accountManagement:function(){var P=e.createAccountUrl();if(typeof P!="undefined")window.location.href=P;else throw"Not supported by the OIDC server";return g().promise},redirectUri:function(P,H){return P&&P.redirectUri?P.redirectUri:e.redirectUri?e.redirectUri:location.href}};if(m=="cordova"){o.enable=!1;var S=function(P,H,W){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(P,H,W):window.open(P,H,W)},D=function(P){return P&&P.cordovaOptions?Object.keys(P.cordovaOptions).reduce(function(H,W){return H[W]=P.cordovaOptions[W],H},{}):{}},M=function(P){return Object.keys(P).reduce(function(H,W){return H.push(W+"="+P[W]),H},[]).join(",")},j=function(P){var H=D(P);return H.location="no",P&&P.prompt=="none"&&(H.hidden="yes"),M(H)};return{login:function(P){var H=g(),W=j(P),X=e.createLoginUrl(P),B=S(X,"_blank",W),ee=!1,le=!1,Se=function(){le=!0,B.close()};return B.addEventListener("loadstart",function(be){if(be.url.indexOf("http://localhost")==0){var O=F(be.url);_(O,H),Se(),ee=!0}}),B.addEventListener("loaderror",function(be){if(!ee)if(be.url.indexOf("http://localhost")==0){var O=F(be.url);_(O,H),Se(),ee=!0}else H.setError(),Se()}),B.addEventListener("exit",function(be){le||H.setError({reason:"closed_by_user"})}),H.promise},logout:function(P){var H=g(),W=e.createLogoutUrl(P),X=S(W,"_blank","location=no,hidden=yes,clearcache=yes"),B;return X.addEventListener("loadstart",function(ee){ee.url.indexOf("http://localhost")==0&&X.close()}),X.addEventListener("loaderror",function(ee){ee.url.indexOf("http://localhost")==0||(B=!0),X.close()}),X.addEventListener("exit",function(ee){B?H.setError():(e.clearToken(),H.setSuccess())}),H.promise},register:function(P){var H=g(),W=e.createRegisterUrl(),X=j(P),B=S(W,"_blank",X);return B.addEventListener("loadstart",function(ee){if(ee.url.indexOf("http://localhost")==0){B.close();var le=F(ee.url);_(le,H)}}),H.promise},accountManagement:function(){var P=e.createAccountUrl();if(typeof P!="undefined"){var H=S(P,"_blank","location=no");H.addEventListener("loadstart",function(W){W.url.indexOf("http://localhost")==0&&H.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(P){return"http://localhost"}}}if(m=="cordova-native")return o.enable=!1,{login:function(P){var H=g(),W=e.createLoginUrl(P);return universalLinks.subscribe("keycloak",function(X){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var B=F(X.url);_(B,H)}),window.cordova.plugins.browsertab.openUrl(W),H.promise},logout:function(P){var H=g(),W=e.createLogoutUrl(P);return universalLinks.subscribe("keycloak",function(X){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),e.clearToken(),H.setSuccess()}),window.cordova.plugins.browsertab.openUrl(W),H.promise},register:function(P){var H=g(),W=e.createRegisterUrl(P);return universalLinks.subscribe("keycloak",function(X){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var B=F(X.url);_(B,H)}),window.cordova.plugins.browsertab.openUrl(W),H.promise},accountManagement:function(){var P=e.createAccountUrl();if(typeof P!="undefined")window.cordova.plugins.browsertab.openUrl(P);else throw"Not supported by the OIDC server"},redirectUri:function(P){return P&&P.redirectUri?P.redirectUri:e.redirectUri?e.redirectUri:"http://localhost"}};throw"invalid adapter type: "+m}var oe=function(){if(!(this instanceof oe))return new oe;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var m=this;function S(){for(var D=new Date().getTime(),M=0;M<localStorage.length;M++){var j=localStorage.key(M);if(j&&j.indexOf("kc-callback-")==0){var P=localStorage.getItem(j);if(P)try{var H=JSON.parse(P).expires;(!H||H<D)&&localStorage.removeItem(j)}catch{localStorage.removeItem(j)}}}}m.get=function(D){if(!!D){var M="kc-callback-"+D,j=localStorage.getItem(M);return j&&(localStorage.removeItem(M),j=JSON.parse(j)),S(),j}},m.add=function(D){S();var M="kc-callback-"+D.state;D.expires=new Date().getTime()+60*60*1e3,localStorage.setItem(M,JSON.stringify(D))}},ae=function(){if(!(this instanceof ae))return new ae;var m=this;m.get=function(j){if(!!j){var P=D("kc-callback-"+j);if(M("kc-callback-"+j,"",S(-100)),P)return JSON.parse(P)}},m.add=function(j){M("kc-callback-"+j.state,JSON.stringify(j),S(60))},m.removeItem=function(j){M(j,"",S(-100))};var S=function(j){var P=new Date;return P.setTime(P.getTime()+j*60*1e3),P},D=function(j){for(var P=j+"=",H=document.cookie.split(";"),W=0;W<H.length;W++){for(var X=H[W];X.charAt(0)==" ";)X=X.substring(1);if(X.indexOf(P)==0)return X.substring(P.length,X.length)}return""},M=function(j,P,H){var W=j+"="+P+"; expires="+H.toUTCString()+"; ";document.cookie=W}};function ce(){try{return new oe}catch{}return new ae}function ue(m){return function(){e.enableLogging&&m.apply(console,Array.prototype.slice.call(arguments))}}}const isAuthenticated=writable(!1),profile=writable(!1);let keycloak={};const configureAuthClient=async()=>new Promise((t,e)=>{keycloak=new Keycloak({url:"https://hello.undersco.re/auth/",realm:"undersco_re",clientId:"underscore_openeyebeam"}),keycloak.init({onLoad:"check-sso",silentCheckSsoRedirectUri:window.location.origin+"/silent-check-sso.html"}).then(r=>{isAuthenticated.set(r),r?keycloak.loadUserProfile().then(async n=>{const a=await updateUser(n);profile.set(a)}).catch(()=>{errorLogger("Failed to load user profile")}).finally(()=>{t()}):t()}).catch(r=>{e(r)})}),login=async()=>{keycloak.login({redirectUri:window.location.origin})},logout=()=>{keycloak.logout({redirectUri:window.location.origin})},updateUser=t=>new Promise(async(e,r)=>{const n=new Headers;n.append("Content-Type","application/json");const a={method:"POST",headers:n,body:JSON.stringify(t),redirect:"follow"},o=await fetch("/api/update-user",a);if(!o.ok){const l=`An error has occured: ${o.status}`;throw new Error(l)}const s=await o.json();e(s)});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,isObject$1=isObject_1$1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(t,e,r){var n,a,o,s,l,c,u=0,d=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT$1);e=toNumber(e)||0,isObject$1(r)&&(d=!!r.leading,f="maxWait"in r,o=f?nativeMax(toNumber(r.maxWait)||0,e):o,p="trailing"in r?!!r.trailing:p);function v(b){var $=n,F=a;return n=a=void 0,u=b,s=t.apply(F,$),s}function E(b){return u=b,l=setTimeout(x,e),d?v(b):s}function I(b){var $=b-c,F=b-u,L=e-$;return f?nativeMin(L,o-F):L}function U(b){var $=b-c,F=b-u;return c===void 0||$>=e||$<0||f&&F>=o}function x(){var b=now();if(U(b))return _(b);l=setTimeout(x,I(b))}function _(b){return l=void 0,p&&n?v(b):(n=a=void 0,s)}function T(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function y(){return l===void 0?s:_(now())}function C(){var b=now(),$=U(b);if(n=arguments,a=this,c=b,$){if(l===void 0)return E(c);if(f)return clearTimeout(l),l=setTimeout(x,e),v(c)}return l===void 0&&(l=setTimeout(x,e)),s}return C.cancel=T,C.flush=y,C}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1$1,FUNC_ERROR_TEXT="Expected a function";function throttle(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),debounce(t,e,{leading:n,maxWait:e,trailing:a})}var throttle_1=throttle;const globalSettings=writable({});let worldObject=writable({});const GRID_SIZE=32,buildWorld=()=>new Promise(async(t,e)=>{const r=await loadData('*[_type == "room"]{..., "bgImageUrl": backgroundImage.asset->url}'),n=await loadData('*[_type == "zone"]{..., "bgImageUrl": backgroundImage.asset->url}'),a=await loadData('*[_type == "exob"]'),o=await loadData('*[_type == "portal"]{..., targetArea->{...}, "bgImageUrl": backgroundImage.asset->url}'),s=await loadData('*[_type == "event"]'),l=await loadData('*[_id == "bulletin-board-settings"][0]');let c={};r.forEach(u=>c[u._id]=u);for(const[u,d]of Object.entries(c))c[u].objects=[],c[u].zones=[],c[u].portals=[],c[u].inlineStyles=parseStyleProperties(d);a.forEach(u=>{has_1(u,"parentArea._ref")&&c[u.parentArea._ref].objects.push(u)}),l&&(l.isBulletinBoard=!0,l.title="Bulletin Board",l.events=s,c[l.parentArea._ref].objects.push(l)),n.forEach(u=>{has_1(u,"parentArea._ref")&&c[u.parentArea._ref].zones.push(u)}),o.forEach(u=>{has_1(u,"parentArea._ref")&&c[u.parentArea._ref].portals.push(u)}),worldObject.set(c),t()}),loadAvatars=()=>new Promise(async(t,e)=>{const r=await loadData('*[_type == "avatar"]{..., "imageUrl": image.asset->url}');t(r)}),parseStyleProperties=t=>{let e="width: "+get_1(t,"dimensions.width",0)*GRID_SIZE+"px;",r="height: "+get_1(t,"dimensions.height",0)*GRID_SIZE+"px;",n="background-image: url("+t.bgImageUrl+");";return e+r+n};loadData('*[_id == "global-settings"]').then(t=>{globalSettings.set(t)}).catch(t=>{console.log(t)});const streams=writable([]),initializeStreamsHandler=async()=>{const t='*[_id == "streams"][0]';let e=await loadData(t);streams.set(e.activeStreams),client.listen(t).subscribe(r=>{streams.set(r.result.activeStreams)})},localPlayer=writable({uuid:"",sessionId:"",name:"",profile:{}}),players=writable({}),chatMessages=writable([]),showTarget=writable(!1),GAME_SERVER_URL="wss://open.eyebeam.dev";let moveTo={},goToRoom={},enterArticle={},leaveArticle={},submitChat={},gameClient={};const connectToGameServer=t=>(gameClient=new Colyseus.Client(GAME_SERVER_URL),new Promise((e,r)=>{gameClient.joinOrCreate("game",t).then(n=>{n.state.players.onRemove=(a,o)=>{players.update(s=>(delete s[a.uuid],s))},n.state.players.onAdd=(a,o)=>{players.update(s=>(s[a.uuid]={name:a.name,x:a.x,y:a.y,room:a.room,npc:a.npc,inTransit:!1,self:a.uuid===get_store_value(localPlayer).uuid},s)),a.uuid===get_store_value(localPlayer).uuid&&localPlayer.update(s=>(s.sessionId=o,s.name=a.name,s)),a.onChange=s=>{get_store_value(players)[a.uuid].room!==a.room?(players.update(l=>(l[a.uuid].name=a.name,l[a.uuid].shape=a.shape,l[a.uuid].room=a.room,l[a.uuid].inTransit=!0,l[a.uuid].viewing=a.viewing,l)),setTimeout(()=>{players.update(l=>(l[a.uuid].inTransit=!1,l))},1e3)):players.update(l=>(l[a.uuid].name=a.name,l[a.uuid].shape=a.shape,l[a.uuid].viewing=a.viewing,l)),!(a.uuid===get_store_value(localPlayer).uuid&&a.path.keyboardNavigation)&&players.update(l=>(l[a.uuid].x=a.x,l[a.uuid].y=a.y,l))}},n.onMessage("banned",a=>{}),moveTo=(a,o,s)=>{showTarget.set(!1),s?n.send("go",{x:a,y:o,keyboardNavigation:!0}):n.send("go",{x:a,y:o,originX:get_store_value(players)[get_store_value(localPlayer).uuid].x,originY:get_store_value(players)[get_store_value(localPlayer).uuid].y,keyboardNavigation:!1})},goToRoom=a=>{n.send("changeRoom",{id:a.id,x:a.x,y:a.y})},enterArticle=a=>{n.send("enterArticle",{id:a._id})},leaveArticle=()=>{n.send("leaveArticle")},n.state.messages.onAdd=a=>{chatMessages.update(o=>(o.push(a),o))},submitChat=(a,o)=>{try{n.send("submitChatMessage",{msgId:nanoid(),uuid:get_store_value(localPlayer).uuid,name:get_store_value(players)[get_store_value(localPlayer).uuid].name,text:a.detail.text,room:o._id})}catch(s){console.dir(s)}},n.onLeave(a=>{const o="Disconnected from server. Code: "+a;console.log(o)}),n.onError((a,o)=>{console.error("Gameserver error:",o)}),e()}).catch(n=>{console.dir(n),n.code==4215,r(n)})})),roomIntent=writable(!1),objectIntent=writable(!1),activeZone=writable(!1),currentRoom=writable(!1),keyReleased=writable(!0),initializeKeyboardHandler=()=>new Promise((t,e)=>{document.addEventListener("keydown",throttle_1(r=>{r.keyCode===38&&(keyReleased.set(!1),get_store_value(players)[get_store_value(localPlayer).uuid].y>0&&players.update(n=>(n[get_store_value(localPlayer).uuid].y-=1,n))),r.keyCode===40&&(keyReleased.set(!1),get_store_value(players)[get_store_value(localPlayer).uuid].y*GRID_SIZE<get_store_value(currentRoom).dimensions.height*GRID_SIZE-60&&players.update(n=>(n[get_store_value(localPlayer).uuid].y+=1,n))),r.keyCode===37&&(keyReleased.set(!1),get_store_value(players)[get_store_value(localPlayer).uuid].x>0&&players.update(n=>(n[get_store_value(localPlayer).uuid].x-=1,n))),r.keyCode===39&&(keyReleased.set(!1),get_store_value(players)[get_store_value(localPlayer).uuid].x*GRID_SIZE<get_store_value(currentRoom).dimensions.width*GRID_SIZE-60&&players.update(n=>(n[get_store_value(localPlayer).uuid].x+=1,n))),moveTo(get_store_value(players)[get_store_value(localPlayer).uuid].x,get_store_value(players)[get_store_value(localPlayer).uuid].y,!0)},200)),document.addEventListener("keyup",r=>{keyReleased.set(!0)}),t()}),checkPortalOverlap=()=>{if(get_store_value(currentRoom).portals&&Array.isArray(get_store_value(currentRoom).portals)){let t=!1;get_store_value(currentRoom).portals.forEach(e=>{get_store_value(players)[get_store_value(localPlayer).uuid].x===e.x&&get_store_value(players)[get_store_value(localPlayer).uuid].y===e.y&&(t=e.targetArea._id)}),t?roomIntent.set(t):roomIntent.set(!1)}},checkObjectOverlap=()=>{if(get_store_value(currentRoom).objects&&Array.isArray(get_store_value(currentRoom).objects)){let t=!1;get_store_value(currentRoom).objects.forEach(e=>{inRange_1(get_store_value(players)[get_store_value(localPlayer).uuid].x,e.x,e.x+e.dimensions.width)&&inRange_1(get_store_value(players)[get_store_value(localPlayer).uuid].y,e.y,e.y+e.dimensions.height)&&(t=e._id)}),t?(console.log("OBJECT =>",t),objectIntent.set(t)):objectIntent.set(!1)}},checkZoneOverlap=()=>{let t=!1;get_store_value(currentRoom).zones.forEach(e=>{inRange_1(get_store_value(players)[get_store_value(localPlayer).uuid].x,e.x,e.x+e.dimensions.width)&&inRange_1(get_store_value(players)[get_store_value(localPlayer).uuid].y,e.y,e.y+e.dimensions.height)&&(t=e)}),t?activeZone.set(t):activeZone.set(!1)};export{initializeStreamsHandler as $,Arrow_down as A,Blocks as B,chatMessages as C,urlFor as D,get_1 as E,commonjsGlobal as F,GRID_SIZE as G,quartOut as H,getVideoId as I,urlForMainSite as J,dateTimeFormat as K,players as L,enterArticle as M,leaveArticle as N,renderBlockText as O,infoLogger as P,configureAuthClient as Q,errorLogger as R,STATE as S,buildWorld as T,loadAvatars as U,localPlayer as V,nanoid as W,getRandomInt as X,connectToGameServer as Y,initializeKeyboardHandler as Z,_arrayMap as _,activeCity as a,transitionWorldOut as a0,goToRoom as a1,transitionWorldIn as a2,moveTo as a3,roomIntent as a4,objectIntent as a5,submitChat as a6,worldObject as a7,streams as a8,activeZone as a9,checkPortalOverlap as aa,checkZoneOverlap as ab,checkObjectOverlap as ac,isAuthenticated as b,login as c,logout as d,playSound as e,fade as f,currentRoom as g,has_1 as h,inRange_1 as i,activeArticle as j,_root as k,loadDataFromMainSite as l,_baseGetTag as m,isLength_1 as n,isObjectLike_1 as o,profile as p,_freeGlobal as q,isArguments_1 as r,showLabels as s,trayOpen as t,uiState as u,_isIndex as v,isArray_1$1 as w,isFunction_1$2 as x,showGrid as y,scale as z};
